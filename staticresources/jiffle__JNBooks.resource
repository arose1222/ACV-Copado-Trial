!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=177)}([function(e,t){e.exports=function(e,t){var n=i18n.t(e,{label:t});return new Handlebars.SafeString(n)}},function(e,t){e.exports=function(e,t){return e&&e.toBoolean()?t.fn(this):t.inverse(this)}},function(e,t,n){e.exports=n(48).default},function(e,t,n){function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(i=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=n(45),d=n(46),m=0,f=null;"undefined"==typeof jiffle?(window.jiffle={},"undefined"!=typeof JNBookMeeting?(jiffle.JNBookMeeting=JNBookMeeting,jiffleSFObj="JNBookMeeting"):"undefined"!=typeof JNEventMeetingList&&(jiffle.JNEventMeetingList=JNEventMeetingList,jiffleSFObj="JNEventMeetingList")):jiffle.hasOwnProperty("JNEventMeetingList")?jiffleSFObj="JNEventMeetingList":jiffle.hasOwnProperty("JNBookMeeting")&&(jiffleSFObj="JNBookMeeting"),$(document).ready(function(){$("#cover").fadeIn(),$.urlParam=function(e,t){var n=t||window.location.href,i=new RegExp("[?&]"+e+"=([^&#]*)").exec(n);return null==i?"":i[1]||0},f=$.urlParam("current_location_uuid"),$(window).on("load",function(){$("#cover").fadeIn()});var e=p.fetch({url:p.ENDPOINTS.get_nav_header});e.then(function(e){var t=h(e.data.links);$("#sfdc_navbar_set").remove(),!$(".navbar-set-wrapper").length&&$("#sf-jiffle-now").prepend(t)}),e.catch(function(e){this.showError(e)}.bind(this)),window.navigateToZenDesk=function(){p.fetch({url:u.get_zendesk_url}).then(function(e){window.open(e.data.redirect_url,"_blank")}).catch(function(e){return console.log("Failed to get zendesk url")})},window.isSFDC=function(){return void 0!==window.jiffle}});var h=function(e){return'<nav class="navbar navbar-set" role="navigation" id="sfdc_navbar_set">\n  <div class="container-fluid">\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#user_manage">\n        <span class="sr-only" data-i18n="toggle_navigation"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n    </div>\n    <div class="collapse navbar-collapse" id="user_manage">\n      <ul class="nav navbar-nav navbar-set-main">\n        <li>\n          <a class="js-event-display-name" href="javascript:void(0)"></a>\n        </li>\n        '.concat(e.map(function(e){return'<li class="'.concat(e.name,'"><a href="').concat(e.url,'">').concat(e.name,"</a></li>")}).join(",").replace(/,/g,""),'\n      </ul>\n      <ul class="nav navbar-nav navbar-right inline-nav">\n            <li>\n              <p class="navbar-text" id="time_zone_display_name"></p>\n            </li>\n            <li>\n              <a class="icon-box" data-toggle="tooltip" data-placement="bottom" data-tool-tip-i18n="navbar_help" data-original-title="zendesk" onclick="window.navigateToZenDesk()" title="">\n                <i class="jif-question"></i>\n              </a>            \n            </li>\n        </ul>\n    </div>\n  </div>\n</nav>')},p={ENDPOINTS:u,update:function(e){var t=this;e.data&&e.data.constructor===FormData?e.data.append("current_location_uuid",envDetails.current_location_uuid||f):_.merge(e,{data:{current_location_uuid:envDetails.current_location_uuid||f}}),e.sectionLoader&&this.setPageLoader(e);var n=new Promise(function(t,n){m++,/^https?/.test(e.url)?e.sfdc_method?p.parseUrlMethod(e,t,n):(envDetails.startPageLoader&&$("#cover").fadeIn(),p.makeJNCall("doJNPost",JSON.stringify(e),t,n)):p.parseUrlMethod(e,t,n)});return n.then(function(n,i){m--,!envDetails.startPageLoader&&t.UiActionsOnUpdate(e),m||$("#cover").fadeOut()}),n[n.fail?"fail":"catch"](function(n){m--,!envDetails.startPageLoader&&t.UiActionsOnUpdate(e),m||$("#cover").fadeOut()}),n},replaceUrlParams:function(){var e=_.cloneDeep(arguments[0]);for("object"!==c(e)&&(e={url:e}),i=1;i<arguments.length;i++)e.url=e.url.replace(arguments[i][0],arguments[i][1]);return e},fetch:function(e){_.merge(e,{data:{current_location_uuid:envDetails.current_location_uuid||f}});var t=new Promise(function(t,n){m++,envDetails.startPageLoader&&$("#cover").fadeIn(),"object"===c(e.url)&&(e.url=e.url.url),e.url&&e.url.includes("/domains/validate")&&(e.url="/portal/domains/validate"),p.parseUrlMethod(e,t,n)});return t.then(function(e){0===--m&&window.setTimeout(function(){0===m&&$("#cover").fadeOut()},500)}),t[t.fail?"fail":"catch"](function(e){0===--m&&$("#cover").fadeOut()}),t},parseUrlMethod:function(e,t,n){var i="";$.isEmptyObject(e.data)||(i="SFDC"===e.url||"/fetch_sfdc_contacts_fields"===e.url?e.data:$.param({api_params:e.data}),"/user/create"!==e.url&&"/group_nomination/can_attend"!==e.url&&"/sync_att_to_sfdc"!==e.url&&"/portal/consent.json"!==e.url||(i=JSON.stringify({api_params:e.data}))),e.prefix&&(e.url=e.prefix+e.url);var a={queryStr:i,url:e.url,eventName:e.url.includes("/portal")?"":$.urlParam("eventName")},o=_.invert(p.ENDPOINTS)[e.url]||e.sfdc_method,l=d[o]||{},s=l.sfdcMethod||"callJNMethod",r=l.params?l.params(e):{},c=_.assign(a,r),u=l.callback;p.makeJNCall(s,c,t,n,u)},makeJNCall:function(e,t,n,i,a){jiffle[jiffleSFObj][e](t,function(e,t){p.handleSessionExpiry(t);var o={responseJSON:{}};"string"!=typeof e&&(e=JSON.stringify(e));var l=JSON.parse(_.unescape(e));200===t.statusCode?(void 0!==a&&l.data&&(l=a(l)),l.status||l.success?200===l.status||l.success?n(l):(o.responseJSON=l,i(o)):l.error&&!_.isEmpty(l.error)?(o.responseJSON=l,i(o)):n(l)):(o.responseJSON=l,i(l))})},hasSessionExpired:function(e){return"exception"===e.type&&e.message&&-1!=e.message.indexOf("Logged in?")},handleSessionExpiry:function(e){var t=function(){return window.location.reload()};p.hasSessionExpired(e)&&(setTimeout(t,3e3),$(".notification-modal").notificationModal({class:"red",title:"Information",body:"You have been logged out",dismiss:t}))},sfdcHandler:{meetingInit:function(e){var t=p.fetch({url:p.ENDPOINTS.event_env_details});t.then(function(t){window.envDetails={},envDetails.event=t.data.event,envDetails.currentMeetingUuid=t.data.new_meeting_uuid,envDetails.canShowAttachmentsField=!1,envDetails.currentUser=t.data.current_user,envDetails.current_location=t.data.current_location,envDetails.current_location_uuid=t.data.current_location_uuid||f,envDetails.isCSM=function(){return t.data.isCSM},envDetails.isMeetingManager=function(){return t.data.isMeetingManager},envDetails.isEBCEvent=function(){return t.data.isEBCEvent},envDetails.isJuniorMM=function(){return t.data.isJuniorMM},envDetails.isQueueManager=function(){return t.data.isQueueManager},envDetails.isActivityManager=function(){return t.data.isActivityManager},envDetails.isExecutiveAdmin=function(){return t.data.isExecutiveAdmin},window.isEBCEvent=t.data.isEBCEvent,window.event_home_page=!1,this.displayEventName(),this.fetchMeetingActivities(e)}.bind(this)),t.catch(function(e){this.showError(e)}.bind(this))},fetchMeetingActivities:function(e){var t="";$.urlParam("accid")?t="accFlow":$.urlParam("lead_ids")&&(t="leadFlow"),p.fetch({url:p.ENDPOINTS.fetch_activities,data:{source:t}}).then(function(t){window.activties_attributes=t.data.meeting_types,"function"==typeof e&&e()})},bookMeetingInit:function(e,t){meetingInfo={account_id:"",requestors:[],externalAttendees:{},selectedRequestor:"",domain_validate_url:"",request:{mode:"new",meeting_with:"",custom_fields:{},showCancel:!1}},envDetails={companyName:"",currentManagedUser:"",currentUser:{first_name:"",last_name:""},isConsecutiveMeeting:window.envDetails.isConsecutiveMeeting};var n={activity_uuid:$.urlParam("activity_uuid"),topic_uuid:$.urlParam("topic_uuid")},i=$.urlParam("uuid");i&&(n.uuid=i),$.urlParam("session_uuid")&&(n.session_uuid=$.urlParam("session_uuid")),$.urlParam("track_uuid")&&(n.track_uuid=$.urlParam("track_uuid"));var a=p.fetch({url:e.url,data:n});a.then(function(n){var a=n;a.hasOwnProperty("data")&&(a=a.data),n.data.current_user.consent_given?($("#sf-jiffle-now").removeClass("hide"),meetingInfo.requestors=a.requestors,meetingInfo.selected_requestor=a.selected_requestor,meetingInfo.domainValidateUrl=a.domain_validate_url,meetingInfo.meetingUUID=i,window.envDetails.isConsecutiveMeeting?meetingInfo.request=$.extend(meetingInfo.request,a.consecutive_meeting):meetingInfo.request=$.extend(meetingInfo.request,a.meeting||a.nomination||a.meeting_request),meetingInfo.request.topic_management=n.data.topic,window.meetingInfo.request.view_in_timezone=a.meeting&&(a.meeting.view_in_timezone||a.meeting.view_in_timezone_info),meetingInfo.request.primaryTimezoneInfo="new"===e.mode?a.primaryTimezoneInfo:a.meeting?a.meeting.primaryTimezoneInfo:void 0,window.actions_on_behalf=a.actions_on_behalf,window.isEBCEvent=n.data.isEBCEvent||!1,window.isOngoingSales=n.data.isOngoingSales||!1,window.selectedActivityUuid=$.urlParam("activity_uuid")||n.data.selectedActivityUuid,envDetails.currentMeetingUuid=n.data.new_meeting_uuid,envDetails.canShowAttachmentsField=!1,"edit"===e.mode||"new"===e.mode&&i?(meetingInfo.request.mode=a.mode||"new",meetingInfo.request.showCancel=a.show_cancel_meeting,window.envDetails.isConsecutiveMeeting?(meetingInfo.request.requestor,envDetails.consecutive_meeting_uuid=a.consecutive_meeting_uuid,envDetails.currentMeetingUuid=a.consecutive_meeting_uuid,meetingInfo.request.end_time="",meetingInfo.request.start_time=""):("new"===e.mode&&i?(meetingInfo.request.end_time="",meetingInfo.request.start_time=""):(meetingInfo.request.end_time=moment(meetingInfo.request.end_time).utc().format("DD-MM-YYYY HH:mm"),meetingInfo.request.start_time=moment(meetingInfo.request.start_time).utc().format("DD-MM-YYYY HH:mm")),envDetails.currentMeetingUuid=meetingInfo.request.uuid)):"view"===e.mode&&(meetingInfo.request.mode="view",envDetails.currentMeetingUuid=meetingInfo.request.uuid,meetingInfo.request.end_time=moment(meetingInfo.request.end_time).utc().format("DD-MM-YYYY HH:mm"),meetingInfo.request.start_time=moment(meetingInfo.request.start_time).utc().format("DD-MM-YYYY HH:mm")),envDetails.currentManagedUser=a.current_managed_user,envDetails.currentUser=a.current_user,envDetails.role_uuid=a.role_uuid,envDetails.companyName=a.event.company_display_name,envDetails.event=a.event,envDetails.current_location=a.current_location,envDetails.current_location_uuid=a.current_location_uuid||f,envDetails.enable_meeting_host=a.enable_meeting_host,envDetails.meeting_host_label=a.meeting_host_label,envDetails.assign_requestors_as_meeting_host_by_default=a.assign_requestors_as_meeting_host_by_default,envDetails.assign_mapped_user_as_meeting_host_by_default=a.assign_mapped_user_as_meeting_host_by_default,envDetails.allow_requestors_to_unassign_meeting_host=a.allow_requestors_to_unassign_meeting_host,envDetails.activityUuid=a.activityUuid,envDetails.meeting_type_label=a.meeting_type_label,envDetails.enableVconLink=a.vcon_link_enabled,envDetails.isExecutiveAdmin=function(){return a.isExecutiveAdmin},envDetails.isMeetingManager=function(){return a.isMeetingManager},envDetails.isQueueManager=function(){return a.isQueueManager},envDetails.isCSM=function(){return a.isCSM},envDetails.isJuniorMM=function(){return a.isJuniorMM},envDetails.current_location.time_zone_display_name&&$("#sfdc_navbar_set #time_zone_display_name").text(envDetails.current_location.time_zone_display_name),rails_to_html={activity_name:n.data.selectedActivityName||"",topic_config:{topic_management_enabled:a.topic_management_enabled||!1}},briefing_uuid=a.briefing_uuid||void 0,mappingEnabled=a.mappingEnabled||!1,envDetails.syncContactsToSfdc=a.syncContactsToSfdc||!1,envDetails.syncContactsToSfdcOpportunity=a.syncContactsToSfdcOpportunity||!1,envDetails.syncLeadsToSfdc=a.syncLeadsToSfdc||!1,envDetails.hideOpportunityInAccountsFlow=a.hideOpportunityInAccountsFlow||!1,envDetails.hideOpportunityInJNMeetingFlow=a.hideOpportunityInJNMeetingFlow||!1,envDetails.showJifflenowExternalAttendees=a.showAllExternalAttendees||a.showRegisteredExternalAttendees||!1,envDetails.topicManagementEnabled=a.topic_management_enabled||!1,envDetails.topicRoomMappingEnabled=a.topic_room_mapping_enabled||!1,envDetails.topicUserMappingEnabled=a.topic_user_mapping_enabled||!1,envDetails.topicActivitiesMappingEnabled=a.topic_activities_mapping_enabled||!1,envDetails.allowUserToAddNewExternalAttendee=a.allowUserToAddNewExternalAttendee||!1,envDetails.allowRequestorToAddInternalAttendee=a.allowRequestorToAddInternalAttendee||!1,envDetails.canUserChangeSelfAttendance=a.can_user_change_self_attendance||!1,envDetails.briefingAndMeetingRequestorSame=a.briefingAndMeetingRequestorSame,envDetails.capture_consent=a.capture_consent,envDetails.consent_mandatory=a.consent_mandatory,envDetails.add_user_consent_message=a.add_user_consent_message,envDetails.can_edit_time=a.can_edit_briefing_meeting_time,envDetails.isMeetingTypeVirtualAndFullDay=a.full_day_meeting_type_availability_enabled,envDetails.showOtherTimezonesAtCalendar=a.view_calendar_in_other_timezone_enabled,bam_uuid=a.bam_uuid,window.masterMeetingType=a.meeting_type_master,window.bookSession=a.book_session,window.TRACK_AND_SESSION=a.TRACK_AND_SESSION,window.nominationInfo=meetingInfo,window.mapping_module=!1,window.selectedActivityName=n.data.selectedActivityName,envDetails.sfdcCustomLabels=n.data.sfdc_custom_labels,window.session_uuid=n.data.session_uuid||void 0,window.track_uuid=n.data.track_uuid||void 0,window.topic_uuid=n.data.topic&&n.data.topic.uuid||void 0,this.displayEventName(),this.displayConsentCheck(a),this.mergeExternalAttendeesInfoFromSF().then(function(){return t()})):this.showConsentForm(n.data)}.bind(this)),a.catch(function(e){this.showError(e)}.bind(this))},displayConsentCheck:function(){var e=$(".js-termsandcondition");envDetails.capture_consent&&e.removeClass("hide"),envDetails.consent_mandatory&&e.addClass("required"),envDetails.add_user_consent_message&&e.find("label.add_user_consent_message").html(envDetails.add_user_consent_message)},displayEventName:function(){$(".js-event-display-name").text(envDetails.event.name)},fetchLeadDetails:function(){var e=unescape($.urlParam("lead_ids")).split(","),t=this.fetchLeadsDetailsFromSF(e);return t.then(function(e){meetingInfo.request.users={internal:[],external:e.data.items}}),t},fetchContactDetails:function(){var e=$.urlParam("accid"),t=$.urlParam("contactid"),n=this.fetchContactsDetailsFromSF({contactIds:[t],accountId:e});return n.then(function(e){meetingInfo.request.users={internal:[],external:e.data.items}}),n},EventInit:function(e){var t=p.fetch({url:p.ENDPOINTS.user_info});t.then(function(t){t.data.current_user.consent_given?($("#sf-jiffle-now").removeClass("hide"),window.envDetails={},window.isEBCEvent=t.data.isEBCEvent||!1,envDetails.currentUser=t.data.current_user,envDetails.isCSM=function(){return t.data.isCSM},envDetails.isMeetingManager=function(){return t.data.isMeetingManager},envDetails.isAccountManager=function(){return t.data.isAccountManager},envDetails.hasAnyEvents=t.data.hasAnyEvents,envDetails.hasEbcEvents=t.data.hasEbcEvents,envDetails.hasJfxEvents=t.data.hasJfxEvents,t.data.timeZoneDisplayName&&(envDetails.timeZoneDisplayName=t.data.timeZoneDisplayName,$("#sfdc_navbar_set #time_zone_display_name").text(t.data.timeZoneDisplayName)),_.isEmpty($.urlParam("lead_ids"))&&"leadFlow"!==$.urlParam("source")?e():this.validateLeads(e)):this.showConsentForm(t.data)}.bind(this)),t.catch(function(e){this.showError(e)}.bind(this))},validateLeads:function(e){p.fetch({url:p.ENDPOINTS.validate_leads,data:{leadIds:unescape($.urlParam("lead_ids")).split(",")}}).then(function(t){t.data.is_valid?e():$(".notification-modal").notificationModal({class:"red",title:"Information",body:t.data.message,dismiss:function(){commons.redirectPage(t.data.redirect_url)}})})},showConsentForm:function(e){$("#sf-jiffle-consent").removeClass("hide"),n(47)(e)},showError:function(e){var t=[];t=e.responseJSON.error&&"string"==typeof e.responseJSON.error?[e.responseJSON.error]:_.flatten(_.values(e.responseJSON.errors)),$(".notification-modal").notificationModal({class:"red",timeout:!0,title:"Information",body:t.join(", ")}),$("#cover").fadeOut()},mergeExternalAttendeesInfoFromSF:function(){var e=this,t=window.meetingInfo.request,n=t.users||{};return new Promise(function(i,a){n.external&&n.external.length?_.isEmpty(t.custom_fields&&t.custom_fields.meeting_lead_id)?e.mergeContacts().then(function(){return i()}):e.mergeLeads().then(function(){return i()}):i()})},mergeContacts:function(){var e=this,t=this.getContactIds(),n=window.meetingInfo.request;return new Promise(function(i,a){t.length?e.fetchContactsDetailsFromSF({contactIds:t,accountID:n.custom_fields&&n.custom_fields.meeting_account_id}).then(function(t){return e.mergeExtAttWithInfoFromSF(t.data.items)}).then(function(){return i()}):i()})},mergeLeads:function(){var e=this,t=this.getLeadIds();return new Promise(function(n,i){t.length?e.fetchLeadsDetailsFromSF(t).then(function(t){return e.mergeExtAttWithInfoFromSF(t.data.items)}).then(function(){return n()}):n()})},fetchLeadsDetailsFromSF:function(e){return p.fetch({url:p.ENDPOINTS.lead_details,data:{leadIds:e}})},fetchContactsDetailsFromSF:function(e){var t=e.contactIds,n=e.accountID;return p.fetch({url:p.ENDPOINTS.fetch_contacts,data:{contactIds:t,account_id:n}})},mergeExtAttWithInfoFromSF:function(e){return new Promise(function(t,n){var i=_.groupBy(e,"email"),a=window.meetingInfo.request.users.external;window.meetingInfo.request.users.external=a.map(function(e){var t=i[e.email];return t&&(e=s(s({},e),t[0])),e}),t()})},getLeadIds:function(){return this.getContOrLeadIds("sfdc_lead_id")},getContactIds:function(){return this.getContOrLeadIds("sfdc_contact_id")},getContOrLeadIds:function(e){return window.meetingInfo.request.users.external.map(function(t){return t.meta_info&&t.meta_info[e]}).filter(function(e){return void 0!==e})}},getQueryUrlParams:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object.create(null);if("string"!=typeof e||0===e.length)return Object.freeze(t);var n=e.replace(/^\?/,""),i=n.split("&"),o=/\+/g;return i.forEach(function(e){var n=a(e.replace(o,"%20").split("=").map(window.decodeURIComponent),2),i=n[0],l=n[1];Object.prototype.hasOwnProperty.call(t,i)?Array.isArray(t[i])?t[i].push(l):t[i]=[t[i],l]:t[i]=l}),Object.freeze(t)},updateURI:function(e){return window.sfdcNameSpace&&((e=e.split("/"))[2]="".concat(window.sfdcNameSpace).concat(e[2]),e=e.join("/")),window.isLightningExperience()?"/one/one.app#/alohaRedirect".concat(e):e},setPageLoader:function(e){e.url;var t=e.sectionLoader,n=e.btnsToDisable;envDetails.startPageLoader=!1,this.toggleSectionLoader(t,!1),this.disableWhileFetchingData(!0,n)},UiActionsOnUpdate:function(e){var t=e.sectionLoader,n=e.btnsToDisable;this.toggleSectionLoader(t,!0),this.disableWhileFetchingData(!1,n)},toggleSectionLoader:function(e,t){$(e)[t?"addClass":"removeClass"]("hide")},disableWhileFetchingData:function(e,t){$(t).prop("disabled",e)}};e.exports=p},function(e,t){e.exports=function(e,t){return e&&e.toBoolean()||_.isUndefined(e)?t.inverse(this):t.fn(this)}},function(e,t){e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0;return(e=e.constructor===String?e.toLowerCase():e)===(t=t.constructor===String?t.toLowerCase():t)?n.fn(this):n.inverse(this)}},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0,t.extend=r,t.indexOf=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},t.escapeExpression=function(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}if(!l.test(e))return e;return e.replace(o,s)},t.isEmpty=function(e){return!e&&0!==e||!(!d(e)||0!==e.length)},t.createFrame=function(e){var t=r({},e);return t._parent=e,t},t.blockParams=function(e,t){return e.path=t,e},t.appendContextPath=function(e,t){return(e?e+".":"")+t};var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},o=/[&<>"'`=]/g,l=/[&<>"'`=]/;function s(e){return a[e]}function r(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}var c=Object.prototype.toString;t.toString=c;var u=function(e){return"function"==typeof e};u(/x/)&&(t.isFunction=u=function(e){return"function"==typeof e&&"[object Function]"===c.call(e)}),t.isFunction=u;var d=Array.isArray||function(e){return!(!e||"object"!==i(e))&&"[object Array]"===c.call(e)};t.isArray=d},function(e,t,n){"use strict";t.__esModule=!0;var i=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function a(e,t){var n=t&&t.loc,o=void 0,l=void 0,s=void 0,r=void 0;n&&(o=n.start.line,l=n.end.line,s=n.start.column,r=n.end.column,e+=" - "+o+":"+s);for(var c=Error.prototype.constructor.call(this,e),u=0;u<i.length;u++)this[i[u]]=c[i[u]];Error.captureStackTrace&&Error.captureStackTrace(this,a);try{n&&(this.lineNumber=o,this.endLineNumber=l,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:r,enumerable:!0})):(this.column=s,this.endColumn=r))}catch(e){}}a.prototype=new Error,t.default=a,e.exports=t.default},function(e,t){var n=Reflux.createActions(["createMeeting","editMeeting","rescheduleMeeting","updateAreYouAttending","meetingAction","getCustomForm","showHideRequestorsDropdown","checkDoubleBookedStatus","reinviteAttendee","setOffsiteLabel","fetchSfdcCustomForm","behalfOfMeetingAction","fetchRequestors","getQuickMeetingConfig","getActivityDetails","fetchRelatedTopics","resetAttendeesAndRooms","triggerSurveyMails","prepareExtpers","fetchMeetingInfo","initiateNewMeeting","initiateNewMeetingCustomForm","changeTopicValues","setFormComponent","topicChange","redirectPage","getApprovalToSendIcs","validateMeeting","updateCustomFields","getOnBehalfActions","updateInviteeHash","getBoothTourLocationUuids","fetchVaildStartTimesForMeeting","updateSurveyType","updateIntegrationData","updateMeetingModel","fetchCustomLabels","topicChangeRefeshAttendeesAndRoomsList","checkNonRetainedResources","topicChangeRetainResources","updateMeetingPartially","fetchTopicsForEBCMeeting","deleteLocationPreferenceProposal","rejectLocationPreferenceProposal","setSelectedVConInStore","removeAttendee"]);e.exports=n},function(e,t){var n=Reflux.createActions(["activitySelected","updateSelectedAttendees","updateSelectedRoom","updateSelectedTime","updateConsecutiveMeetings","submitConsecutiveMeetings","showMeetingTypes","validateCurrentMeetingProgress","editCurrentMeeting","discardCurrentMeeting","checkDoubleBookedStatus","setMeetingTypeSettings","setTopicSettings","getConsecutiveMeetingDetails","cancelCurrentMeeting","approveConsecutiveMeetings","cancelConsecutiveMeetings","updateCurrentMeetingStatus"]);e.exports=n},function(e,t,n){var i=n(9),a=n(12),o=n(35),l=n(29),s=n(8),r=n(34),c=n(94),u=n(138),d=n(181),m=n(182),f=n(183),h=n(184),p=n(185),g=n(186),v=n(187),y=n(17),b=Reflux.createStore({init:function(){this.consecutiveMeetings=[],this.removedMeetings=[],this.currMeetingInProgress={},this.impactedMeetingsWhileOverride={},this.formComponent=null,this.requestor=null,this.externalOverRidedPopupValue=!1,this.activities=window.activties_attributes||[],this.consecutiveMeetingActionUrls={},envDetails.isConsecutiveMeeting&&(this.listenTo(s.setFormComponent,this.setFormComponent),this.listenTo(s.topicChange,this.onCurrMeetingTopicChange),this.listenTo(s.updateInviteeHash,this.updateCurrMeetingInviteStatus),this.listenTo(s.updateAreYouAttending,this.updateSelfAttendance),this.listenTo(s.updateCustomFields,this.initFetchMeetingDetails),this.listenTo(a.updatePersistRequestorAsHost,this.onUpdatePersistRequestorAsHost),this.listenToMany(i))},mixins:[d,m,f,h,p,g,v],setFormComponent:function(e){this.formComponent=e},setCurrentMeetingInProgress:function(){this.currMeetingInProgress={}},getCurrentMeetingInProgress:function(){return this.currMeetingInProgress},getConsecutiveMeetings:function(){return this.consecutiveMeetings},getMeeting:function(e){return this.consecutiveMeetings.filter(function(t){return t.uuid===e})[0]||{}},setEditCurrentMeetingField:function(e){this.consecutiveMeetings=this.consecutiveMeetings.map(function(t){return t.uuid===e&&(t.editingExistingMeeting=!0),t})},initFetchMeetingDetails:function(){this.trigger({type:"initFetchMeetingDetails"})},setMeetingRequestor:function(e){this.requestor=e},setOverRidedFlagForMeetings:function(e){var t={};_.map(this.consecutiveMeetings,function(e){t[e.uuid]=e}),_.map(this.impactedMeetingsWhileOverride,function(n){t[n.uuid].isMeetingOverride=e})},onActivitySelected:function(e,t){this.clearCurrentMeeting();var n=this.getNewMeetingInstance(e,t);this.consecutiveMeetings.push(n),this.setUpMeetingState(n,this.getMeetingIndex(n)),this.fillMeetingOptions(n)},clearCurrentMeeting:function(){var e=this.currMeetingInProgress.uuid,t=void 0===e?"":e;_.remove(this.consecutiveMeetings,function(e){return e.uuid===t})},updateOtherModules:function(e,t){var n=_.cloneDeep(t);meetingInfo.request.uuid=n.isNew?null:n.uuid,c.setOptions({meetingRequestUuid:meetingInfo.request.uuid}),"-"===e?s.updateMeetingModel(e,n):(s.initiateNewMeeting(e,n),l.initiateNewMeeting(e,n),"view"!==window.mode&&(r.initiateNewMeeting(e,n),a.initiateNewMeeting(e,n),o.initiateNewMeeting(e,n)))},onCheckDoubleBookedStatus:function(e){this.validateDates()?s.checkDoubleBookedStatus(e,{meetings:JSON.stringify(this.getDoubleBookedParams())}):this.trigger({type:"invalidDates"})},unselectAttendee:function(e,t){var n,i=i18n.t("invalid_room_other_meeting"),o=_.head(t.invalidMeetings);n=!o||o.isNew?i18n.t("invalid_room_other_meeting_msg_in_new"):i18n.t("invalid_room_other_meeting_msg_in_edit",{id:o.id}),a.unselectAttendee(e,{silent:!1,title:i,message:n})},getNewMeetingInstance:function(e,t){var n=new u;n.meetingType={name:t,uuid:e},n.activityName=t;var i=[],a=_.head(this.consecutiveMeetings);return a&&a.external instanceof Array&&(i=_.cloneDeep(a.external)),n.internal=[],n.external=i,n},updateMeetingsQueue:function(e){var t=this.getMeetingIndex(this.currMeetingInProgress.uuid);if(-1!==t){var n=_.assign(this.currMeetingInProgress,_.cloneDeep(e));this.setCurrentMeeting(n),this.updateSFDCValues(),this.consecutiveMeetings[t]=this.currMeetingInProgress,this.updateCurrentMeetingDisplay(t)}},updateSFDCValues:function(){void 0!==window.jiffle&&(this.currMeetingInProgress.account.acc=y.getSelectedAccount(),this.currMeetingInProgress.account.oppty=y.getSelectedOppty())},updateCurrentMeeting:function(){var e=this.getMeetingIndex(this.currMeetingInProgress.uuid);this.updateCurrentMeetingDisplay(e)},updateAttendeesForOtherMeetings:function(e){var t=[];envDetails.currentUser.uuid;e.external instanceof Array&&(t=_.cloneDeep(e.external)),this.consecutiveMeetings.forEach(function(e){e.active&&(e.external=t)})},updateAttendeesForOtherMeetingsSFDC:function(e){var t=[],n=!1;this.consecutiveMeetings[0].external&&(this.consecutiveMeetings[0].external.forEach(function(t){t.uuid.includes("dummy_")&&e.filter(function(e){return e.email===t.email})[0]&&(t.uuid=e.filter(function(e){return e.email===t.email})[0].uuid,n=!0)}),t=this.consecutiveMeetings[0].external),n&&(this.consecutiveMeetings.forEach(function(e){e.active&&(e.external=t)}),meetingInfo.request.users&&(meetingInfo.request.users.external=t))},getIcsConfirmationMsg:function(){var e=_.map(this.consecutiveMeetings,"status");return _.includes(e,"approved")?"send_ics_body_message":"send_ics_internal_body_message"},isDeclineCommentEnabled:function(e){var t=this.currMeetingInProgress,n=t.inviteOptions,i=t.external.map(function(e){return e.uuid}),a=!1,o=!1;return n&&("yes"===n.decline_comments_enabled&&(a=!0),window.envDetails.isConsecutiveMeeting&&n.show_options_for_external&&e&&-1!==i.indexOf(e)&&(a=o="yes"===n.show_options_for_external)),{enabled:a,showOnlyOthers:o}}});e.exports=b},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function o(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){c(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=n(8),d=n(3),m=n(29),f=n(13),h=n(14).AttendeeStore,p=n(12),g=n(14).AddEditAttendeeStore,v=n(17),y=n(35),b=n(9),w=n(139),M=n(64),x=n(30).BriefingRequestStore,C=n(140),D=n(188),k=n(189),S=n(141),A=n(15),T=n(84),E=n(16),I=$("#submitButton"),O=$("#quick_submit_btn"),P=window,j=P.envDetails,q=P.meetingInfo,R=(P.isOngoingSales,P.mappingEnabled),N=n(18),F=n(24).convertMinutesToReadable,U=n(37).CalendarAvailabilityStore,L=n(10).getCurrentMeetingInProgress,Y=Reflux.createStore({init:function(){this.offsiteLabel=i18n.t("offsite"),this.model={room:{uuid:""},external:[],internal:[],event:null,attendingMeetingStatus:null,account:{is_changed:!0,acc:{id:"",name:""},oppty:{id:"",name:""}},location_preference:q.request&&q.request.location_preference||"",integrations:{},newCreatedUsers:[],vcon:{},vconIntegrations:[],selectedVconIntegration:null,isAnyIntegrationEnabledWithAlternateHost:!1,proposedData:{active:!1,data:{}}},this.editProposalOnDemand=!1,this.validStartTimes=[],this.topicDirtyFlag=!1,this.activitySettings={},this.customFormLabels={},this.customLabels={},this.listenTo(C,this.expertStoreSelection),this.listenTo(f.MeetingStore,this.onMeetingTypeChanged),this.listenTo(h,this.attendeeStoreSelection),this.listenTo(g,this.attendeeStoreSelection),this.listenTo(y.eventCreated,this.onEventCreated),this.listenTo(u.createMeeting,this.createSingleMeeting),this.listenTo(u.rescheduleMeeting,this.rescheduleSingleMeeting),this.listenTo(u.removeAttendee,this.removeAttendeeFromMeeting),this.listenTo(v,this.onAccountOpptySelected),this.listenTo(w.updateCalendar,this.onOngoingSalesMeetingDateChanged),this.listenTo(M.updateCalendar,this.onOngoingSalesMeetingDateChanged),this.listenTo(S,this.setParticipation),this.listenToMany(u),this.survey_type="",this.mstConfigs={},this.meetingInfoTouched={meeting_with_touch:!1,duration_touch:!1},this.vconMeetingInfoToCompareChanges={},this.isMeetingUpdateInProgress=!1,this.nonRetainedResources={users:[],rooms:[]},this.onDemandFirstPageLoaded=!1,this.isMascalOrigin="cal"===$.urlParam("source"),this.viewInTimezoneInfo={time:null,timezone:null},this.primaryTimezoneInfo={time:null,timezone:null}},mixins:[D,k,T],updateMeetingTime:function(e){this.model.proposedData.active||(this.model.event=e)},onGetQuickMeetingConfig:function(){d.fetch({url:d.ENDPOINTS.system_configurations,data:{basic_info:!0}}).then(function(e){this.trigger({action:"onGetQuickMeetingConfig",payload:e.data})}.bind(this))},onUpdateSurveyType:function(e){this.survey_type=e},setParticipation:function(e){if("setParticipationTime"===e.action){var t=_.find(this.model.internal,{uuid:e.data.uuid});t&&(t.partial_start_time=e.data.startTime,t.partial_end_time=e.data.endTime)}},showPartialParticipation:function(){return q.request&&"new"===q.request.mode&&!window.envDetails.isConsecutiveMeeting},setValidStartTimeForMeeting:function(e){this.validStartTimes=e},getValidStartTimesForMeeting:function(){return this.validStartTimes},onFetchVaildStartTimesForMeeting:function(e){var t="-"===$("#topic_management").val()?"":$("#topic_management").val(),n={activity_uuid:window.selectedActivityUuid,topic_uuid:t,room_uuid:this.model.room.uuid,user_uuids:_.map(this.model.internal.concat(this.model.external),"uuid"),time_zone:N.getTimeZoneId("primaryTimeZone")};e&&(n.event_date=moment(e).format("DD-MM-YYYY")),d.fetch({url:d.ENDPOINTS.fetch_valid_mapping_Times,data:n}).then(function(e){this.setValidStartTimeForMeeting(e.data)}.bind(this))},onGetActivityDetails:function(){d.fetch({url:d.ENDPOINTS.activity_details.replace("{uuid}",window.selectedActivityUuid)}).then(function(e){this.trigger({action:"onGetActivityDetails",payload:e.data})}.bind(this))},onInitiateNewMeeting:function(e,t){this.onUpdateMeetingModel(e,t),u.initiateNewMeetingCustomForm(e),this.trigger({action:"initiateNewMeeting",payload:{activity:e,model:t}}),this.updateTimeRoom(),t.isNew&&this.updateAttendees()},onUpdateMeetingModel:function(e,t){var n=this.model.requestorName;this.model=_.assign({},t,{requestorName:n}),window.selectedActivityUuid=e},callShowAvailableRooms:function(){var e=this.getAttendeeCount();f.MeetingStore.showAvailableRooms(e)},updateTimeRoom:function(){this.callShowAvailableRooms();var e=this.model.room,t=this.model.meetingType;t.display_name=e.offsite_name,this.trigger({action:"onEventCreated",payload:{event:this.model.event}}),this.model.activitySettings&&this.model.activitySettings.booth_tour_label&&(e.booth_tour_display_name=this.model.activitySettings.booth_tour_label),this.trigger({action:"onRoomChosen",payload:{type:t,room:e,offsite:e.offsite,isBoothTour:e.isBoothTour}})},renderTimeRoomAttendee:function(){var e=this.model.room,t=this.model.meetingType;this.trigger({action:"onEventCreated",payload:{event:this.model.event}}),this.trigger({action:"onRoomChosen",payload:{type:t,room:e,offsite:e.offsite,isBoothTour:e.isBoothTour}}),this.updateAttendees()},updateAttendees:function(){this.trigger({action:"onAttendeeSelected",payload:{internalAttendee:this.model.internal,externalAttendee:this.model.external,validInternalAttendees:this.getAttendees("internal",this.model),validExternalAttendees:this.getAttendees("external",this.model),totalCount:this.getAttendeeCount()}})},onChangeTopicValues:function(e,t){this.trigger({action:"onChangeTopicValues",payload:e})},onFetchRequestors:function(e,t,n){var i=d.fetch({url:d.ENDPOINTS.mappable_requestors,data:_.assign(e.data,{activity_uuid:"-"===window.selectedActivityUuid?e.data.activity_id:window.selectedActivityUuid,external_request_uuid:q.external_request_uuid})});return i.then(t),i[i.fail?"fail":"catch"](n),i},onSetOffsiteLabel:function(e){this.offsiteLabel=e},onOngoingSalesMeetingDateChanged:function(e){this.model.dateToFetch=e,y.updateCalendar.trigger(this.model)},onMeetingAction:function(e,t,n,i,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};a=a||this;var l={url:e,data:r({source_meeting_uuid:q.request.uuid},o)};"put"===t&&(l.type="PUT");var s=d.update(l);s.then(function(e){this.trigger({action:n,payload:e})}.bind(a)),s[s.fail?"fail":"catch"](function(e){var t="undefined"!=typeof jiffle?e:e.responseJSON;this.trigger({action:i,payload:t})}.bind(this))},onRedirectPage:function(){this.trigger({action:"redirectPage"})},onBehalfOfMeetingAction:function(e,t,n,i,a,o){var l={url:e};l.type=n,l.data={user_uuid:t,source_meeting_uuid:q.request.uuid},o&&(l.data=r(r({},l.data),o));var s=d.update(l);s.then(function(e){e.onBehalfOf=t,this.trigger({action:i,payload:e})}.bind(this)),s[s.fail?"fail":"catch"](function(e){this.trigger({action:a,payload:e})}.bind(this))},onUpdateAreYouAttending:function(e){this.model.attendingMeetingStatus=e,this.trigger({action:"onYouAreAttending",payload:e})},expertStoreSelection:function(e){e.type},onGetOnBehalfActions:function(e){this.trigger({action:"renderDeclineComments",payload:e});var t=d.fetch({url:d.ENDPOINTS.on_behalf_actions,data:{uuid:e.uuid}});t.then(function(t){e.onBehalfActions=t.data||{},this.trigger({action:"onBehalfActions",payload:t.data}),this.updateAttendees(this.model,t.data)}.bind(this)),t[t.fail?"fail":"catch"](function(){this.trigger({action:"onBehalfActions",payload:{}}),this.updateAttendees(this.model,{})}.bind(this))},onPrepareExtpers:function(e){this.model.internal=this.removeOldExperts(this.model.internal,e.internal),this.model.external=this.removeOldExperts(this.model.external,e.external),this.trigger({action:"onAttendeeSelected",payload:{internalAttendee:this.model.internal,externalAttendee:this.model.external,validInternalAttendees:this.getAttendees("internal",this.model),validExternalAttendees:this.getAttendees("external",this.model),totalCount:this.getAttendeeCount()}})},removeOldExperts:function(e,t){return 0===e.length?[]:_.reject(e,function(e){return!!e.expert&&(void 0===_.find(t,function(t){return t.uuid===e.uuid})||void 0)})},addExperts:function(e,t){var n=_.union(t,e);return n=_.uniq(n,function(e,t,n){return e.uuid})},onResetAttendeesAndRooms:function(){j.topicManagementEnabled&&(j.topicUserMappingEnabled&&(this.model.internal=[],p.resetInternalAttendeeList(),R&&p.resetExternalAttendeeList()),j.topicRoomMappingEnabled&&(this.model.meetingType=f.MeetingStore.getActivity(),this.model.room={uuid:""},m.resetRoomList(j.topicUserMappingEnabled,this.model.external.length)),y.updateCalendar(this.model))},onMeetingTypeChanged:function(e){if(e.payload)if("onRoomChosen"===e.action){var t={meetingType:e.payload.type,room:e.payload.room||{}},n=r(r({},this.model),t);n.room.isBoothTour?n.booth_tour_uuid=n.room.boothTourUuid||this.getBoothTourUuid(window.selectedActivityUuid):delete n.booth_tour_uuid,this.model.proposedData.active||(this.model=n),scheduler.callEvent("onDragEnd"),y.updateCalendar(n),this.trigger(e),b.updateSelectedRoom(this.model,e.payload)}else"onResetRoomList"===e.action&&(this.model.meetingType=e.payload.type,this.model.room=e.payload.room||{},this.model.room.isBoothTour?this.model.booth_tour_uuid=this.getBoothTourUuid(window.selectedActivityUuid):delete this.model.booth_tour_uuid,this.trigger(e),b.updateSelectedRoom(this.model,e.payload));else if("onActivitySettings"===e.type)this.model.meetingType=e.data,b.setMeetingTypeSettings(e.data.settings),this.activitySettings=e.data.settings,this.updateAttachmentAttributes(this.activitySettings,q.request.attachments);else if("selectedAttendeeReset"===e.type)this.trigger({action:"onAttendeeSelected",payload:{internalAttendee:this.model.internal,externalAttendee:this.model.external,validInternalAttendees:this.getAttendees("internal",this.model),validExternalAttendees:this.getAttendees("external",this.model),totalCount:this.getAttendeeCount()}});else if("onLocationPreferenceChange"===e.type)this.model.location_preference=e.data,e.triggerUpdateCalendar&&y.updateCalendar(this.model);else if("onSetMstConfig"===e.type)this.mstConfigs=e.data;else if("onVconInfoCaptured"===e.type)this.trigger({action:"renderVconInfoOnProceedPage",payload:r(r({},this.model.vcon[this.model.vcon.active]),{conference_name:this.model.vcon.conference_name,adapter_name:this.model.vcon.active})});else if("updateProposedState"===e.type)this.model.proposedData=e.data;else if("storeVConIntegrations"===e.type){this.model.vconIntegrations=e.data;var i,a=this.model.vconIntegrations;a&&a.length&&(i=_.find(a,function(e){return!0===e.alternate_host_enabled})),i&&(this.model.isAnyIntegrationEnabledWithAlternateHost=!0)}},onEventCreated:function(e,t,n,i){this.model.proposedData.active||(this.model.event=e,this.setViewInTimezoneInfo(e,"time")),!t&&this.onResetPartialParticipation(),this.trigger({action:"onEventCreated",payload:{event:e,proposal:i}}),b.updateSelectedTime(this.model)},attendeeStoreSelection:function(e){var t,n,i=e.type,a=e.user,o=e.label,l=!1,s=!0,r=e.callbackFunction,c=e.userCallback,u=e.isNewAttendee,d={type:"",operation:"",isCurrUser:!1,uuid:"",overRided:h.getOverRideRoomcapacityPopup(),isJmmOrAbove:h.isJuniorMMorAbove()};if("canReinviteAttendeesInConsecMeeitngs"===i)l=!0,d.type=e.attendeeType,d.uuid=a.uuid,d.operation="insert",d.isCurrUser=t===j.currentUser.uuid,s=!1;else if("setMeetingHost"===i)l=!0,d.type="internal",d.uuid=a.uuid,d.operation="",d.isCurrUser=t===j.currentUser.uuid,s=!1;else if("setModeOfAttendance"===i)l=!0,d.type=e.attendeeType,d.uuid=a.uuid,d.operation="",d.isCurrUser=t===j.currentUser.uuid,s=!1;else if("setUserPreEndorsement"===i)l=!0,d.type="internal",d.uuid=a.uuid,d.operation="",d.isCurrUser=t===j.currentUser.uuid,s=!1;else if("internalAttendeeSelected"===i){if(l=!0,a){t=a.uuid,q.request.mode_of_attendance_enabled&&!a.mode_of_attendance&&(a.mode_of_attendance=q.request.default_mode_of_attendance);var m=_.find(this.model.internal,function(e){return e.uuid===t});m||this.model.internal.push(a),this.model.internal=_.uniq(this.model.internal,function(e){return e.uuid}),!window.mappingEnabled&&u&&this.model.newCreatedUsers.push(t)}d.type="internal",d.uuid=t,d.operation="insert",d.isCurrUser=t===j.currentUser.uuid}else if("externalAttendeeSelected"===i)l=!0,a&&(t=a.uuid,m=_.find(this.model.external,function(e){return e.uuid===t}),q.request.mode_of_attendance_enabled&&!a.mode_of_attendance&&(a.mode_of_attendance=q.request.default_mode_of_attendance),this.model.external.push(a),this.model.external=_.uniq(this.model.external,function(e){return e.uuid})),d.uuid=t,d.type="external",d.operation="insert",d.user=a||{};else if("internalAttendeeUnselected"===i)l=!0,t=a&&a.uuid,_.remove(this.model.internal,function(e){return e.uuid===t}),d.type="internal",d.operation="remove",d.uuid=t,d.isCurrUser=t===j.currentUser.uuid;else if("externalAttendeeUnselected"===i){l=!0,t=a&&a.uuid;var p=this.model.external;p=_.remove(p,function(e){return e.uuid===t}),d.type="external",d.uuid=t,d.operation="remove"}else"allExternalAttendeeUnselected"===i?(l=!0,p=this.model.external,_.forEach(a,function(e){_.remove(p,function(t){return t.uuid===e.uuid})}),d.type="external",d.operation="remove"):"editAttendees"===i?(l=!0,s=!e.dontUpdateCalendar,this.model.internal=e.users.internal.slice(),this.model.external=e.users.external.slice(),e.hasCurrUser&&(this.model.attendingMeetingStatus="yes")):"resetInternalAttendeeList"===i&&(l=!1,a&&(this.model.internal.push(a),this.model.internal=_.uniq(this.model.internal,function(e){return e.uuid})),d.type="internal",d.operation="remove",this.trigger({action:"onAttendeeSelected",payload:{internalAttendee:this.model.internal,externalAttendee:this.model.external,validInternalAttendees:this.getAttendees("internal",this.model),validExternalAttendees:this.getAttendees("external",this.model),totalCount:this.getAttendeeCount()}}),b.updateSelectedAttendees(this.model,d));n=this.getAttendeeCount(),l&&(this.model.dateToFetch=this.model.dateToFetch||U.getCalendarStartDate(),s&&y.updateCalendar(this.model,c),f.MeetingStore.showAvailableRooms(n),this.trigger({action:"onAttendeeSelected",payload:{internalAttendee:this.model.internal,externalAttendee:this.model.external,validInternalAttendees:this.getAttendees("internal",this.model),validExternalAttendees:this.getAttendees("external",this.model),totalCount:n,meetingHostLabel:o}}),b.updateSelectedAttendees(this.model,d,r))},onAccountOpptySelected:function(e){var t=e.type,n=e.data;"account"===t?(this.model.account.is_changed=!0,this.model.account.acc.id=n.id,this.model.account.acc.name=n.name):"opportunity"===t&&(this.model.account.is_changed=!0,this.model.account.oppty.id=n.id,this.model.account.oppty.name=n.name)},onResetPartialParticipation:function(){_.forEach(this.model.internal,function(e){e.partial_start_time=void 0,e.partial_end_time=void 0})},onValidateMeeting:function(e,t){var n=this.isValidMeeting();!1===n.error?(e(!0),!0===n.meetingHostAutoAdd&&this.trigger({action:"autoAddMeetingHost",payload:n.userUUID})):t(n.title,n.message)},isAttendeeRequired:function(e,t,n){return(n=n||this.activitySettings)&&"yes"===n[e]&&!this.canRelaxForMMs(n[t])},canRelaxForMMs:function(e){return(j.isCSM()||j.isMeetingManager()||j.isJuniorMM()||j.isQueueManager())&&"yes"===e},isValidMeeting:function(){return this.isValidSpecificMeeting(this.model,this.activitySettings)},isExternalAttendeesHidden:function(e){return e=e||this.activitySettings,!j.isConsecutiveMeeting&&"yes"===e.hide_external_attendees_in_book_meeting},isInternalAttendeesHidden:function(e){return"yes"===(e=e||this.activitySettings).hide_internal_attendees_in_book_meeting},isMeetingTimeValid:function(e,t){var n=e.startDate,i=e.endDate,a=t.minDuration,o=t.maxDuration,l=(i-n)/6e4;if(l>=a&&l<=o)return{error:!1};var s=window.i18n.t("slot_size_invalid",{min_duration:F(a),max_duration:F(o),silentMsg:"meeting"});return a===o&&(s=s=i18n.t("slot_size_exact",{duration:F(o),silentMsg:"meeting"})),{error:!0,message:s}},shouldSkipRoomValidation:function(e,t){var n=t.enable_vcon_link,i=(void 0===n?"no":n).toBoolean()||window.briefing_uuid,a=e.vcon,o=void 0===a?{}:a,l=e.location_preference,s=e.proposedData,r=void 0===s?{}:s,c=!_.isEmpty(o);return this.mstConfigs.enabled?c||(r.active?"on_site"===r.data.location_preference:"on_site"===l&&"approved"!==q.request.status):!!i&&(!R&&c)},checkRoom:function(e){var t=e.proposedData,n=void 0===t?{}:t,i=n.active&&n.data.room?n.data.room.room:e.room;return!i||!i.isBoothTour&&(""===i.uuid||void 0===i.uuid)^void 0!==i.address},isValidSpecificMeeting:function(e,t){var n,i=this.isAttendeeRequired("internal_attendee_presence","relax_internal_attendee_presence_for_mm",t),a=this.isAttendeeRequired("atleast_one_attendee_role_presence","relax_atleast_one_attendee_role_presence_for_mm",t),o=this.isAttendeeRequired("external_attendee_presence","relax_external_attendee_presence_for_mm",t),l="yes"===t.atleast_one_meeting_host&&"yes"===t.enable_meeting_host,s=this.shouldSkipRoomValidation(e,t),r=e.proposedData,c=void 0===r?{}:r,u=c.active&&c.data.start_time?{start_date:c.data.start_time,end_date:c.data.end_time}:e.event;if(u){var d=window.scheduler.config,m=d.minimum_duration,f=d.maximum_duration,p=u.start_date,g=u.end_date,v=this.isMeetingTimeValid({startDate:p,endDate:g},{minDuration:m,maxDuration:f});if(v.error)return v}if(e.vcon&&e.vcon.active){var y=null;if("AddLink"===e.vcon.active&&e.vcon[e.vcon.active]&&e.vcon[e.vcon.active].link)y=e.vcon[e.vcon.active].link.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/g);else if("AddLink"!==e.vcon.active)y=!0;if(null==y)return{error:!0,message:"Please add a valid url",title:""}}if(window.envDetails.isConsecutiveMeeting&&"-"===e.meetingType.uuid)return{error:!0,message:i18n.t("select_meeting_type_to_continue"),title:i18n.t("select_meeting_type_to_continue_title")};if(null===e.attendingMeetingStatus)return{error:!0,message:n=i18n.t("select_if_attending_to_continue"),title:i18n.t("select_if_attending_to_continue_title")};if(null===u)return{error:!0,message:n=s?i18n.t("select_timeslot_to_continue"):i18n.t("time_and_room_validation_message",{type:i18n.t("meeting_custom_label")})};if(!1===s&&this.checkRoom(e))return{error:!0,message:n=i18n.t("time_and_room_validation_message",{type:i18n.t("meeting_custom_label")})};if(!this.isInternalAttendeesHidden(t)&&i&&0===this.getAttendees("internal",e).length)return{error:!0,message:n=i18n.t("select_min_internal_attendee_to_continue",{company_name:j.companyName}),title:i18n.t("meeting_notify_failure_title")};if(!this.isInternalAttendeesHidden(t)&&a&&0===this.getAttendeesRole("internal",e).length)return{error:!0,message:n=i18n.t("select_min_internal_attendee_role_to_continue"),title:i18n.t("meeting_notify_failure_title")};if(!window.isEBCEvent&&!1===this.isExternalAttendeesHidden(t)&&o&&0===this.getAttendees("external",e).length)return{error:!0,message:n=i18n.t("select_min_external_attendee_to_continue"),title:i18n.t("meeting_notify_failure_title")};if("undefined"!=typeof jiffle&&!j.isConsecutiveMeeting&&!window.isLeadsMeeting&&""===e.account.acc.id)return n=i18n.t("sfdc_account_not_selected"),{error:!1,confirmation:!0,title:i18n.t("meeting_notify_failure_title"),message:n};if("undefined"!=typeof jiffle&&j.isConsecutiveMeeting&&!window.isLeadsMeeting&&""===L().account.acc.id)return n=i18n.t("sfdc_account_not_selected"),{error:!1,confirmation:!0,title:i18n.t("meeting_notify_failure_title"),message:n};if("undefined"!=typeof jiffle&&window.isLeadsMeeting&&0===this.getAttendees("external",e).length)return{error:!0,message:n=i18n.t("lead_not_selected"),title:i18n.t("meeting_notify_failure_title")};if(!this.isInternalAttendeesHidden(t)&&l&&0===this.getMeetingHostCount(e.internal)){var b=this.getAttendees("internal",e);return 1!==b.length||!0===h.canAttendeeBeAssignedHost(_.head(b).uuid).error?{error:!0,message:i18n.t("atleast_one_meeting_host_message",{label:t.meeting_host_label}),title:i18n.t("atleast_one_meeting_host_title",{label:t.meeting_host_label})}:{error:!1,confirmation:!0,meetingHostAutoAdd:!0,userUUID:_.head(b).uuid,message:i18n.t("auto_add_meeting_host",{label:t.meeting_host_label,attendee_name:this.getName(_.head(b))}),title:i18n.t("are_you_sure")}}return{error:!1}},getName:function(e){return e.user_name?e.user_name:e.first_name},getMeetingHostCount:function(e){return _.filter(e,{meeting_host:!0}).length},getAttendees:function(e,t){return(t=t||this.model)[e]},getAttendeesRole:function(e,t){return t=t||this.model,_.filter(this.model[e],function(e){return e.role&&"Attendee"===e.role})},getAttendeeCount:function(){return(q.request.mode_of_attendance_enabled?_.uniq([].concat(o(h.filterInpersonNonDeclinedAttendees(this.getAttendees("internal",this.model))),o(h.filterInpersonNonDeclinedAttendees(this.getAttendees("external",this.model))),o(x.getAttendeesForAgenda(f.MeetingStore.getCurrentAgendaUUID()))),"uuid"):_.uniq([].concat(o(h.filterNonDeclinedAttendees(this.getAttendees("internal",this.model))),o(h.filterNonDeclinedAttendees(this.getAttendees("external",this.model))),o(x.getAttendeesForAgenda(f.MeetingStore.getCurrentAgendaUUID()))),"uuid")).length},onShowHideRequestorsDropdown:function(e){this.trigger({action:"showHideRequestorsDropdown",payload:e?"yes":"no"})},prepareVconDataToReq:function(){var e=this.model.vcon;return e.active?r(r({},e[e.active]),{conference_name:e.conference_name,adapter_name:e.active,hostJnUuid:e.hostJnUuid}):{}},prepareLocationPreferenceProposal:function(){var e=this.model.proposedData.data;if(e&&e.start_time){var t={},n=this.model.proposedData.data;return n.location_preference&&(t.preference=n.location_preference,n.room.isBoothTour?t.booth_tour_uuid=this.getBoothTourUuid(window.selectedActivityUuid):!n.room.room||void 0===n.room.room.address&&!0!==n.room.room.offsite?t.room_uuid=n.room.room&&n.room.room.uuid||"":(t.offsite_location_name=n.room.room.name,t.offsite_location_address=n.room.room.address||n.room.room.location)),t.start_time=A.jsDateToDateTimeFormat(n.start_time),t.end_time=A.jsDateToDateTimeFormat(n.end_time),t.reason=n.reason,t.proposed_by=window.envDetails.currentUser.uuid,t}return null},createSingleMeeting:function(e,t,n){var i=this.model.internal.map(function(e){return e.uuid});i=i.concat(this.model.external.map(function(e){return e.uuid}));var a=this.getUserEntities(this.model),o=e.meeting_with;delete e.meeting_with;var l=e.topic_management,s=this.model.meetingType?this.model.meetingType.uuid:window.selectedActivityUuid,r={vcon:this.prepareVconDataToReq(),activity_uuid:s,meeting_with:o,start_time:A.jsDateToDateTimeFormat(this.model.event.start_date),end_time:A.jsDateToDateTimeFormat(this.model.event.end_date),users:i,user_preferences:a.userPreferences,user_participation:a.partialParticipation,location_preference:this.model.location_preference,custom_fields:e,requestor:t,quick_meeting:n,topic_uuid:l,booth_tour_meeting:this.model.room.isBoothTour,external_request:q.request.isExternalRequest,external_request_uuid:q.external_request_uuid,meeting_uuid:$.urlParam("copy_meeting")?null:j.currentMeetingUuid||null,meeting_info_touched:this.getMeetingTouchedInfo({start_time:A.jsDateToWebEXDateFormat(this.model.event.start_date),end_time:A.jsDateToWebEXDateFormat(this.model.event.end_date),meeting_with:o}),sharedLinkUuid:$.urlParam("sharedLinkUuid")};this.model.room.isBoothTour?r.booth_tour_uuid=this.getBoothTourUuid(window.selectedActivityUuid):void 0!==this.model.room.address?(r.offsite_location_name=this.model.room.name,r.offsite_location_address=this.model.room.address):r.room_uuid=this.model.room.uuid,E.addMeetingRequestParams(r,this.model);var c={meeting_request:_.assign(r,this.getAttachments(),{integrations:this.model.integrations})};if(void 0!==window.briefing_uuid&&(c.briefing_uuid=window.briefing_uuid),void 0!==l&&(c.topic_uuid=l),void 0!==window.bam_uuid&&(c.bam_uuid=window.bam_uuid),this.setTimeZoneInfo(c),window.envDetails.setBlockToken(c),c.view_in_timezone=this.getViewInTimezoneParams(),c.time_zone=N.getTimeZoneId("primaryTimeZone"),!this.isMeetingUpdateInProgress){I.prop("disabled",!0),O.prop("disabled",!0);var u=d.update({url:d.ENDPOINTS.meeting_create,global:!0,data:c});this.isMeetingUpdateInProgress=!0,u.then(function(e){this.isMeetingUpdateInProgress=!1,this.trigger({action:"onEventSaved",payload:e})}.bind(this)),u[u.fail?"fail":"catch"](function(e){I.prop("disabled",!1),O.prop("disabled",!1),this.isMeetingUpdateInProgress=!1;var t=e.responseJSON;"undefined"!=typeof jiffle&&(t=e),this.trigger({action:"onEventSaveFailed",payload:t})}.bind(this))}},setTimeZoneInfo:function(e){var t=N.getTimeZone("primaryTimeZone");e.time_zone=t.timeZoneId,e.time_zone_city=t.timeZoneCity,e.time_zone_offset=t.timeZoneDisplayName},filterDeclined:function(e){return _.partition(e,function(e){return!e.invite_status||"declined"!==e.invite_status})},onCheckDoubleBookedStatus:function(e,t){if(!t){var n=this.model.internal.map(function(e){return e.uuid});n=n.concat(this.model.external.map(function(e){return e.uuid}));t={start_time:moment(this.model.event.start_date).format("YYYY-MM-DD HH:mm a"),end_time:moment(this.model.event.end_date).format("YYYY-MM-DD HH:mm a"),users:n,meeting_uuid:q.request.uuid||""},"OngoingSales"===j.eventType&&(t.time_zone=N.getTimeZoneId())}var i=d.update({url:d.ENDPOINTS.double_booked_resources,global:!1,data:t});i.then(function(n){(n=n||{}).callbackFn=e,_.merge(n.data,t),this.trigger({action:"onCheckDoubleBookedStatusSuccess",payload:n})}.bind(this)),i[i.fail?"fail":"catch"](function(t){(t=t||{}).callbackFn=e,this.trigger({action:"onCheckDoubleBookedStatusFailed",payload:t})}.bind(this))},onUpdateMeetingPartially:function(e,t,n){var i={meeting_with:e.meeting_with,custom_fields:e,requestor:t},o=e.topic_management;E.addMeetingRequestParams(i,this.model);var l={meeting_request:a(i,this.getAttachments(),{integrations:this.model.integrations}),meeting_uuid:q.request.uuid};void 0!==o&&(l.topic_uuid=o),void 0!==n&&(l.send_ics=n);var s=d.update({url:d.ENDPOINTS.partial_meeting_update,data:l});s.then(function(e){this.trigger({action:"onEventRescheduled",payload:e})}.bind(this)),s[s.fail?"fail":"catch"](function(e){I.prop("disabled",!1),O.prop("disabled",!1),this.trigger({action:"onEventSaveFailed",payload:e})}.bind(this))},removeAttendeeFromMeeting:function(e,t,n){var i=this.filterDeclined(this.model.internal),a=this.filterDeclined(this.model.external),o=_.map(i[0],"uuid"),l=this.getUserEntities(this.model);o=o.concat(_.map(a[0],"uuid"));var s=_.map(i[1],"uuid"),r={meeting_request:{users:o,declined_users:s=s.concat(_.map(a[1],"uuid")),requestor:e,meeting_uuid:q.request.uuid,user_preferences:l.userPreferences},meeting_uuid:q.request.uuid},c=d.update({url:d.ENDPOINTS.remove_attendee,data:r});c.then(function(e){this.trigger({action:"onAttendeeRemovedSuccess",payload:t})}.bind(this)),c[c.fail?"fail":"catch"](function(e){this.trigger({action:"onInviteRemovedFailed",payload:{message:e.responseJSON.message,uuid:t.uuid,userType:n}})}.bind(this))},rescheduleSingleMeeting:function(e,t,n){var i=this.filterDeclined(this.model.internal),a=this.filterDeclined(this.model.external),o=_.map(i[0],"uuid"),l=this.getUserEntities(this.model);o=o.concat(_.map(a[0],"uuid"));var s=_.map(i[1],"uuid");s=s.concat(_.map(a[1],"uuid"));var r=e.meeting_with;delete e.meeting_with;var c=e.topic_management,u=this.model.meetingType?this.model.meetingType.uuid:window.selectedActivityUuid,m={vcon:this.prepareVconDataToReq(),activity_uuid:u,meeting_with:r,start_time:A.jsDateToDateTimeFormat(this.model.event.start_date),end_time:A.jsDateToDateTimeFormat(this.model.event.end_date),users:o,location_preference:this.model.location_preference,declined_attendees:s,custom_fields:e,requestor:t,meeting_uuid:q.request.uuid,user_preferences:l.userPreferences,user_participation:l.partialParticipation,booth_tour_meeting:this.model.room.isBoothTour,topic_uuid:c,location_preference_proposal:this.prepareLocationPreferenceProposal()};this.model.room.isBoothTour?m.booth_tour_uuid=this.getBoothTourUuid(window.selectedActivityUuid):void 0!==this.model.room.address?(m.offsite_location_name=this.model.room.name,m.offsite_location_address=this.model.room.address):m.room_uuid=this.model.room.uuid||"",E.addMeetingRequestParams(m,this.model);var f={meeting_request:_.assign(m,this.getAttachments(),{integrations:this.model.integrations}),meeting_uuid:q.request.uuid};void 0!==window.briefing_uuid&&(f.briefing_uuid=window.briefing_uuid),void 0!==c&&(f.topic_uuid=c),this.setTimeZoneInfo(f),f.view_in_timezone=this.getViewInTimezoneParams(),void 0!==n&&(f.send_ics=n),window.envDetails.setBlockToken(f),I.prop("disabled",!0),O.prop("disabled",!0);var h=d.update({url:d.ENDPOINTS.reschedule_meeting,data:f,global:!0});h.then(function(e){this.trigger({action:"onEventRescheduled",payload:e})}.bind(this)),h[h.fail?"fail":"catch"](function(e){I.prop("disabled",!1),O.prop("disabled",!1),this.trigger({action:"onEventSaveFailed",payload:e})}.bind(this))},getInternalAttendees:function(){return this.model.internal},getExternalAttendees:function(){return this.model.external},onGetApprovalToSendIcs:function(e){this.trigger({action:"getApprovalToSendIcs",payload:{callbackFn:e}})},onTriggerSurveyMails:function(e,t,n){var i={survey_uuid:n};""!==e&&(i.attendee_uuid=e);var a=d.update({type:"PUT",data:i,url:d.ENDPOINTS.send_survey_meeting_mail.replace("{UUID}",t)});a.then(function(e){this.trigger({action:"surveyMailsTriggered",payload:e})}.bind(this)),a[a.fail?"fail":"catch"](function(e){})},setTopicDirty:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.topicDirtyFlag=e},isTopicDirty:function(){return this.topicDirtyFlag},onUpdateIntegrationData:function(e){this.model.integrations[e.type]=e.payload},getIntegrationData:function(){return this.model.integrations},setCustomFormLabels:function(e,t){this.customFormLabels[e]=t},getCustomFormLabels:function(e,t){return this.customFormLabels},setCustomLabels:function(e){this.customLabels=e},getCustomLabels:function(e,t){return this.customLabels},onFetchCustomLabels:function(){var e=this;d.fetch({url:d.ENDPOINTS.custom_labels}).then(function(t){e.setCustomLabels(t.data),e.trigger({action:"fetchCustomLabelsSuccess",payload:t.data})})},onTopicChangeRefeshAttendeesAndRoomsList:function(){this.removeNonSelectedNewUsers(),this.resetNonRetainedResources(),j.topicUserMappingEnabled&&p.resetAndFetchInternalAttendees(),j.topicRoomMappingEnabled&&m.getAllMeetingTypes({isFirstLoad:!0,byPassMasCalEntry:!0}),y.updateCalendar(this.model)},removeNonSelectedNewUsers:function(){var e=this.model.internal.map(function(e){return e.uuid});this.model.newCreatedUsers=this.model.newCreatedUsers.filter(function(t){return e.includes(t)})},onCheckNonRetainedResources:function(e){var t=this;this.resetNonRetainedResources();var n=this.getResourcesToBeCheckedForRetention(),i=n.users,a=n.rooms;if(0!==i.length||a[0]){var o={resources:{users:i,rooms:a},resource_attributes:["mapped_to_topic"],dependant_attributes:{topic_uuid:e.topic}};d.fetch({url:d.ENDPOINTS.fetch_resource_data,data:o}).then(function(n){var i=n.data&&n.data.resources||{},a=i.users,o=i.rooms;a=t.getNonRetainedUsers(a),o=t.getNonRetainedRooms(o),t.trigger({action:"checkNonRetainedResourcesSuccess",payload:{users:a,rooms:o,topic:e.topic}})})}else this.trigger({action:"checkNonRetainedResourcesSuccess",payload:{users:i,rooms:a,topic:e.topic}})},onTopicChangeRetainResources:function(){this.retainNewCreatedUsersOnTopicChange(),this.retainUsersOnTopicChange(),this.retainRoomsOnTopicChange(),y.updateCalendar(this.model)},resetNonRetainedResources:function(){this.resetNonRetainedUsers(),this.resetNonRetainedRooms()},resetNonRetainedUsers:function(){this.nonRetainedResources.users=[]},resetNonRetainedRooms:function(){this.nonRetainedResources.rooms=[]},getResourcesToBeCheckedForRetention:function(){var e=f.MeetingStore.getActivitySettings();return{users:this.getUsersToBeCheckedForRetention(e),rooms:this.getRoomsToBeCheckedForRetention(e)}},getUsersToBeCheckedForRetention:function(e){var t=[];return j.topicUserMappingEnabled&&!this.canUnmappedUsersBeShown(e)&&(t=this.model.internal.filter(this.removeCurrentUser).map(function(e){return e.uuid})),t},getRoomsToBeCheckedForRetention:function(e){var t=[];return j.topicRoomMappingEnabled&&!this.canUnmappedRoomsBeShown(e)&&(t=[this.model.room.uuid]),t},canUnmappedUsersBeShown:function(e){return e&&e.show_unmapped_users_for_topic.toBoolean()},canUnmappedRoomsBeShown:function(e){return e&&e.show_unmapped_rooms_for_topic.toBoolean()},removeCurrentUser:function(e){return e.uuid!==j.currentUser.uuid},getNonRetainedUsers:function(e){return(e||[]).filter(this.notMappedToTopic).map(this.setNonRetainedUsersAndGetAttendeeInfo)},getNonRetainedRooms:function(e){return(e||[]).filter(this.notMappedToTopic).map(this.setNonRetainedRoomsAndGetRoomInfo)},notMappedToTopic:function(e){return!e.mapped_to_topic},setNonRetainedUsersAndGetAttendeeInfo:function(e){return this.setNonRetainedUsers(e),this.getAttendeeInfo(e)},setNonRetainedRoomsAndGetRoomInfo:function(e){return this.setNonRetainedRooms(e),this.getRoomInfo(e)},setNonRetainedUsers:function(e){this.nonRetainedResources.users.push(e.uuid)},setNonRetainedRooms:function(e){this.nonRetainedResources.rooms.push(e.uuid)},getAttendeeInfo:function(e){return h.getAttendeeDetails(e.uuid).user_name},getRoomInfo:function(e){var t=f.MeetingStore.getPreSelectedRoom(e.uuid),n="".concat(t.name);return t.location&&(n+=", ".concat(t.location)),n},retainNewCreatedUsersOnTopicChange:function(){j.topicUserMappingEnabled&&(this.model.newCreatedUsers=this.model.newCreatedUsers.filter(this.removeNonRetainedUsers))},retainUsersOnTopicChange:function(){j.topicUserMappingEnabled&&(this.model.internal=this.model.internal.filter(this.removeNonRetainedUsers),p.resetInternalAttendeeList(this.nonRetainedResources.users.slice(),!0),this.resetNonRetainedUsers())},removeNonRetainedUsers:function(e){var t="object"===i(e)?e.uuid:e;return-1===this.nonRetainedResources.users.indexOf(t)},retainRoomsOnTopicChange:function(){j.topicRoomMappingEnabled&&(this.model.room.uuid&&0!==this.nonRetainedResources.rooms.length?(this.model.meetingType=f.MeetingStore.getActivity(),this.model.room={uuid:""},m.resetRoomList(j.topicUserMappingEnabled,this.model.internal.length+this.model.external.length)):m.getAllMeetingTypes({isFirstLoad:!0,byPassMasCalEntry:!0}),this.resetNonRetainedRooms())},getOnDemandFirstPageLoaded:function(){return this.onDemandFirstPageLoaded},setOnDemandFirstPageLoaded:function(e){this.onDemandFirstPageLoaded=e},getIsMascalOrigin:function(){return this.isMascalOrigin},setModelData:function(e,t){return this.model[e]=t,this.model},getModelData:function(e){return e?this.model[e]:this.model},convertTimeInSecondaryTimezone:function(e){var t=this.model.event;if(t&&e){var n=N.getTimeZoneId("primaryTimeZone")||window.tzinfo||window.envDetails.event.time_zone,i=t.end_date-t.start_date,a=n,o=moment(t.start_date).format("YYYY-MM-DDTHH:mm:ss"),l=moment.tz(o,a),s=moment(moment(l).tz(e).format("YYYY-MM-DDTHH:mm:ss")).toDate();return{startDate:s,endDate:moment(s).add(i,"ms")._d}}},getViewInTimezoneParams:function(){var e=this.viewInTimezoneInfo,t=e.timezone,n=e.time;if(t&&n){var i=A.convertDateToIso24HoursFormat(n.endDate);return{timezone:t,time:{startDate:A.convertDateToIso24HoursFormat(n.startDate),endDate:i}}}},getViewInTimezoneInfo:function(e){return e?this.viewInTimezoneInfo[e]:this.viewInTimezoneInfo},getPrimaryTimezoneInfo:function(e){return e?this.primaryTimezoneInfo[e]:this.primaryTimezoneInfo},getPrimaryTimeZone:function(){return N.getTimeZoneId("primaryTimeZone")},setPrimaryTimezoneInfo:function(e,t){this.primaryTimezoneInfo={timezone:e},this.trigger({action:"onPrimaryTimeZoneUpdated",payload:this.primaryTimezoneInfo.timezone})},setViewInTimezoneInfo:function(e,t){if("time"===t){var n=(this.viewInTimezoneInfo.timezone||{}).timeZoneId;this.viewInTimezoneInfo.time=this.convertTimeInSecondaryTimezone(n)}"timezone"===t&&(this.viewInTimezoneInfo={timezone:e,time:this.convertTimeInSecondaryTimezone(e.timeZoneId)},this.trigger({action:"onSecondaryTimeZoneUpdated",payload:this.viewInTimezoneInfo}))},setMeetingInfoData:function(e){this.vconMeetingInfoToCompareChanges=e},setMeetingInfoTouched:function(e,t){this.meetingInfoTouched[e]=t},getMeetingTouchedInfo:function(e){if(!_.isEmpty(this.vconMeetingInfoToCompareChanges)){var t=this.vconMeetingInfoToCompareChanges,n=t.start_time,i=t.end_time,a=t.meeting_with,o=e||{},l=o.start_time,s=o.end_time,r=o.meeting_with;n===l&&i===s||this.setMeetingInfoTouched("duration_touch",!0),a!==r&&this.setMeetingInfoTouched("meeting_with_touch",!0)}return this.meetingInfoTouched},onDeleteLocationPreferenceProposal:function(e){var t=this,n=d.ENDPOINTS.delete_location_preference;n.url=n.url.replace("{{uuid}}",window.meetingInfo.request.uuid),d.update({url:n,data:{}}).then(function(n){t.trigger({action:e,payload:n})})},onRejectLocationPreferenceProposal:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i=d.ENDPOINTS.reject_location_preference;i.url=i.url.replace("{{uuid}}",window.meetingInfo.request.uuid);var a=d.update({url:i,data:t});a.then(function(t){e.trigger({action:n,payload:t})})},setEditProposalOnDemand:function(e){this.editProposalOnDemand=e},retainCalendarSlot:function(){return this.model.proposedData.active&&this.editProposalOnDemand},setSelectedVConInStore:function(e){if(e){var t=_.find(this.model.vconIntegrations,function(t){return t.integration_name===e});this.model.selectedVcon=t}else this.model.selectedVcon=null}});e.exports=Y},function(e,t){var n=Reflux.createActions(["fetchInternal","fetchExternal","updateAttendeePreEndorsement","selectExternalAttendee","unselectExternalAttendee","selectInternalAttendee","unselectInternalAttendee","searchInternal","searchExternal","eventCreated","tabChanged","roleFilterChosen","removeFilters","filterInternal","filterExternal","createAttendee","editAttendees","canSelectAttendees","updateAreYouAttending","showAttendeesList","unselectAttendee","domainValidate","resetInternalAttendeeList","resetExternalAttendeeList","setExperts","resetAllAttendees","setAttendeeOptionsSetting","initiateNewMeeting","getattendeeSettings","updateIcsStatus","refreshExternalAttendees","copyAttendees","canReinviteAttendee","updateAttendeeAsHost","updatePersistRequestorAsHost","resetAndFetchInternalAttendees","makeAttendeeAsAlternateHost","reRenderInternalAttendeeList","updateInternalAttendeeAttendance","updateExternalAttendeeAttendance","selectVirtualAttendeesToUserList"]);e.exports=n},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(29),s=n(12),r=n(3),c=window.selectedActivityUuid,u=n(10),d=n(18),m=n(97),f=Reflux.createStore({init:function(){this.listenToMany(l),this.listenToMany(s),this.activity="",this.selectedMeetingType={},this.selectedRoom={},this.attendeeCount=0,this.showOverlay=!1,this.currentEvent=null,this.isSettingsSet=!1,this.canSelect=!0,this.hiddenExpertsCount=0,this.mstConfigs={},this.locationPreference=null,this.fetchConferencesAlreadyTriggered=!1,this.proposedData={active:!1,data:{}}},getProposalState:function(){return this.proposedData.active},setProposalState:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.proposedData.active=e,this.trigger({type:"updateProposedState",data:this.proposedData})},getProposalData:function(){return this.proposedData.data},setProposalData:function(e){this.proposedData.data=a(a({},this.proposedData.data),e),this.trigger({type:"updateProposedState",data:this.proposedData})},canChangeLocationPreference:function(){return"approved"===window.meetingInfo.request.status&&window.meetingInfo.request.can_change_loc_preference},setActivity:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.activity=e,t&&this.trigger({type:"setBookMeetingInstructions",data:this.activity.settings}),this.isSettingsSet||(this.trigger({type:"onActivitySettings",data:this.activity}),window.envDetails.isConsecutiveMeeting&&(window.envDetails.canUserChangeSelfAttendance=this.isEnabled(this.activity.settings.can_user_change_self_attendance),window.envDetails.defaultStateOfAreYouAttending="2"===this.activity.settings.default_state_of_are_you_attending?"yes":"no",window.envDetails.enable_meeting_host=this.isEnabled(this.activity.settings.enable_meeting_host),window.envDetails.meeting_host_label=this.activity.settings.meeting_host_label,window.envDetails.assign_requestors_as_meeting_host_by_default=this.isEnabled(this.activity.settings.assign_requestors_as_meeting_host_by_default),window.envDetails.assign_mapped_user_as_meeting_host_by_default=this.isEnabled(this.activity.settings.assign_mapped_user_as_meeting_host_by_default),window.envDetails.assign_only_topic_mapped_user_as_meeting_host=this.isEnabled(this.activity.settings.assign_only_topic_mapped_user_as_meeting_host),window.envDetails.allow_requestors_to_unassign_meeting_host=this.isEnabled(this.activity.settings.allow_requestors_to_unassign_meeting_host),u.updateCurrentMeeting(),this.trigger({type:"selectedAttendeeReset"})),this.isSettingsSet=!0)},onLocationPreferenceChange:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.locationPreference=e,this.getProposalState()||this.trigger({type:"onLocationPreferenceChange",data:e,triggerUpdateCalendar:t})},onSetMstConfigs:function(e){this.mstConfigs=e,this.trigger({type:"onSetMstConfig",data:e})},getMstConfigs:function(){return this.mstConfigs||{}},isEnabled:function(e){return"yes"===e||!0===e||"true"===e},getActivity:function(){return this.activity},getActivityRooms:function(){return this.activity.rooms},getActivityOthersRooms:function(){return this.activity.other_rooms},getActivityAllRooms:function(){return this.getActivityRooms().concat(this.getActivityOthersRooms())},getActivitySettings:function(){return this.activity.settings},setHiddenExpertsCount:function(e){this.hiddenExpertsCount=e,this.onAttendeeCountChanged(this.attendeeCount)},onCanSelectRooms:function(e){this.canSelect=e},onInitiateNewMeeting:function(e,t){c=e,this.activity.uuid=e,this.selectedRoom=t.room,this.attendeeCount=t.internal.length+t.external.length,this.showOverlay=!1,this.isSettingsSet=!1,this.isOffsiteSelected=this.selectedRoom&&this.selectedRoom.offsite,this.isBoothTourSelected=this.selectedRoom&&this.selectedRoom.isBoothTour,this.currentEvent=t.event||null,this.onAttendeeCountChanged(this.attendeeCount),this.trigger({type:"initiateNewMeeting",data:t})},showAvailableRooms:function(e){this.onAttendeeCountChanged(e);var t=!1;if(envDetails.topicManagementEnabled&&envDetails.topicRoomMappingEnabled)if("undefined"!=typeof topic_uuid)t=!!topic_uuid;else if("new"===mode){var n=$("#topic_management").val();void 0===n&&(n=meetingInfo.request.topic_uuid),"-"===n&&(n=""),t=!!n}else t=!!meetingInfo.request.topic_uuid;this.trigger({type:"onGetAllMeetingTypes",data:{isCapicityFilter:!0,groupData:t}})},setMeetingTimes:function(e){if(this.currentEvent){var t=(this.currentEvent.end_date-this.currentEvent.start_date)/1e3/60,n=60*this.currentEvent.start_date.getHours()+this.currentEvent.start_date.getMinutes(),i=n+t;e.event_date=moment(this.currentEvent.start_date).format("DD-MM-YYYY"),e.start_time=n,e.end_time=i<=1440?i:1440}},onResetRoomList:function(e,t){this.activity.rooms=[],this.activity.other_rooms=[],this.selectedRoom=null,this.isOffsiteSelected=!1,this.isBoothTourSelected=!1,this.attendeeCount=e?t:this.attendeeCount,this.onAttendeeCountChanged(this.attendeeCount),this.blockRoom(),this.trigger({action:"onResetRoomList",payload:{type:this.getActivity(),room:null,offsite:!1}}),this.trigger({type:"onResetRoomList"})},onGetAllMeetingTypes:function(e){var t=e.isFirstLoad,n=void 0!==t&&t,i=e.isNewEvent,a=void 0!==i&&i,o=e.byPassMasCalEntry,l=void 0!==o&&o,s=e.showInstructions,u=void 0!==s&&s,f={activity_uuid:c};window.briefing_uuid&&(f.briefing_uuid=window.briefing_uuid),this.setMeetingTimes(f),"edit"===meetingInfo.request.mode&&(f.meeting_request=meetingInfo.request.uuid,f.destination_activity_uuid=m.getDestinationActivityUuid()),"undefined"!=typeof location_uuid&&(f.location_uuid=location_uuid);var h=!1;if(envDetails.topicManagementEnabled&&envDetails.topicRoomMappingEnabled){if("undefined"!=typeof topic_uuid)f.topic_uuid=topic_uuid;else if("new"===mode){var p=$("#topic_management-complement").val();void 0===p&&(p=meetingInfo.request.topic_uuid),"-"===p&&(p=""),f.topic_uuid=p}else f.topic_uuid=meetingInfo.request.topic_uuid;h=!!f.topic_uuid}var g=this.proposedData.active&&this.proposedData.data.location_preference||this.locationPreference;g&&(f.location_preference=g);var v=d.getTimeZoneId("primaryTimeZone");v&&(f.time_zone=v),window.envDetails.setBlockToken(f);var y=r.fetch({url:r.ENDPOINTS.room_activities,data:f});y.then(function(e){var t=this;this.setActivity(e.data.activity,u);var i=e.data.booking_configs,o=e.data.manual_scheduling_configs;e.isCapicityFilter=!1;window.meetingInfo.request;this.getActivity().rooms=this.activity.rooms.filter(function(e){var n=t.getRoomsFilter(e,i,o);return e.mapped_meeting_types=_.map(e.activities,"name"),n}),this.activity.other_rooms?this.getActivity().other_rooms=this.activity.other_rooms.filter(function(e){var n=t.getRoomsFilter(e,i,o);return e.mapped_meeting_types=_.map(e.activities,"name"),n}):this.activity.other_rooms=[],e.selectedRoom=this.selectedRoom,e.first_load=n,e.isNewEvent=a,e.byPassMasCalEntry=l,e.configs=i,e.groupData=h,this.trigger({type:"onGetAllMeetingTypes",data:e})}.bind(this)),y[y.fail?"fail":"catch"](function(e){this.trigger(e.responseJSON)}.bind(this))},getRoomsFilter:function(e,t,n){var i=window.meetingInfo.request,a=window.envDetails.isCSM()||window.envDetails.isMeetingManager()||window.envDetails.isJuniorMM()||window.meetingInfo.request.is_meeting_host;return"edit"===i.mode&&i.room&&i.room.uuid===e.uuid||n.enabled&&e.available&&a||t.can_book_room&&e.available},getMeetingType:function(e){return _.find(this.meetingTypes,function(t){return t.uuid===e})},getSpecificRoom:function(e){var t=this.getActivityRooms();return _.find(t,function(t,n){return t.uuid===e})},getOthersRoom:function(e){var t=this.getActivityOthersRooms();return _.find(t,function(t,n){return t.uuid===e})},getPreSelectedRoom:function(e){var t=this.getActivityAllRooms();return _.find(t,function(t,n){return t.uuid===e})},chooseRoomForOverRideCapacity:function(e){this.blockRoom(),this.trigger({action:"onRoomChosen",payload:{type:e.type,room:e.room,offsite:e.offsite,boothTour:e.boothTour}})},getSelectedRoom:function(e,t){var n=this.selectedMeetingType;if(this.selectedMeetingType.uuid||(n=this.getMeetingType(t)),!n&&t&&(n=this.getMeetingType(t)),n){var i=n.rooms||[];return _.find(i,function(t){return t.uuid==e})}return{}},onMeetingTypeChosen:function(e){this.selectedMeetingType=e,this.trigger({action:"onMeetingTypeChosen",payload:e})},onRoomChosen:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.selectedRoom=e,this.isOffsiteSelected=t,this.isBoothTourSelected=!1,this.onAttendeeCountChanged(this.attendeeCount),!e||this.roomCapacityCheck()?(this.blockRoom(),this.trigger({action:"onRoomChosen",payload:{type:this.getActivity(),room:e,offsite:!1,boothTour:!1}})):this.trigger({type:"overRidedRoomcapacity",data:{type:this.getActivity(),room:e,offsite:!1,boothTour:!1}})},onNonJmmRoomChosen:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selectedRoom=e,this.isOffsiteSelected=!1,this.isBoothTourSelected=!1},roomCapacityCheck:function(){return this.attendeeCount+this.hiddenExpertsCount<=this.selectedRoom.capacity},onEditRoom:function(e){this.selectedRoom=e,this.isOffsiteSelected=!1,this.isBoothTourSelected=!1,this.onAttendeeCountChanged(this.attendeeCount),this.blockRoom(),this.trigger({action:"onRoomChosen",payload:{type:this.getActivity(),room:e,offsite:!1,isBoothTour:!1}})},onOffsiteChosen:function(e){this.selectedRoom=e,this.isOffsiteSelected=null!==e,this.isBoothTourSelected=!1,this.onAttendeeCountChanged(this.attendeeCount),e&&(e.address=e.address||""),this.blockRoom(),this.trigger({action:"onRoomChosen",payload:{type:this.getActivity(),room:e,offsite:!0,isBoothTour:!1}})},onBoothTourChosen:function(e){this.selectedRoom=e,this.isOffsiteSelected=!1,this.isBoothTourSelected=null!==e,this.onAttendeeCountChanged(this.attendeeCount),this.blockRoom(),this.trigger({action:"onRoomChosen",payload:{type:this.getActivity(),room:e,offsite:!1,isBoothTour:!!e}})},onEventBarCreated:function(e){this.currentEvent=e,this.blockRoom(),this.onGetAllMeetingTypes({isFirstLoad:!(!e||!e.didEventAddedOnDemand),isNewEvent:!0})},isRoomBigEnough:function(e){return this.attendeeCount<=e.capacity},onAttendeeCountChanged:function(e){this.attendeeCount=e;var t=!0;this.selectedRoom&&this.selectedRoom.capacity&&(t=this.attendeeCount+this.hiddenExpertsCount<this.selectedRoom.capacity),s.canSelectAttendees(t),this.canSelect=t},canRoomBeBlocked:function(){return window.envDetails.enableRoomInterimBlock&&"undefined"==typeof jiffle&&"view"!==window.mode&&!window.mappingEnabled&&!window.envDetails.isConsecutiveMeeting},blockRoom:function(e){var t=this;if(this.canRoomBeBlocked()){var n={room:e?void 0:this.selectedRoom&&this.selectedRoom.uuid,meeting_uuid:meetingInfo.request&&meetingInfo.request.uuid,time_zone:d.getTimeZoneId()};this.setMeetingTimes(n),window.envDetails.setBlockToken(n);var i=r.update({url:r.ENDPOINTS.room_block,data:n});i.then(function(n){t.trigger({type:"blockRoom",data:{discard:e}})}),i[i.fail?"fail":"catch"](function(n){t.trigger({type:"blockRoom",data:{discard:e}})})}else this.trigger({type:"blockRoom",data:{discard:e}})},getCurrentAgendaUUID:function(){return window.bam_uuid},onGetAllConferences:function(){var e=this;this.fetchConferencesAlreadyTriggered=!0;var t=r.fetch({url:r.ENDPOINTS.fetch_available_conferences,data:{user_based_auth_attribs:!0}});t.then(function(t){e.trigger({type:"populateConferences",data:t}),e.trigger({type:"storeVConIntegrations",data:t.data})}),t[t.fail?"fail":"catch"](function(t){e.trigger({type:"populateConferences",data:{data:[]}}),console.log("Failed to fetch the conferences",t)})},onCreateNewConference:function(e,t){var n=this,i=r.update({url:void 0===window.jiffle?r.ENDPOINTS.create_conference.replace("{INTEGRATION_NAME}",e.integration_name):r.ENDPOINTS.create_conference,data:a({meeting_action:"create",timezone:d.getTimeZoneId()||(window.isEBCEvent?envDetails.current_location.time_zone_converted||envDetails.current_location.timezone:envDetails.event.time_zone)},e),sectionLoader:".vcon-loader"});i.then(function(n){var i=n.data;t(i,e.adapter,e.integration_name,e.host_uuid),this.trigger({type:"onConferenceCreateSuccess",data:i})}.bind(this)),i[i.fail?"fail":"catch"](function(e){n.trigger({type:"onConferenceFailed",data:e.responseJSON})})},onVconInfoCaptured:function(e){this.trigger({type:"onVconInfoCaptured"})}});e.exports={MeetingStore:f}},function(e,t,n){function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var c=n(12),u=n(3),d=n(8),m=n(34),f=window.selectedActivityUuid,h=n(10),p=n(13).MeetingStore,g=n(30),v=n(17),y=n(16),b=n(31),w=window,M=w.envDetails,x=w.meetingInfo,C=w.mode,D=(w.isOngoingSales,w.mappingEnabled),k=n(63),S=n(18),A=Reflux.createStore({init:function(){this.listenTo(v,this.refreshExtAttList),this.listenToMany(c),this.internalAttendees={},this.internalResult=null,this.externalResult=null,this.externalAttendees={},this.internalPage={},this.externalPage={},this.fetchingInternal=!1,this.fetchingExternal=!1,this.extAttendeeProperties={},this.experts={},this.roles=[],this.selection={internal:{},external:{}},this.roleFilter={internal:[],external:[]},this.canSelect=!0,this.overRideRoomNonMMcapacityPopup=!1,this.overRideRoomcapacityPopup=!1,this.totalEntries={internal:{},external:{}},this.editAttendeeStatusHash={internal:{},external:{}},this.attendeeOptions={},this.pageName="book_meeting",this.declinedInviteStatus="declined",this.declinedIcsStatus="Declined",this.persistRequestorAsHost=!0,this.isSFDC="undefined"!=typeof jiffle,this.VConAlternateHostsMapping=[]},considerConsecutiveMeetings:function(e){M.isConsecutiveMeeting&&(e=_.merge(e,h.getRemainingMeetingsData()))},updateInviteeHash:function(e,t){var n=this.editAttendeeStatusHash.internal[e]||this.editAttendeeStatusHash.external[e];n&&(n.invite_status=t)},onShowAttendeesList:function(e){this.trigger({type:"showAttendeesList",attendeeType:e})},onFetchInternal:function(e,t){var n=this.internalPage.current_page||0,i=t||{},a=i.per_page||15,o=i.topicChange;if(!this.isInternalAttendeesHidden()&&!1===this.fetchingInternal&&n!==e){if(this.fetchingInternal=!0,n>=(this.internalPage.total_pages||1e3))return;var l={per_page:a,page:e,ignore_activity:!0,search:this.searchTerm,roles:this.roleFilter.internal,activity_uuid:f,basic_info:!0};this.setMeetingTimes(l),"edit"===x.request.mode&&(l.meeting_request=x.request.uuid);var s=!1;if(M.topicManagementEnabled&&M.topicUserMappingEnabled){if(void 0!==window.topic_uuid)l.topic_uuid=window.topic_uuid;else if("new"===C){var c=$("#topic_management").val();void 0===c&&(c=x.request.topic_uuid),"-"===c&&(c=""),l.topic_uuid=c}else l.topic_uuid=x.request.topic_uuid;s=!!l.topic_uuid}l.time_zone=S.getTimeZoneId("primaryTimeZone"),void 0!==window.briefing_uuid&&(l.briefing_uuid=window.briefing_uuid),window.envDetails.setBlockToken(l);var d=u.fetch({url:u.ENDPOINTS.internal_attendees,data:l});d.then(function(e){this.fetchingInternal=!1;var t=!e.data.items.length;e.data.items=_.uniqBy(this.addExperts(e.data.items,this.experts.internal),"uuid"),this.internalAttendees=this.internalAttendees||{},this.selection.internal=this.selection.internal||{};var n=r({},M.currentUser,{available:!0});e.data.items.splice(0,0,n),this.addAttendeesBatch(this.internalAttendees,this.selection.internal,e.data.items,o),this.updateSelection(this.internalAttendees,this.selection.internal),this.internalPage=e.data;var i={items:this.getAttendeesArray(_.assign({},this.selection.internal,this.internalAttendees)),current_page:e.data.current_page,total_pages:e.data.total_pages,noResultsFound:t,isSearchResult:this.searchTerm&&this.searchTerm.toBoolean(),groupData:s};this.internalResult=i,this.totalEntries.internal=Number(e.data.total_entries),this.trigger({type:"internal",data:i,page:e.data.current_page})}.bind(this)),d[d.fail?"fail":"catch"](function(e){this.fetchingInternal=!1,this.trigger({type:"usersFetchError",data:e.responseJSON})}.bind(this))}},getInternalResult:function(){if(this.internalResult){this.internalAttendees=this.internalAttendees||{},this.selection.internal=this.selection.internal||{},this.addAttendeesBatch(this.internalAttendees,this.selection.internal,this.internalPage.items),this.updateSelection(this.internalAttendees,this.selection.internal);var e=this.getAttendeesArray(_.assign({},this.selection.internal,this.internalAttendees));this.internalResult.items=e}return this.internalResult},getAttendeeDetails:function(e){return this.internalAttendees[e]||this.selection.internal[e]||this.externalAttendees[e]||this.selection.external[e]||{}},updateExternalSfdcUserUUID:function(e){e.length&&(_.forEach(e,function(e){if(!e.uuid.includes("dummy_")){var t=_.findKey(this.externalAttendees,{email:e.email}),n=_.findKey(this.selection.external,{email:e.email});void 0!==t&&t.includes("dummy_")&&(this.externalAttendees[t].uuid=e.uuid,this.externalAttendees[e.uuid]=this.externalAttendees[t],delete this.externalAttendees[t]),void 0!==n&&n.includes("dummy_")&&(this.selection.external[n].uuid=e.uuid,this.selection.external[e.uuid]=this.selection.external[n],delete this.selection.external[n])}}.bind(this)),M.isConsecutiveMeeting&&h.updateAttendeesForOtherMeetingsSFDC(e))},getAttendeesArray:function(e){var t=[];if(e instanceof Object)for(var n in e)t.push(e[n]);return t},getAttendeeHash:function(e){var t={};return e instanceof Array&&_.forEach(e,function(e){t[e.uuid]=e}),t},onUnselectAttendee:function(e,t){t=t||{},"internal"===T.attendee_type?this.onUnselectInternalAttendee(e):this.onUnselectExternalAttendee(e),t.silent&&e===M.currentUser.uuid&&(this.onUnselectInternalAttendee(e),this.trigger({type:"removeSelf"})),t.silent||this.trigger(_.merge({type:"cannotSelectAttendee",uuid:e,attendee_type:"internal",isSelf:e===M.currentUser.uuid},t))},canAssignMappedUserAsMeetingHostByDefault:function(e){return M.enable_meeting_host&&M.enable_meeting_host.toBoolean()&&M.assign_mapped_user_as_meeting_host_by_default&&e.mapped_topic},isAssignOnlyTopicMappedAttendeeHostEnabled:function(){return M.assign_only_topic_mapped_user_as_meeting_host&&M.assign_only_topic_mapped_user_as_meeting_host.toBoolean()},isTopicSelected:function(){var e=$("#topic_management-complement");return!("-"===e.val()||!e.val())},canRequestorEditMeetingHostRole:function(){return M.allow_requestors_to_unassign_meeting_host&&M.allow_requestors_to_unassign_meeting_host.toBoolean()},shouldConsiderAssignOnlyTopicMappedAttendeeHostConfig:function(){return!0===this.isTopicSelected()&&!0===this.isAssignOnlyTopicMappedAttendeeHostEnabled()},isAttendeeMappedToTopic:function(e){return(this.getAttendeeDetails(e)||{}).mapped_topic},canMeetingHostBeEdited:function(){return this.isJuniorMMorAbove()||this.canRequestorEditMeetingHostRole()},canAttendeeBeAssignedHost:function(e){return!1===this.isJuniorMMorAbove()?!0===this.canRequestorEditMeetingHostRole()?!0===this.shouldConsiderAssignOnlyTopicMappedAttendeeHostConfig()?{error:!this.isAttendeeMappedToTopic(e),message:i18n.t("can_not_select_unmapped_attendee")}:{error:!1}:{error:!0,message:i18n.t("can_not_edit_host_message")}:{error:!1}},getMeetingHostInfoForAttendee:function(e,t){return this.canAssignMappedUserAsMeetingHostByDefault(e)?t=!0:t&&!this.isJuniorMMorAbove()&&this.isAssignOnlyTopicMappedAttendeeHostEnabled()&&(t=e.mapped_topic),t},addAttendeesBatch:function(e,t,n){var i=this,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];_.forEach(n,function(n){if(t[n.uuid])var o=t[n.uuid].meeting_host;if(void 0===t[n.uuid])e[n.uuid]=n;else{var l=a&&i.isTopicSelected()?i.getMeetingHostInfoForAttendee(n,o):o,s=t[n.uuid].mode_of_attendance||null;s?_.assign(t[n.uuid],n,{selected:!0,meeting_host:l,mode_of_attendance:s}):_.assign(t[n.uuid],n,{selected:!0,meeting_host:l})}n.uuid===M.currentUser.uuid&&t[n.uuid]&&"declined"===t[n.uuid].invite_status&&_.assign(t[n.uuid],{meeting_host:o})})},addExternalAttendeesBatchSFDC:function(e,t,n){_.forEach(n,function(n){var i=_.findKey(t,{email:n.email});void 0!==i?(n.uuid=i,_.assign(t[i],n,{selected:!0})):e[n.uuid]=n})},onUpdateAreYouAttending:function(e){d.updateAreYouAttending(e)},setMeetingTimes:function(e){if(this.currentEvent){var t=(this.currentEvent.end_date-this.currentEvent.start_date)/1e3/60,n=60*this.currentEvent.start_date.getHours()+this.currentEvent.start_date.getMinutes(),i=n+t;e.event_date=moment(this.currentEvent.start_date).format("DD-MM-YYYY"),e.start_time=n,e.end_time=i}},onFetchLeadDetails:function(e,t){if(!window.isEBCEvent&&!1===this.isExternalAttendeesHidden()){var n=this.externalPage.current_page||0;if(!this.fetchingExternal&&n!==e){if(this.fetchingExternal=!0,n>=(this.externalPage.total_pages||1e3))return;var i={leadIds:[],per_page:15,page:e,search:this.externalSearchTerm,roles:this.roleFilter.external};this.addSelectedAttendeesEmail(i);var a=u.fetch({url:u.ENDPOINTS.lead_details,data:i});a.then(function(e){this.fetchingExternal=!1,this.extAttendeeProperties.total_pages=e.data.total_pages,this.extAttendeeProperties.current_page=e.data.current_page,this.addExternalAttendeesBatchSFDC(this.externalAttendees,this.selection.external,e.data.items),this.updateSelection(this.externalAttendees,this.selection.external),this.externalPage=e.data;var t={items:this.getAttendeesArray(_.assign({},this.selection.external,this.externalAttendees)),current_page:e.data.current_page,total_pages:e.data.total_pages};this.trigger({type:"external",data:t,page:e.data.current_page})}.bind(this)),a[a.fail?"fail":"catch"](function(e){this.fetchingExternal=!1,this.trigger({type:"usersFetchError",data:e.responseJSON})}.bind(this))}}},onFetchExternal:function(e,t){if("undefined"==typeof jiffle||!window.isLeadsMeeting||M.showJifflenowExternalAttendees){if(!window.isEBCEvent&&!1===this.isExternalAttendeesHidden()){var i=this.externalPage.current_page||0;if(!this.fetchingExternal&&i!==e){if(this.fetchingExternal=!0,i>=(this.externalPage.total_pages||1e3))return;var a={per_page:15,page:e,search:this.externalSearchTerm,roles:this.roleFilter.external,basic_info:!0};this.setMeetingTimes(a);var o=u.ENDPOINTS.external_attendees;"undefined"==typeof jiffle||M.showJifflenowExternalAttendees||("edit"===x.request.mode||"new"===x.request.mode&&x.meetingUUID?a.account_id=x.request.custom_fields.meeting_account_id:a.account_id=v.selectedAccount.id,o=u.ENDPOINTS.fetch_contacts),"undefined"!=typeof jiffle&&M.showJifflenowExternalAttendees&&(a.registered_only=!0),"edit"===x.request.mode&&(a.meeting_request=x.request.uuid),a.activity_uuid=f,a.time_zone=S.getTimeZoneId("primaryTimeZone"),this.considerConsecutiveMeetings(a),window.envDetails.setBlockToken(a),this.isSFDC&&this.addSelectedAttendeesEmail(a);var l=u.fetch({url:o,data:a});l.then(function(e){this.fetchingExternal=!1;var t=!e.data.items.length;e.data.items=_.uniqBy(this.addExperts(e.data.items,this.experts.external),"uuid"),this.extAttendeeProperties.total_pages=e.data.total_pages,this.extAttendeeProperties.current_page=e.data.current_page,"undefined"==typeof jiffle||M.showJifflenowExternalAttendees?this.addAttendeesBatch(this.externalAttendees,this.selection.external,e.data.items):this.addExternalAttendeesBatchSFDC(this.externalAttendees,this.selection.external,e.data.items),this.updateSelection(this.externalAttendees,this.selection.external),this.externalPage=e.data;var i={items:this.getAttendeesArray(_.assign({},this.selection.external,this.externalAttendees)),isSearchResult:this.externalSearchTerm&&this.externalSearchTerm.toBoolean(),noResultsFound:t,hasSelectedAttendees:0!==n(11).getModelData("external").length,current_page:e.data.current_page,total_pages:e.data.total_pages};this.externalResult=i,this.trigger({type:"external",data:i,page:e.data.current_page})}.bind(this)),l[l.fail?"fail":"catch"](function(e){this.fetchingExternal=!1,this.trigger({type:"usersFetchError",data:e.responseJSON})}.bind(this))}}}else this.onFetchLeadDetails(e,t)},getExternalResult:function(){if(this.externalResult){this.externalAttendees=this.externalAttendees||{},this.selection.external=this.selection.external||{},"undefined"==typeof jiffle||M.showJifflenowExternalAttendees?this.addAttendeesBatch(this.externalAttendees,this.selection.external,this.externalPage.items):this.addExternalAttendeesBatchSFDC(this.externalAttendees,this.selection.external,this.externalPage.items),this.updateSelection(this.externalAttendees,this.selection.external);var e=this.getAttendeesArray(_.assign({},this.selection.external,this.externalAttendees));this.externalResult.items=e}return this.externalResult},addSelectedAttendeesEmail:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.selectedAttendees=Object.keys(this.selection.external).map(function(t){return e.selection.external[t].email})},onRefreshExternalAttendees:function(){if(0!==this.externalAttendees.length){var e={items:this.getAttendeesArray(_.assign({},this.selection.external,this.externalAttendees)),current_page:this.extAttendeeProperties.current_page,total_pages:this.extAttendeeProperties.total_pages};this.trigger({type:"external",data:e,page:this.extAttendeeProperties.current_page})}},onRoleFilterChosen:function(e,t,n){var i=this.roleFilter[n]||[];t?i.push(e):_.remove(i,function(t){return e===t})},onRemoveFilters:function(e){this.roleFilter[e]=[],"internal"===e?(this.resetInternalList(),this.onFilterInternal(1)):this.onFilterExternal(1)},onInitiateNewMeeting:function(e,t){f=e,this.fetchingInternal=!1,this.fetchingExternal=!1,this.experts={},this.canSelect=!0,this.totalEntries={internal:{},external:{}},this.attendeeOptions={},this.currentEvent=t.event||null,this.updateAttedeeInviteStatuses(t),this.resetInternalList(),this.resetExternalList(),this.selection.internal=this.getAttendeeHash(t.internal),this.selection.external=this.getAttendeeHash(t.external),this.persistRequestorAsHost=!M.isConsecutiveMeeting||t.persistRequestorAsHost,this.trigger({type:"initiateAttendee",data:t})},updateAttedeeInviteStatuses:function(e){var t={};_.forEach(e.internal,function(e){t[e.uuid]=e,e.selected=!0,e.available=!0}),this.editAttendeeStatusHash.internal=t;var n={};_.forEach(e.external,function(e){n[e.uuid]=e,e.selected=!0,e.available=!0}),this.editAttendeeStatusHash.external=n},selectVirtualAttendeesToUserList:function(e,t,n){this.userAddToListActions[e].call(this,t,n)},canSelectAttendee:function(e,t,n,i){if(this.canSelect||this.capacityCheckForNonMM()||this.isCurrentUserAddedForCm()&&!window.isSFDC())this.userAddToListActions[t].call(this,e,i);else{var a={uuid:e,attendee_type:t,fromUserPreference:n};"internal"===t&&_.merge(a,{isSelf:e===M.currentUser.uuid}),this.isJuniorMMorAbove()?this.trigger(_.merge({type:"overRideRoomcapacity"},a)):this.trigger(_.merge({type:"cannotSelectAttendee"},a))}},onCanReinviteAttendee:function(e,t,n){if(this.canSelect||this.capacityCheckForNonMM()||M.isConsecutiveMeeting)if(M.isConsecutiveMeeting){var i={uuid:e};this.trigger({type:"canReinviteAttendeesInConsecMeeitngs",user:i,attendeeType:t,callbackFunction:n})}else this.trigger({type:"reinviteAttendees",callbackFunction:n});else this.isJuniorMMorAbove()?this.trigger({type:"overRideRoomcapacity",uuid:e,attendee_type:"external",callbackFunction:n}):this.trigger({type:"showCannotIncludeAttendee",message:i18n.t("cannot_reinvite_as_capacity_reached_in_edit")})},onSelectExternalAttendee:function(e){y.syncExtAttendeeToSFDC(this.externalAttendees[e],!1)?b.onSyncAttendeeToSfdc(this.externalAttendees[e],function(t){t.user&&(this.externalAttendees[e].Id=t.user.sfdc_contact_id||t.user.sfdc_lead_id),this.canSelectAttendee(e,"external")}.bind(this)):this.canSelectAttendee(e,"external")},onSelectInternalAttendee:function(e,t){this.canSelectAttendee(e,"internal",!1,t)},isCurrentUserAddedForCm:function(){return M.isConsecutiveMeeting},userAddToListActions:{internal:function(e,t){var n=_.cloneDeep(this.internalAttendees[e]);if(n?n.selected=!0:n=e===M.currentUser.uuid?M.currentUser:{uuid:e},this.getOriginalInviteeStatuses(n,"internal"),!this.selection.internal[e]){var i=_.cloneDeep(n);M.currentUser.uuid===n.uuid&&(i.meeting_host=!1),this.selection.internal[e]=i,delete this.internalAttendees[e],this.trigger({type:"internalAttendeeSelected",user:i,userCallback:t})}},external:function(e){var t=this.externalAttendees[e];t?t.selected=!0:t={uuid:e},this.getOriginalInviteeStatuses(t,"external"),this.selection.external[e]||(this.selection.external[e]=t,delete this.externalAttendees[e],this.trigger({type:"externalAttendeeSelected",user:t}))}},capacityCheckForNonMM:function(){return"edit"===C&&this.getExistingUserCountInMeeting()>p.selectedRoom.capacity&&(this.overRideRoomNonMMcapacityPopup=!0),"edit"===C&&p.attendeeCount<this.getExistingUserCountInMeeting()},isJuniorMMorAbove:function(){return M.isCSM()||M.isMeetingManager()||M.isJuniorMM()||M.isQueueManager()},getOriginalInviteeStatuses:function(e,t){var n=e.meeting_host;if(this.editAttendeeStatusHash[t][e.uuid]){var i=this.editAttendeeStatusHash[t][e.uuid],a=i.selected,o=i.available,s=i.invite_status;e=l(l({},e),{},{selected:a,available:o,invite_status:s})}e.meeting_host=n},updateAutoAddedExpertsCountIfAny:function(){var e=0;this.isInternalAttendeesHidden()&&(e=this.experts.internal.length),this.isExternalAttendeesHidden()&&(e+=this.experts.external.length),this.trigger({type:"setHiddenExpertsCount",data:e})},getExistingUserCountInMeeting:function(){var e=p.getCurrentAgendaUUID(),t=[];if(x.request.mode_of_attendance_enabled){var n=_.uniq(g.BriefingRequestStore.getAttendeesForAgenda(e),"uuid");return x.request.meetingUserCapacityCount+n.length}return M.isConsecutiveMeeting||(t=_.uniq([].concat(i(this.filterNonDeclinedAttendees(x.request.users.internal)),i(this.filterNonDeclinedAttendees(x.request.users.external)),i(g.BriefingRequestStore.getAttendeesForAgenda(e))),"uuid")),t.length},filterNonIcsDeclinedAttendees:function(e){return _.filter(e,function(e){return e.ics_status!==this.declinedIcsStatus}.bind(this))},filterNonDeclinedAttendees:function(e){return _.filter(e,function(e){return e.invite_status!==this.declinedInviteStatus}.bind(this))},filterInpersonNonDeclinedAttendees:function(e){return _.filter(e,function(e){return e.invite_status!==this.declinedInviteStatus&&("in_person"===e.mode_of_attendance||""===e.mode_of_attendance)}.bind(this))},onUnselectInternalAttendee:function(e){var t=_.cloneDeep(this.selection.internal[e]);t?(t.selected=!1,this.internalAttendees[e]=t):t={uuid:e},delete this.selection.internal[e],this.trigger({type:"internalAttendeeUnselected",user:t})},getInternalSelectedUsers:function(e){return this.selection.internal[e]},getExternalSelectedUser:function(e){return this.selection.external[e]||{}},onUpdateIcsStatus:function(e,t){this.selection.external[e].send_ics=t},onUpdateAttendeeAsHost:function(e,t){var n=this.selection.internal[e];n&&(n.meeting_host=t,this.trigger({type:"setMeetingHost",user:this.selection.internal[e]}))},onUpdateInternalAttendeeAttendance:function(e,t){var n=this.selection.internal[e];n&&(n.mode_of_attendance=t,this.trigger({type:"setModeOfAttendance",user:this.selection.internal[e]}))},onUpdateExternalAttendeeAttendance:function(e,t){var n=this.selection.external[e];n&&(n.mode_of_attendance=t,this.trigger({type:"setModeOfAttendance",user:this.selection.external[e]}))},onUpdateAttendeePreEndorsement:function(e,t){var n=this.selection.internal[e];n&&(n.pre_endorse=t,this.trigger({type:"setUserPreEndorsement",user:n}))},getUserStatus:function(e){return this.selection.internal[e].invite_status},onUnselectExternalAttendee:function(e){var t=_.cloneDeep(this.selection.external[e]);t?(t.selected=!1,this.externalAttendees[e]=t):t={uuid:e},delete this.selection.external[e],this.trigger({type:"externalAttendeeUnselected",user:t})},onAllExternalAttendeeUnselected:function(){if(Object.keys(this.selection.external).length){var e=_.cloneDeep(this.selection.external);this.selection.external={},this.trigger({type:"allExternalAttendeeUnselected",user:e})}},onTabChanged:function(e){var t=this.searchTerm||"";"external"===e&&(t=this.externalSearchTerm||""),this.trigger({type:"tabChanged",searchTerm:t,roles:this.roleFilter[e]})},onEditAttendees:function(e,t,n){if(e){var i=e.internal.length+e.external.length;this.updateAttedeeInviteStatuses(e),this.selection.internal=this.getAttendeeHash(e.internal),this.selection.external=this.getAttendeeHash(e.external),this.updateSelection(this.internalAttendees,this.selection.internal),this.updateSelection(this.externalAttendees,this.selection.external),i>0&&this.trigger({type:"editAttendees",users:e,hasCurrUser:t,dontUpdateCalendar:n})}},checkMappedMeetingHostConfig:function(e){return M.enable_meeting_host&&M.enable_meeting_host.toBoolean()&&M.assign_mapped_user_as_meeting_host_by_default&&e.mapped_topic},canBeMeetingHost:function(e){_.map(e,function(e){this.checkMappedMeetingHostConfig(e)&&(e.meeting_host=!0)}.bind(this))},onCopyAttendees:function(e){if(e){e.internal=this.filterInternalUsers(e.internal),e.external=this.filterExternalUsers(e.external);var t=this.isCurrentUserPresentInInternalAttendees(e.internal),n=this.getAttendeeCount(this.selection.internal),i=this.getAttendeeCount(this.selection.external),a=n+i;_.merge(this.selection.internal,this.getAttendeeHash(e.internal)),_.merge(this.selection.external,this.getAttendeeHash(e.external)),this.updateSelection(this.internalAttendees,this.selection.internal),this.updateSelection(this.externalAttendees,this.selection.external);var o={};o.internal=_.map(this.selection.internal,function(e){return e}),o.external=_.map(this.selection.external,function(e){return e}),this.updateAttedeeInviteStatuses(o);var l=this.getAttendeeCount(o.internal),s=this.getAttendeeCount(o.external),r=l+s;this.canBeMeetingHost(o.internal),r-a>0&&(this.trigger({type:"editAttendees",users:o,hasCurrUser:t}),this.onEventCreated(this.currentEvent),this.isRoomCapacityOver()&&$(".remove-selected-room").trigger("click")),this.trigger({type:"onCopyAttendees",internalCount:l-n,externalCount:s-i,hasCurrUser:t})}},filterInternalUsers:function(e){return this.isInternalAttendeesHidden()?e=this.isCurrentUserPresentInInternalAttendees(e)&&this.canUserChangeSelfAttendance()?this.filterInternalUsersForCurrentUser(e):[]:(this.isCurrentUserPresentInInternalAttendees(e)&&(this.canUserChangeSelfAttendance()||(e=this.removeCurrentUserFromInternalUser(e))),window.isEBCEvent&&(e=this.filterInternalUsersForBriefing(e))),_.forEach(e,function(e){this.getOriginalInviteeStatuses(e,"internal")}.bind(this)),e},filterExternalUsers:function(e){return M.isConsecutiveMeeting&&(e=_.filter(e,function(e){return!0===e.available||"true"===e.available})),(window.isEBCEvent||this.isExternalAttendeesHidden())&&(e=[]),_.forEach(e,function(e){this.getOriginalInviteeStatuses(e,"external")}.bind(this)),e},canUserChangeSelfAttendance:function(){return M.canUserChangeSelfAttendance},isCurrentUserPresentInInternalAttendees:function(e){return void 0!==this.getCurrentUser(e)},getCurrentUser:function(e){var t=M.currentUser.uuid;return _.find(e,function(e){return e.uuid===t})},filterInternalUsersForCurrentUser:function(e){var t=this.getCurrentUser(e);return e=_.filter(e,function(e){return e.uuid===t.uuid})},removeCurrentUserFromInternalUser:function(e){var t=this.getCurrentUser(e);return _.remove(e,function(e){return e.uuid===t.uuid}),e},filterInternalUsersForBriefing:function(e){var t=g.BriefingRequestStore.briefingInternalAttendees;return t&&(e=_.filter(e,function(e){return _.findIndex(t,function(t){return t.uuid===e.uuid})<0})),e},getAttendeeCount:function(e){return Object.keys(e).length},isRoomCapacityOver:function(){return p.selectedRoom&&p.attendeeCount>p.selectedRoom.capacity},resetInternalList:function(){this.internalPage={},this.fetchingInternal=!1,this.internalAttendees={}},onResetAndFetchInternalAttendees:function(){this.resetInternalList(),this.onFetchInternal(1,{topicChange:!0})},onResetInternalAttendeeList:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&e.forEach(function(e){return delete t.selection.internal[e]});var i=M.currentUser.uuid,a=_.cloneDeep(this.selection.internal[i]);this.resetInternalList(),this.canSelect=!0,e||(this.selection.internal={},a&&(!1===k.isJmmOrAbove()&&M.assign_only_topic_mapped_user_as_meeting_host&&(a.meeting_host=!1),this.selection.internal[i]=a)),this.trigger({type:"resetInternalAttendeeList",user:a,topicChange:n})},onResetExternalAttendeeList:function(){this.resetExternalList(),this.onFetchExternal(1)},resetExternalList:function(){this.externalPage={},this.fetchingExternal=!1,this.externalAttendees={}},onSearchInternal:function(e){this.resetInternalList(),this.searchTerm=e,this.onFetchInternal(1)},onSearchExternal:function(e){this.resetExternalList(),this.externalSearchTerm=e,this.onFetchExternal(1)},onFilterInternal:function(){this.resetInternalList(),this.onFetchInternal(1)},onSetExperts:function(e){var t=e.data.data;this.experts=t.items,!_.isEmpty(p.selectedRoom)&&this.updateAutoAddedExpertsCountIfAny(),this.resetExperts(this.experts.internal,this.selection.internal),this.resetExperts(this.experts.external,this.selection.external)},resetExperts:function(e,t){_.forEach(t,function(e){e.expert=!1}),_.forEach(e,function(e){var n=t[e.uuid];n&&(n.expert=!0)})},addExperts:function(e,t){var n=_.union(t,e);return n=_.uniq(n,function(e,t,n){return e.uuid})},onFilterExternal:function(){this.resetExternalList(),this.onFetchExternal(1)},updateSelection:function(e,t){_.forEach(e,function(n,i){t[i]&&delete e[i]})},onResetAllAttendees:function(){this.resetInternalList(),this.resetExternalList(),this.onFetchInternal(1),this.onFetchExternal(1)},onEventCreated:function(e){this.currentEvent=e,D?(m.setCurrentEvent(e),m.fetchExperts({callback:function(){this.onResetAllAttendees()}.bind(this)})):this.onResetAllAttendees()},onDomainValidate:function(e){e.activity_uuid=f,e.event_uuid=M.event.uuid,e.requested_page=this.pageName;var t=u.fetch({url:x.domainValidateUrl,prefix:"",data:e});return t.then(function(e){this.trigger({type:"emailFieldValidatorHandler",apiResponse:e})}.bind(this)),t[t.fail?"fail":"catch"](function(e){console.log(e)}),t},onCanSelectAttendees:function(e){this.canSelect=e},persistOverRideRoomPopup:function(e){this.overRideRoomcapacityPopup=e},getOverRideRoomcapacityPopup:function(){return this.overRideRoomcapacityPopup},overRideRoomNonMMcapacityPopup:function(){return this.overRideRoomNonMMcapacityPopup},resetOverRideRoomNonMMcapacityPopup:function(e){this.overRideRoomNonMMcapacityPopup=e},onSetAttendeeOptionsSetting:function(e){this.attendeeOptions=e},isInternalAttendeesHidden:function(){return!M.isConsecutiveMeeting&&"yes"===this.attendeeOptions.hide_internal_attendees_in_book_meeting},isExternalAttendeesHidden:function(){return!M.isConsecutiveMeeting&&"yes"===this.attendeeOptions.hide_external_attendees_in_book_meeting},onGetattendeeSettings:function(){this.data={internal:this.isInternalAttendeesHidden(),external:this.isExternalAttendeesHidden(),default_mapping:this.attendeeOptions.default_mapping,ics_optout:this.attendeeOptions.external_ics_opt_out,enable_meeting_host:this.attendeeOptions.enable_meeting_host,show_add_internal_attendee:this.showAddAttendeeSection()},this.trigger({type:"handleAttendeeSection",payload:this.data})},showAddAttendeeSection:function(){return k.isJmmOrAbove()||this.attendeeOptions.allow_requestor_to_add_internal_attendee.toBoolean()},isMappingEnabled:function(){return"yes"===this.attendeeOptions.default_mapping},refreshExtAttList:function(e){"refreshContactList"===e.type&&(this.onAllExternalAttendeeUnselected(),this.resetExternalList(),this.onFetchExternal(1))},makeAttendeeAsAlternateHost:function(e,t){function n(t){return t===e}t?-1===_.findIndex(this.VConAlternateHostsMapping,n)&&this.VConAlternateHostsMapping.push(e):_.findIndex(this.VConAlternateHostsMapping,n)>-1&&(this.VConAlternateHostsMapping=_.without(this.VConAlternateHostsMapping,e));var i=this.selection.internal[e];i&&(i.alternate_host=t)},reRenderInternalAttendeeList:function(){var e=this.getInternalResult();e&&this.trigger({type:"renderInternalListWithUpdatedAlternateHostStatus",data:e})}}),T=Reflux.createStore({init:function(){this.listenToMany(c),this.attendee_data={},this.attendee_type="internal",this.createdAttendeeHash={internal:{},external:{}},this.pageName="book_meeting",this.isAttendeeCreated=!1,this.attendeeCustomFieldFetched=!1},setAttendeeCreatedFlag:function(e){this.isAttendeeCreated=e},getAttendeeCreatedFlag:function(){return this.isAttendeeCreated},updateAttendeeData:function(e,t){this.attendee_data[e]=t},updateAttendeeType:function(e){this.attendee_type=e},onCreateAttendee:function(e,t,n,i,a,o){M.isConsecutiveMeeting||A.canSelect||A.capacityCheckForNonMM()||a?this.createNewAttendee(e,t,n,i,o):A.isJuniorMMorAbove()?A.trigger({type:"overRideRoomcapacity",attendee_type:"createNewAttendee",custom_fields:e,consent:n}):A.trigger({type:"cannotSelectAttendee",attendee_type:this.attendee_type})},createNewAttendee:function(e,t,n,i,a){this.attendee_data.custom_fields=e||{};var o=u.update({url:u.ENDPOINTS.user_create,prefix:M.urlPrefix,data:{user:this.attendee_data,user_type:this.attendee_type,activity_uuid:f,requested_page:this.pageName,topic_uuid:t,consent:n?"true":"false",make_event_visible:a}});o.then(function(e){200===e.status&&(this.setAttendeeCreatedFlag(!0),this.addAttendeeData(e.data,!0,i))}.bind(this)),o[o.fail?"fail":"catch"](function(e){console.log(e),this.trigger({error:e.responseJSON,success:!1})}.bind(this))},addAttendeeData:function(e,t,n){var i,a,o,l,s,r;"internal"===this.attendee_type?(i="internalAttendeeSelected",o="internalAttendees"):(i="externalAttendeeSelected",o="externalAttendees"),e&&(a=e.user,r=M.currentUser.uuid,a.available=!0,a.selected=!0,a.sync_contact=this.attendee_data.sync_contact||!1,s=!0,_.assign(a,(A.editAttendeeStatusHash[this.attendee_type]||{})[a.uuid]),r!==a.uuid?(l=A.selection[this.attendee_type])[a.uuid]?(s=!1,a.sync_contact&&(l[a.uuid].sync_contact=a.sync_contact)):(l[a.uuid]=a,A.updateSelection(A[o],l)):(l=A.selection[this.attendee_type])[a.uuid]?s=!1:(l[a.uuid]=a,A.updateSelection(A[o],l)));var c=function(){s?this.trigger({type:i,user:a,attendee_type:this.attendee_type,success:!0,isNewAttendee:t,userCallback:n}):this.trigger({type:"closePopup",success:!0})};"external"===this.attendee_type&&y.syncExtAttendeeToSFDC(a,!0)?b.onSyncAttendeeToSfdc(a,function(e){e.user&&(a.Id=e.user.sfdc_contact_id||e.user.sfdc_lead_id),c.apply(this)}.bind(this)):c.apply(this)},resetAttendeeData:function(){this.attendee_data={}},getAttendeeData:function(){this.attendee_data},setAttendeeCustomFieldFetched:function(e){this.attendeeCustomFieldFetched=e},isAttendeeCustomFieldFetched:function(){return this.attendeeCustomFieldFetched}});e.exports={AttendeeStore:A,AddEditAttendeeStore:T}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=function(){var e="YYYY-MM-DD hh:mm A",t="hh:mm A",i="YYYY-MM-DD",a="DD-MM-YYYY hh:mm A",o="DD-MM-YYYY HH:mm",l="MM/DD/YYYY HH:mm:ss",s="YYYY-MM-DDTHH:mm:ss";function r(t){return moment(t,e)._d}return{convertDateTimeToTime:function(n){return moment(n,e).format(t)},jsDateToDateFormat:function(e){return moment(e).format(i)},jsDateToDateTimeFormat:function(t){return moment(t).format(e)},convertDateTimeServerToTime:function(e){return moment(e,a).format(t)},convertDateTimeServerToJsDate:function(e){return moment(e,a)._d},jsDateToTime:function(e){return moment(e).format(t)},convertDateTimeToJsDate:r,convertTimeZoneToUtc:function(t){return moment(moment(t).utc().format(e),e)._d},convertServerDateTimeToDate:function(e){return moment(e,o).format(i)},jsDateToWebEXDateFormat:function(e){return moment(e).format(l)},convertDateToIso24HoursFormat:function(e){return moment(e).format(s)},jsDateOrDateStringToTime:function(e){var i="object"===n(e)?e:r(e);return moment(i).format(t)}}}();e.exports=i},function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(){function e(e,n){var i="";return window.isLeadsMeeting&&(n||(n=t(e)),_.forEach(n,function(e){if(e.Id)return i=e.Id,!1})),i}function t(e){var t=_.cloneDeep(e.external);return e.waitlist&&e.waitlist instanceof Array&&(t=t.concat(_.cloneDeep(e.waitlist))),t}return{addMeetingRequestParams:function(n,i){if("undefined"!=typeof jiffle){var a=t(i);n.account_id="new"===mode?i.account.acc.id:window.currentMeetingInfo.request.custom_fields.meeting_account_id,n.opportunity_id=i.account.oppty.id,n.lead_id="new"===mode?e(i,a):window.currentMeetingInfo.request.custom_fields.meeting_lead_id}},getValidLeadId:e,syncExtAttendeeToSFDC:function(e,t){return"undefined"!=typeof jiffle&&(t?e.sync_contact:!(!envDetails.showJifflenowExternalAttendees||e.id)&&(window.isLeadsMeeting?envDetails.syncLeadsToSfdc:envDetails.syncContactsToSfdc))},getExtAttSfdcCustomFields:function(e){var t={};return _.forEach(envDetails.extatt_custom_field_mappings,function(n,i){t[i]=e[n]||""}),t},getAttListToSyncInJN:function(e){if("undefined"==typeof jiffle)return[];var a=[];return _.forEach(t(e),function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach(function(t){i(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e),o=t.consent_given,l=void 0===o?"false":o,s=t.consent_details,r=void 0===s?"":s,c={title:e.title||"-",uuid:e.uuid,first_name:e.first_name,last_name:e.last_name,email:e.email,contact_no:e.contact_no||"-",company_name:e.company_name,custom_fields:e.custom_fields,sfdc_info:{},consent:l,consent_details:r};c.sfdc_info[window.isLeadsMeeting?"sfdc_lead_id":"sfdc_contact_id"]=e.Id,a.push(c)}),a}}}();e.exports=a},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(62),s=n(3),r=Reflux.createStore({init:function(){this.listenToMany(l),this.selectedAccount={name:"",id:this.urlParam("accid")},this.selectedOpportunity={name:"",id:this.urlParam("oppid")},this.currentAccountList={},this.currentOpptyList={}},getAccountInfo:function(e){return this.currentOpptyList[e]},getOpptyList:function(e){return this.currentAccountList[e]},getSelectedAccount:function(){return this.selectedAccount},setSelectedAccount:function(e){this.selectedAccount={name:e.name,id:e.account_id}},getSelectedOppty:function(){return this.selectedOpportunity},storeOpptyDetails:function(e){this.currentOpptyList=e.map(function(e){return o({},e.opportunity_id,e)}).reduce(function(e,t){return a(a({},e),t)},{})},storeAccountDetails:function(e){var t={};_.forEach(e,function(e){t[e.id]=e}),this.currentAccountList=t},urlParam:function(e,t){var n=t||window.location.href,i=new RegExp("[?&]"+e+"=([^&#]*)").exec(n);return null==i?"":i[1]||0},updateAccountSelection:function(e,t){var n={id:e,name:t};this.selectedAccount=n,this.trigger({type:"account",data:n})},updateOpptySelection:function(e,t){var n={id:e,name:t};this.selectedOpportunity=n,this.trigger({type:"opportunity",data:n})},onFetchAccount:function(){var e=s.fetch({data:{account_id:this.selectedAccount.id,opportunity_id:this.selectedOpportunity.id},url:s.ENDPOINTS.fetch_account});e.then(function(e){if(1==e.data.accounts.length){var t=e.data.accounts[0];this.updateAccountSelection(t.account_id,t.name),this.trigger({type:"showdefaultdetails",data:t})}}.bind(this)),e[e.fail?"fail":"catch"](function(e){this.trigger({type:"showErrors",data:e.responseJSON.errors})}.bind(this))},onFetchAccounts:function(e){return s.fetch({data:e,prefix:"undefined"==typeof jiffle?"/portal":"",url:s.ENDPOINTS.fetch_account})},onFetchOppoprunity:function(e){return s.fetch({data:e,prefix:"undefined"==typeof jiffle?"/portal":"",url:s.ENDPOINTS.fetch_opportunity})},onRefreshContactList:function(){this.trigger({type:"refreshContactList"})}});e.exports=r},function(e,t,n){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=n(36),o=n(96),l=Reflux.createStore(i({init:function(){this.listenToMany(a),this.setStoreVariables()}},o));e.exports=l},function(e,t){e.exports=function(e){if("string"==typeof e){return e=e.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),(e=new Handlebars.SafeString(e)).string}return""}},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}e.exports=function(e,t){var i=n(t.hash,e);t.fn&&(i.defaultValue=t.fn(e));var a=i18n.t(i.key,i);return new Handlebars.SafeString(a)}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.HandlebarsEnvironment=c;var a=n(6),o=i(n(7)),l=n(22),s=n(56),r=i(n(58));t.VERSION="4.5.3";t.COMPILER_REVISION=8;t.LAST_COMPATIBLE_COMPILER_REVISION=7;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};function c(e,t,n){this.helpers=e||{},this.partials=t||{},this.decorators=n||{},l.registerDefaultHelpers(this),s.registerDefaultDecorators(this)}c.prototype={constructor:c,logger:r.default,log:r.default.log,registerHelper:function(e,t){if("[object Object]"===a.toString.call(e)){if(t)throw new o.default("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if("[object Object]"===a.toString.call(e))a.extend(this.partials,e);else{if(void 0===t)throw new o.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if("[object Object]"===a.toString.call(e)){if(t)throw new o.default("Arg not supported with multiple decorators");a.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]}};var u=r.default.log;t.log=u,t.createFrame=a.createFrame,t.logger=r.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.registerDefaultHelpers=function(e){a.default(e),o.default(e),l.default(e),s.default(e),r.default(e),c.default(e),u.default(e)},t.moveHelperToHooks=function(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])};var a=i(n(49)),o=i(n(50)),l=i(n(51)),s=i(n(52)),r=i(n(53)),c=i(n(54)),u=i(n(55))},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}e.exports=i},function(e,t,n){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=n(101),o=$(".js-set-time-form"),l=o.find('[name="start_time"]'),s=o.find('[name="end_time"]'),r=o.find("#error_block"),c=o.find(".timezone-text"),u=o.find(".js-secondary-time"),d={isSSEvent:!1,validationCallback:null},m=$(".js-clear-cal-event");function f(e){if(window.isEBCEvent||!window.isOngoingSales&&window.isVirtualEvent){var t=(e=e||{}).timezone_gmt_offset||window.envDetails.event.timezone_gmt_offset,n=e.time_zone_display_name||window.envDetails.event.time_zone_display_name,i="".concat(t,", ").concat(n);c.text(i).prop("title",i),c.attr("data-original-title",i)}}function h(e){i(d,e)}var p=function(){o.addClass("hide"),o.data("event","")},_=function(){o.removeClass("hide")},g=function(){var e=o.data("event");e&&!x()&&b(e,scheduler.getEvent(e))},v=function(e){$(e.target).is(":not(.js-set-time-form *)")&&g()};function y(e,t){_();var n=scheduler.getEvent(e),i=window.envDetails.isAbstractOnlyEditableMode;return i&&i()||!window.envDetails.can_edit_time?(b(e,n,!0),!0):(n&&"existing-briefing-meeting"!==n.type&&b(e,n),!0)}function b(e,t){S(t,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),o.data("event",e),w()}function w(){A(""),o.find(".help-block").remove(),o.find(".section-caltime-bx").removeClass("has-error")}var M=function(e){var t="";if(e<60){var n="".concat(e>1?"minutes":"minute");t="".concat(e," ").concat(n)}else{var i=Math.floor(e/60),a=e%60,o="".concat(i>1?"hours":"hour"),l="".concat(a>1?"minutes":"minute");t=0===a?"".concat(i," ").concat(o):"".concat(i," ").concat(o," and ").concat(a," ").concat(l)}return t},x=function(){return o.valid()&&!1===o.hasClass("has-error")};function C(e){if(!l.prop("readonly")&&(A(""),x())){var t=o.data("event"),n=scheduler.getEvent(t),i=n.start_date,r=new Date(n.end_date),c=a(i).isSame(r,"date");"12:00 am"===s.val().toLowerCase()?c&&r.setDate(r.getDate()+1):r=i;var u="".concat(i.toDateString()," ").concat(l.val()),m="".concat(r.toDateString()," ").concat(s.val()),f=new Date(u),h=new Date(m);if(f>h||a(f).isSame(h))return void A(i18n.t("start_time_greater_than_end"));var p=(h-f)/6e4;if(!d.isSSEvent&&(p<scheduler.config.minimum_duration||p>scheduler.config.maximum_duration))return void A(i18n.t("slot_size_invalid",{min_duration:M(scheduler.config.minimum_duration),max_duration:M(scheduler.config.maximum_duration),silentMsg:"meeting"}));if(!window.isEBCEvent){var _=scheduler.config.time_step;if(0!==p%_)return void A(i18n.t("time_should_increament_of_step",{timeStep:M(_)}))}if("function"==typeof d.validationCallback)d.validationCallback({id:n.id,start_date:f,end_date:h},!0,D,"granular_edit");else{if(n.start_date=f,n.end_date=h,scheduler.checkInMarkedTimespan(n,"dhx_time_block"))return void A(i18n.t("slot_unavailable"));k(n)}}}function D(e,t,n){if(e)if(scheduler.checkInMarkedTimespan(n,"dhx_time_block"))A(i18n.t("slot_unavailable"));else{var i=scheduler.getEvent(n.id);i.start_date=n.start_date,i.end_date=n.end_date,k(i)}else A(t)}function k(e){scheduler.updateEvent(e.id),scheduler.callEvent("onEventChanged",[e.id,e,!0])}function S(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];l.val(a(e.start_date).format("h:mm A")).prop("readonly",t),s.val(a(e.end_date).format("h:mm A")).prop("readonly",t)}function A(e){if(r.text(e),r.parent()[e?"addClass":"removeClass"]("has-error"),u.length){var t=!x()||e;u[t?"addClass":"removeClass"]("hide")}}function T(){if(!window.envDetails.isAbstractOnlyEditableMode||!window.envDetails.isAbstractOnlyEditableMode()){var e=o.data("event");scheduler.deleteEvent(e)}}e.exports={init:function(e){h(e),$.validator.setDefaults({highlight:function(e){$(e).parent().addClass("has-error")},unhighlight:function(e){$(e).parent().removeClass("has-error")}}),$.validator.addMethod("time12",function(e,t){return!!e.match(/^(0?[1-9]|1[012])(:[0-5]\d) [APap][Mm]$/)},"Invalid time format"),o.validate({rules:{end_time:{time12:!0},start_time:{time12:!0}}}),scheduler.attachEvent("onClick",y),scheduler.attachEvent("onEventAdded",y),scheduler.attachEvent("onEventChanged",y),scheduler.attachEvent("onBeforeEventDelete",function(e,t){return"".concat(e)==="".concat(o.data("event"))&&p(),!0}),o.on("input","input",C),$(document).on("click",v),m.on("click",T),p(),f(),function(){var e={trigger:"hover",placement:"auto"};c.tooltip(e),u.find(".timezone").tooltip(e)}()},setTimeFields:S,resetTimeFields:function(){l.val(""),s.val("")},hideTimeForm:p,convertMinutesToReadable:M,isFormValid:x,clearTimeErrorField:w,setTimeFieldsWithMeetingTime:g,displayTimeInSecondaryTimeZone:function(e){if(u.length&&x()&&!r.parent().hasClass("has-error")){if(e){var t=e.timezone,n=(e.start_date,e.date),i=e.end_date,a=e.start,o=e.end;void 0!==i?(u.find(".sec-date").text("- ".concat(o,", ").concat(i)),u.find(".sec-time").text(", ".concat(a,", ").concat(n)),u.find(".timezone").text(t).attr("data-original-title",t)):(u.find(".sec-date").text(", ".concat(n)),u.find(".sec-time").text("".concat(a," - ").concat(o)),u.find(".timezone").text(t).attr("data-original-title",t))}u[e?"removeClass":"addClass"]("hide")}},displayTimePrimaryTimeZone:function(e){if(c.length&&x()&&!r.parent().hasClass("has-error")){if(e){var t=e.timezone,n=e.date,i=e.start,a=e.end;c.find(".sec-date").text(", ".concat(n)),c.find(".sec-time").text("".concat(i," - ").concat(a)),c.find(".timezone").text(t).attr("data-original-title",t)}c[e?"removeClass":"addClass"]("hide")}},setEventTimezoneText:f}},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.show_survey:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:2,column:0},end:{line:38,column:7}}}))?o:""},2:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",u=e.escapeExpression;return'<div class="col-md-12 js-meeting-servey-item" data-uuid="'+u(typeof(l=null!=(l=n.uuid||(null!=t?t.uuid:t))?l:r)===c?l.call(s,{name:"uuid",hash:{},data:a,loc:{start:{line:3,column:57},end:{line:3,column:65}}}):l)+'" data-attendee="'+u(typeof(l=null!=(l=n.attendee||(null!=t?t.attendee:t))?l:r)===c?l.call(s,{name:"attendee",hash:{},data:a,loc:{start:{line:3,column:82},end:{line:3,column:94}}}):l)+'">\n  <div class="card card-xs">\n    <div class="card-header card-xs-header">\n      <div class="card-header-content card-xs-header-content">\n        <div class="card-select">\n          <input type="checkbox" id="survey-'+u(typeof(l=null!=(l=n.uuid||(null!=t?t.uuid:t))?l:r)===c?l.call(s,{name:"uuid",hash:{},data:a,loc:{start:{line:8,column:44},end:{line:8,column:52}}}):l)+'">\n          <label for="survey-'+u(typeof(l=null!=(l=n.uuid||(null!=t?t.uuid:t))?l:r)===c?l.call(s,{name:"uuid",hash:{},data:a,loc:{start:{line:9,column:29},end:{line:9,column:37}}}):l)+'">\n            <div class="state '+u(typeof(l=null!=(l=n.status||(null!=t?t.status:t))?l:r)===c?l.call(s,{name:"status",hash:{},data:a,loc:{start:{line:10,column:30},end:{line:10,column:40}}}):l)+'">\n                <i class="jif-survey jif-dark-grey jif-18"></i>\n            </div>\n          </label>\n        </div>\n      </div>\n    </div>\n    <div class="card-content card-xs-content">\n      <div class="card-detail-content">\n        <div>\n          <div class="card-detail">\n'+(null!=(o=n.if.call(s,null!=t?t.action:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:21,column:12},end:{line:23,column:19}}}))?o:"")+(null!=(o=n.unless.call(s,null!=t?t.action:t,{name:"unless",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a,loc:{start:{line:24,column:12},end:{line:26,column:23}}}))?o:"")+"          </div>\n        </div>\n      </div>\n    </div>\n"+(null!=(o=n.if.call(s,null!=t?t.survey_link_sent_at:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a,loc:{start:{line:31,column:4},end:{line:35,column:11}}}))?o:"")+"  </div>\n</div>\n"},3:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return'            <a href="'+r("function"==typeof(o=null!=(o=n.action||(null!=t?t.action:t))?o:s)?o.call(l,{name:"action",hash:{},data:a,loc:{start:{line:22,column:21},end:{line:22,column:31}}}):o)+'" target="_blank">'+r("function"==typeof(o=null!=(o=n.key||a&&a.key)?o:s)?o.call(l,{name:"key",hash:{},data:a,loc:{start:{line:22,column:49},end:{line:22,column:57}}}):o)+"</a>\n"},5:function(e,t,n,i,a){var o;return'            <span class="font-lg">'+e.escapeExpression("function"==typeof(o=null!=(o=n.key||a&&a.key)?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"key",hash:{},data:a,loc:{start:{line:25,column:34},end:{line:25,column:42}}}):o)+"</span>\n"},7:function(e,t,i,a,o){var l,s,r=null!=t?t:e.nullContext||{},c=e.escapeExpression;return'    <div class="card-footer">\n        <span class="font-sm">'+c((s=n(0),s&&(s.__esModule?s.default:s)).call(r,"last_sent_at",{name:"t",hash:{},data:o,loc:{start:{line:33,column:30},end:{line:33,column:50}}}))+" "+c("function"==typeof(l=null!=(l=i.survey_link_sent_at||(null!=t?t.survey_link_sent_at:t))?l:e.hooks.helperMissing)?l.call(r,{name:"survey_link_sent_at",hash:{},data:o,loc:{start:{line:33,column:51},end:{line:33,column:74}}}):l)+"</span>\n    </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return null!=(o=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.surveys:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:39,column:9}}}))?o:""},useData:!0})},,,function(e,t,n){var i=n(3),a=function(){var e=this;return fetchGDPRmessage=function(t){var n=t.config,a=t.callback,o=i.fetch({url:i.ENDPOINTS.get_gdpr_message,prefix:"/portal",data:{config:n}});o[o.done?"done":"then"](function(t){var i=t.data;null===i[n]&&(i[n]=""),e.updateGDPRMessage(i[n])}),o[o.fail?"fail":"catch"](function(e){a('To know how Jifflenow stores &amp; uses your data view our <a href="https://www.jifflenow.com/privacy/" target="_blank">Privacy Policy</a>')})},getGDPRCustomText=function(){return e.gdpr_custom_message},setGDPRCustomText=function(t){e.gdpr_custom_message=t},updateGDPRMessage=function(t){e.setGDPRCustomText(t),$(".foot-privacypolicy").html(t)},{fetchGDPRmessage:fetchGDPRmessage,getGDPRCustomText:getGDPRCustomText,setGDPRCustomText:setGDPRCustomText,updateGDPRMessage:updateGDPRMessage}}();e.exports=a},function(e,t){var n=Reflux.createActions(["getAllMeetingTypes","meetingTypeChosen","roomChosen","offsiteChosen","boothTourChosen","eventBarCreated","editRoom","searchRoom","attendeeCountChanged","updateFilter","applyFilter","resetFilter","resetRoomList","fetchActivitySettings","initiateNewMeeting","setBookMeetingInstructions","locationPreferenceChange","setMstConfigs","nonJmmRoomChosen","vconInfoCaptured","getAllConferences","createNewConference"]);e.exports=n},function(e,t,n){function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o,l=n(99),s=n(3),r=n(13).MeetingStore,c=Reflux.createStore({init:function(){this.briefingAttendeesCount=0,this.briefingRequestor=null,this.briefingCustomFields={},this.briefingActivities={},this.briefingInternalAttendees=[],this.briefingExternalAttendees=[],this.isDraftEnabled=!1,this.listenTo(l.briefingDetails,this.onBriefingDetails)},onBriefingDetails:function(e){var t=s.fetch({data:{meeting_request_uuid:meetingInfo.request.uuid},url:s.ENDPOINTS.briefing_details.replace("{briefing_uuid}",e||briefing_uuid)});t.then(function(e){o=n(14).AttendeeStore,this.briefingRequestor=e.data.requestor,this.isDraftEnabled=e.data.is_draft_enabled,this.briefingCustomFields=e.data.custom_fields,this.briefingActivities=e.data.activityList.activities,this.briefingInternalAttendees=e.data.internal_attendees,this.briefingExternalAttendees=e.data.external_attendees;var t=this.getAttendeesForAgenda(r.getCurrentAgendaUUID())||[],a=[],l=[];meetingInfo&&meetingInfo.request&&(e.meetingRequest=meetingInfo.request,a=o.filterNonDeclinedAttendees(meetingInfo.request.users.internal),l=o.filterNonDeclinedAttendees(meetingInfo.request.users.external));var s=_.uniq([].concat(i(a),i(l),i(t)),"uuid").length,c=o.filterNonIcsDeclinedAttendees(this.briefingInternalAttendees.concat(this.briefingExternalAttendees));this.briefingAttendeesCount=c.length,this.briefingInternalAttendees.length&&_.findIndex(this.briefingInternalAttendees,function(e){return e.uuid==envDetails.currentUser.uuid})>=0&&(e.isCurrUserAlreadyAdded=!0),r.onAttendeeCountChanged(s),this.trigger({success:!0,data:e})}.bind(this)),t[t.fail?"fail":"catch"](function(e){this.trigger({success:!1,data:e.responseJSON})}.bind(this))},getAttendeesForAgenda:function(e){if(!this.briefingActivities||!Array.isArray(this.briefingActivities))return[];var t=this.briefingActivities.filter(function(t){return t.id===parseInt(e)});return 0===t.length?[]:t[0].agenda_participants||[]}}),u=Reflux.createStore({init:function(){this.listenTo(l.getBriefingCenterLongDay,this.onGetBriefingCenterLongDay)},onGetBriefingCenterLongDay:function(){var e=s.fetch({url:s.ENDPOINTS.briefing_centre_long_day,data:{activity_uuid:selectedActivityUuid}});e.then(function(e){this.trigger({success:!0,data:e})}.bind(this)),e[e.fail?"fail":"catch"](function(e){this.trigger({success:!1,data:e.responseJSON})}.bind(this))}});e.exports={BriefingRequestStore:c,BriefingCenterLongDayStore:u}},function(e,t,n){var i=n(3),a=n(16),o=n(17),l=Reflux.createStore({init:function(){},onSyncAttendeeToSfdc:function(e,t){var n={meeting_source:window.isLeadsMeeting?"Lead":"Account",customFields:a.getExtAttSfdcCustomFields(e.custom_fields),account_id:"edit"===window.currentMeetingInfo.request.mode?window.currentMeetingInfo.request.custom_fields.meeting_account_id:o.selectedAccount.id},l="edit"===window.currentMeetingInfo.request.mode?window.currentMeetingInfo.request.custom_fields.meeting_opportunity_id:o.selectedOpportunity.id;envDetails.syncContactsToSfdcOpportunity&&l&&(n.opportunity_id=l);var s=i.update({url:i.ENDPOINTS.sync_att_to_sfdc,data:_.assign({user:e},n)});s.then(function(e){t(e)}.bind(this)),s[s.fail?"fail":"catch"](function(e){this.trigger({type:"showErrors",data:e.responseJSON.errors.error}),t(e)}.bind(this))}});e.exports=l},,,function(e,t){var n=Reflux.createActions(["fetchExperts","setCurrentEvent","initiateNewMeeting"]);e.exports=n},function(e,t){var n=Reflux.createActions(["eventInfo","fetchAvailability","updateCalendar","updateEvent","eventCreated","initialAvailability","initiateNewMeeting"]);e.exports=n},function(e,t){var n=Reflux.createActions(["getCityTimeZone"]);e.exports=n},function(e,t,n){var i=n(35),a=n(3),o=n(13),l=n(10),s=window.selectedActivityUuid,r=n(84),c=n(16),u=n(18),d=Reflux.createStore({init:function(){this.listenToMany(i)},onEventInfo:function(){var e=a.fetch({url:a.ENDPOINTS.events_info,data:{api_type:"basic_info"}});e.then(function(e){meetingInfo&&meetingInfo.request&&(e.meetingRequest=meetingInfo.request),this.trigger({type:"eventInfo",success:!0,data:e})}.bind(this)),e[e.fail?"fail":"catch"](function(e){this.trigger({success:!1,data:e.responseJSON})}.bind(this))},onInitiateNewMeeting:function(e,t){s=e,this.trigger({type:"initiateNewMeeting",data:t})}}),m=Reflux.createStore({init:function(){this.listenTo(i.updateCalendar,this.onUpdateCalendar),this.availabilities={},this.resourceBlocks={},this.unavailableByResources={},this.dateToFetch=null,this.updateCalendarDone=!1,this.CalendarDatePickerDates={}},mixins:[r],prepareResourceBlocks:function(e){var t=e.initial_availability;_.forEach(e.double_booking_slots,function(e,n){this.resourceBlocks[n]=_.xor(scheduler.invertZones(e),scheduler.invertZones(t[n])).sort(function(e,t){return e-t})}.bind(this))},getResourceBlocks:function(e){return this.resourceBlocks[moment(e).format("YYYY-MM-DD")]},setCalendarDatesBoundariesByTimeZone:function(e){var t=e.calendar_date_picker_dates;window.CalendarDatePickerDates=t},prepareUnavailableByResourceBlocks:function(e){var t=e.initial_availability,n=this.resourceBlocks;this.unavailableByResources={},_.forEach(e.unavailable_by_resources,function(e,i){var a=_.chunk(scheduler.invertZones(t[i]),2),o=_.chunk(e,2);n=_.chunk(n[i],2);var l=a.concat(n),s=_.flatten(this.findAndReplaceConflict(o,l));this.unavailableByResources[i]=_.flatten(s)}.bind(this))},findAndReplaceConflict:function(e,t){var n=[];return _.forEach(e,function(e){var i=!0,a=e[0],o=e[1];_.forEach(t,function(e){var t=e[0],l=e[1];a>t&&o<l?i=!1:a<t&&o>l?(n.push([a,t]),n.push([l,o]),i=!1):a<l&&o>t?(n.push([l,o]),i=!1):o>t&&a<l&&(n.push([a,t]),i=!1)}),i&&n.push(e)}),n},getUnavailableByResourceBlocksByDate:function(e){return this.unavailableByResources[moment(e).format("YYYY-MM-DD")]},onUpdateCalendar:function(e,t){var l,r=e.proposedData&&e.proposedData.active&&e.proposedData.data,d=[];var m=_.map(e.internal,"uuid");if("undefined"!=typeof jiffle?d=c.getAttListToSyncInJN(e):m=m.concat(_.map(e.external,"uuid")),m.length>=0){var f={resources:{users:m,external_users:d,rooms:[r&&r.room&&r.room.uuid||_.result(e.room,"uuid","")]}};if(meetingInfo.request&&(f.meeting_uuid=meetingInfo.request.uuid),"undefined"!=typeof briefing_uuid&&(f.briefing_uuid=briefing_uuid),f.book_meeting=!0,o.MeetingStore.isOffsiteSelected&&(f.offsite_selected="yes"),o.MeetingStore.isBoothTourSelected&&e.booth_tour_uuid&&(f.booth_tour_selected="yes",f.resources.booth_tours=[e.booth_tour_uuid],delete f.resources.rooms),f.activity_uuid=s,envDetails.topicManagementEnabled&&envDetails.topicUserMappingEnabled)if("undefined"!=typeof topic_uuid)f.topic_uuid=topic_uuid;else if("new"===mode){var h=$("#topic_management").val();"-"===h&&(h=""),f.topic_uuid=h}else f.topic_uuid=meetingInfo.request.topic_uuid;window.showWeekPickerCalendar&&(l=e.dateToFetch||this.getCalendarStartDate())&&(f.event_date=moment(l).format("DD-MM-YYYY")),f.time_zone=u.getTimeZoneId("primaryTimeZone"),this.considerConsecutiveMeetings(f),f.location_preference=r?r.location_preference:e.location_preference,f.user_participation=this.getUserEntities(e,meetingInfo.request.start_time).partialParticipation,window.envDetails.setBlockToken(f),f.new_created_users=e.newCreatedUsers,f.include_unavailable_resources=!0;var p=a.update({url:a.ENDPOINTS.calendar_availability,data:f,abortSequentialCalls:!window.envDetails.isConsecutiveMeeting,sectionLoader:!window.envDetails.isConsecutiveMeeting&&".bm-cal-loader",btnsToDisable:"#proceed-btn,#quick_submit_btn"});p.then(function(a){this.updateCalendarDone=!0,this.availabilities=a,this.prepareResourceBlocks(a.data),this.prepareUnavailableByResourceBlocks(a.data),this.setCalendarDatesBoundariesByTimeZone(a.data);var o=r?{start_date:r.start_time,end_date:r.end_time}:e.event;i.eventCreated.trigger(o,n(65).getSetByDefualt()),this.trigger(a,t)}.bind(this)),p[p.fail?"fail":"catch"](function(e){console.log("Error",e),this.trigger(e.responseJSON)}.bind(this))}else i.initialAvailability(null,t)},considerConsecutiveMeetings:function(e){envDetails.isConsecutiveMeeting&&(e=_.merge(e,l.getRemainingMeetingsData()))},updateCalendarStartDate:function(e){this.dateToFetch=e},getCalendarStartDate:function(){return this.dateToFetch},isUpdateCalendarDone:function(){return this.updateCalendarDone}}),f=Reflux.createStore({init:function(){this.initialAvailabilities={},this.listenTo(i.initialAvailability,this.onInitialAvailability)},onInitialAvailability:function(e,t){var n=m.getCalendarStartDate(),i={activity_uuid:s};"undefined"!=typeof briefing_uuid&&(i.briefing_uuid=briefing_uuid),i.book_meeting=!0,i.include_unavailable_resources=!0;var o=$("#topic_management").val();"-"===o&&(o=""),o&&(i.topic_uuid=o);var l=a.ENDPOINTS.availability_fetch;window.showWeekPickerCalendar&&(i.event_date=$("#meeting-date-picker").val()||n,i.event_date&&(i.event_date=moment(i.event_date).format("DD-MM-YYYY"))),i.time_zone=u.getTimeZoneId("primaryTimeZone")||u.getTimeZoneId();var r=a.fetch({url:l,data:i});r.then(function(e){this.initialAvailabilities=e,this.trigger(e,t)}.bind(this)),r[r.fail?"fail":"catch"](function(e){this.trigger(e.responseJSON,t)}.bind(this))},getUnavailableByResourceBlocks:function(){var e=this.initialAvailabilities.data.unavailable_by_resources;return e||{}},getInitialAvailability:function(){var e=this.initialAvailabilities.data;return e.combined_availabilities?e.combined_availabilities:this.initialAvailabilities.data.room_initial_availabilities}});e.exports={CalendarEventStore:d,CalendarAvailabilityStore:m,CalendarInitialAvailabilityStore:f}},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.company_name:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:7,column:8},end:{line:11,column:15}}}))?o:""},2:function(e,t,n,i,a){var o;return'          <div class="pull-left">'+e.escapeExpression("function"==typeof(o=null!=(o=n.title||(null!=t?t.title:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:a,loc:{start:{line:8,column:33},end:{line:8,column:42}}}):o)+", </div>\n"},4:function(e,t,n,i,a){var o;return'          <div class="pull-left">'+e.escapeExpression("function"==typeof(o=null!=(o=n.title||(null!=t?t.title:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:a,loc:{start:{line:10,column:33},end:{line:10,column:42}}}):o)+"</div>\n"},6:function(e,t,n,i,a){return'        <div class="pull-left">&nbsp;&nbsp; - </div>\n'},8:function(e,t,n,i,a){var o;return'        <div class="pull-left">&nbsp;'+e.escapeExpression("function"==typeof(o=null!=(o=n.company_name||(null!=t?t.company_name:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"company_name",hash:{},data:a,loc:{start:{line:16,column:37},end:{line:16,column:53}}}):o)+"</div>\n"},10:function(e,t,n,i,a){return"        <div></div>\n"},12:function(e,t,i,a,o){return'    <li class="meeting-expert-label">\n      <div><i class="star-filled"></i> <span>'+e.escapeExpression((l=n(0),l&&(l.__esModule?l.default:l)).call(null!=t?t:e.nullContext||{},"subject_matter_expert",{name:"t",hash:{},data:o,loc:{start:{line:23,column:45},end:{line:23,column:74}}}))+"</span></div>\n    </li>\n";var l},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression;return"\x3c!-- this is updated tooltip, replacing _user_tooltip.hbs.erb--\x3e\n<div class='pane-item-tooltip'>\n  <ul class='jn-l-text'>\n    <li><div class='font-semi-bold'>"+c("function"==typeof(l=null!=(l=n.first_name||(null!=t?t.first_name:t))?l:r)?l.call(s,{name:"first_name",hash:{},data:a,loc:{start:{line:4,column:36},end:{line:4,column:50}}}):l)+" "+c("function"==typeof(l=null!=(l=n.last_name||(null!=t?t.last_name:t))?l:r)?l.call(s,{name:"last_name",hash:{},data:a,loc:{start:{line:4,column:51},end:{line:4,column:64}}}):l)+'</div></li>\n    <li class="table-display">\n'+(null!=(o=n.if.call(s,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(6,a,0),data:a,loc:{start:{line:6,column:6},end:{line:14,column:13}}}))?o:"")+(null!=(o=n.if.call(s,null!=t?t.company_name:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.program(10,a,0),data:a,loc:{start:{line:15,column:6},end:{line:19,column:13}}}))?o:"")+"    </li>\n"+(null!=(o=n.if.call(s,null!=t?t.expert:t,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:21,column:4},end:{line:25,column:11}}}))?o:"")+"  </ul>\n  <ul class='jn-l-text-icon'>\n    <li><i class='jif-iris-mail jif-14'></i><span>"+c("function"==typeof(l=null!=(l=n.email||(null!=t?t.email:t))?l:r)?l.call(s,{name:"email",hash:{},data:a,loc:{start:{line:28,column:50},end:{line:28,column:59}}}):l)+"</span></li>\n    <li><i class='jif-iris-phone jif-14'></i>\n      <span>"+c("function"==typeof(l=null!=(l=n.contact_no||(null!=t?t.contact_no:t))?l:r)?l.call(s,{name:"contact_no",hash:{},data:a,loc:{start:{line:30,column:12},end:{line:30,column:26}}}):l)+"</span>\n    </li>\n  </ul>\n</div>\n"},useData:!0})},function(e,t){var n=[],i=[];function a(e){var t=e.flag,n=e.comments,i=void 0===n?[]:n;return"yes"===t&&(i=i.filter(function(e){return e})),i}e.exports={putSearchQueryParam:function(e,t,n){e=e||"";var i="([?&])".concat(t,"=([^&$]*)"),a=new RegExp(i).exec(e);return a?e.replace(a[0],"".concat(a[1]).concat(t,"=").concat(n)):e.concat(e?"&":"?",t,"=",n)},getDeclineComments:function(){return n},getCancelComments:function(){return i},updateDeclineComments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.decline_comments_enabled,i=e.predefined_decline_comments;n=a({flag:t,comments:i})},updateCancelComments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cancel_comments_enabled,n=e.predefined_cancel_comments;i=a({flag:t,comments:n})},abortableFetch:function(e,t){var n=Math.random().toString(36).substr(2,9);return e.map(function(e){e.promise.abort()}),e.push({promise:t,Id:n}),{promiseId:n}}}},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.escapeExpression,d=e.hooks.helperMissing,m="function";return'  <div class="selected-title">\n    <div class="selected-title-left"><i class="jif-location jif-16"></i> '+u(a(n(0)).call(c,"selected_location",{name:"t",hash:{},data:l,loc:{start:{line:4,column:73},end:{line:4,column:98}}}))+"</div>\n"+(null!=(s=i.unless.call(c,null!=t?t.hideChangeRoom:t,{name:"unless",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:5,column:4},end:{line:26,column:15}}}))?s:"")+'  </div>\n  <div class="selected-content">\n    <a class="word-break-word two-line-ellipsis" '+(null!=(s=i.if.call(c,null!=t?t.showGotoMainOptionFromDetails:t,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.noop,data:l,loc:{start:{line:29,column:49},end:{line:29,column:142}}}))?s:"")+' title="'+u(typeof(r=null!=(r=i.name||(null!=t?t.name:t))?r:d)===m?r.call(c,{name:"name",hash:{},data:l,loc:{start:{line:29,column:150},end:{line:29,column:158}}}):r)+'">\n      <span title="'+u(typeof(r=null!=(r=i.name||(null!=t?t.name:t))?r:d)===m?r.call(c,{name:"name",hash:{},data:l,loc:{start:{line:30,column:19},end:{line:30,column:27}}}):r)+'">'+u(typeof(r=null!=(r=i.name||(null!=t?t.name:t))?r:d)===m?r.call(c,{name:"name",hash:{},data:l,loc:{start:{line:30,column:29},end:{line:30,column:37}}}):r)+'</span>\n    </a>\n    <a class="word-break-word two-line-ellipsis"'+(null!=(s=i.if.call(c,null!=t?t.showGotoMainOptionFromDetails:t,{name:"if",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l,loc:{start:{line:32,column:48},end:{line:32,column:137}}}))?s:"")+' title="'+u(typeof(r=null!=(r=i.address||(null!=t?t.address:t))?r:d)===m?r.call(c,{name:"address",hash:{},data:l,loc:{start:{line:32,column:145},end:{line:32,column:156}}}):r)+'">\n      <span>'+u(typeof(r=null!=(r=i.address||(null!=t?t.address:t))?r:d)===m?r.call(c,{name:"address",hash:{},data:l,loc:{start:{line:33,column:12},end:{line:33,column:23}}}):r)+"</span>\n    </a>\n  </div>\n"},2:function(e,t,n,i,a){var o;return null!=(o=n.unless.call(null!=t?t:e.nullContext||{},null!=t?t.roomNotAvailable:t,{name:"unless",hash:{},fn:e.program(3,a,0),inverse:e.program(8,a,0),data:a,loc:{start:{line:6,column:6},end:{line:25,column:17}}}))?o:""},3:function(e,t,i,o,l){var s;return null!=(s=a(n(120)).call(null!=t?t:e.nullContext||{},null!=t?t.canChangeRoom:t,{name:"canChangeRoom",hash:{},fn:e.program(4,l,0),inverse:e.program(6,l,0),data:l,loc:{start:{line:7,column:8},end:{line:16,column:26}}}))?s:""},4:function(e,t,i,o,l){var s=null!=t?t:e.nullContext||{},r=e.escapeExpression;return"          <div>\n            <a href=\"javascript:void(0)\" class='go-to-main'>"+r(a(n(0)).call(s,"change_room",{name:"t",hash:{},data:l,loc:{start:{line:9,column:60},end:{line:9,column:79}}}))+'</a>\n            <a href="javascript:void(0)" data-toggle="modal" class="left-margin-20 hide js-swap-room-btn">'+r(a(n(0)).call(s,"swap",{name:"t",hash:{},data:l,loc:{start:{line:10,column:106},end:{line:10,column:118}}}))+"</a>\n          </div>\n"},6:function(e,t,i,o,l){return"          <div>\n            <a href=\"javascript:void(0)\" class='go-to-main'>"+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"change_room",{name:"t",hash:{},data:l,loc:{start:{line:14,column:60},end:{line:14,column:79}}}))+"</a>\n          </div>\n"},8:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.canChangeRoom:t,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.program(11,a,0),data:a,loc:{start:{line:17,column:6},end:{line:25,column:6}}}))?o:""},9:function(e,t,i,o,l){return"        <div>\n          <a href=\"javascript:void(0)\" class='go-to-main'>"+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"assign",{name:"t",hash:{},data:l,loc:{start:{line:19,column:58},end:{line:19,column:72}}}))+"</a>\n        </div>\n"},11:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.canChangeLocationPreference:t,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:21,column:6},end:{line:25,column:6}}}))?o:""},12:function(e,t,i,o,l){return"        <div>\n          <a href=\"javascript:void(0)\" class='go-to-main'>"+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"change_room",{name:"t",hash:{},data:l,loc:{start:{line:23,column:58},end:{line:23,column:77}}}))+"</a>\n        </div>\n      "},14:function(e,t,n,i,a){return" href=\"javascript:void(0)\" class='go-to-main hi' "},16:function(e,t,n,i,a){return" href=\"javascript:void(0)\" class='go-to-main'"},18:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{};return'  <div class="selected-title">\n    <div class="selected-title-left"><i class="jif-location jif-16"></i> '+e.escapeExpression(a(n(0)).call(r,"selected_location",{name:"t",hash:{},data:l,loc:{start:{line:38,column:73},end:{line:38,column:98}}}))+"</div>\n"+(null!=(s=i.unless.call(r,null!=t?t.hideChangeRoom:t,{name:"unless",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:39,column:4},end:{line:60,column:15}}}))?s:"")+'  </div>\n  <div class="selected-content">\n'+(null!=(s=i.unless.call(r,null!=t?t.roomNotAvailable:t,{name:"unless",hash:{},fn:e.program(19,l,0),inverse:e.program(24,l,0),data:l,loc:{start:{line:63,column:2},end:{line:97,column:13}}}))?s:"")+"</div>\n"},19:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.escapeExpression;return(null!=(s=i.if.call(r,null!=t?t.showGotoMainOptionFromDetails:t,{name:"if",hash:{},fn:e.program(20,l,0),inverse:e.program(22,l,0),data:l,loc:{start:{line:64,column:4},end:{line:86,column:11}}}))?s:"")+'    <div class="selected-room-line2">\n      <span id="occupiedRoomHolder">\n        <span class="occupiedCount">0</span> <span class="roomAvailableCount">'+c(a(n(20)).call(r,t,{name:"tr",hash:{count:null!=t?t.capacity:t,key:"room_occupied_capacity"},data:l,loc:{start:{line:89,column:78},end:{line:89,column:133}}}))+'</span>\n      </span>\n      <span id="roomFullHolder" class="hide text-ellipsis">'+c(a(n(0)).call(r,"room_full",{name:"t",hash:{},data:l,loc:{start:{line:91,column:59},end:{line:91,column:76}}}))+"</span>\n    </div>\n"},20:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return'      <div class="selected-room-line1">\n        <div>\n          <a href="javascript:void(0)" class=\'go-to-main word-break-word\' title="'+r("function"==typeof(o=null!=(o=n.room_name||(null!=t?t.room_name:t))?o:s)?o.call(l,{name:"room_name",hash:{},data:a,loc:{start:{line:67,column:81},end:{line:67,column:94}}}):o)+'">\n            <span>'+r("function"==typeof(o=null!=(o=n.room_name||(null!=t?t.room_name:t))?o:s)?o.call(l,{name:"room_name",hash:{},data:a,loc:{start:{line:68,column:18},end:{line:68,column:31}}}):o)+'</span>\n          </a>\n        </div>\n        <div  class="text-right">\n          <a href="javascript:void(0)" class=\'go-to-main word-break-word\' title="'+r("function"==typeof(o=null!=(o=n.display_name||(null!=t?t.display_name:t))?o:s)?o.call(l,{name:"display_name",hash:{},data:a,loc:{start:{line:72,column:81},end:{line:72,column:97}}}):o)+'">\n            <span>'+r("function"==typeof(o=null!=(o=n.display_name||(null!=t?t.display_name:t))?o:s)?o.call(l,{name:"display_name",hash:{},data:a,loc:{start:{line:73,column:18},end:{line:73,column:34}}}):o)+"</span>\n          </a>\n        </div>\n      </div>\n"},22:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return'      <div class="selected-room-line1">\n        <div>\n          <span class="word-break-word" title="'+r("function"==typeof(o=null!=(o=n.room_name||(null!=t?t.room_name:t))?o:s)?o.call(l,{name:"room_name",hash:{},data:a,loc:{start:{line:80,column:47},end:{line:80,column:60}}}):o)+'">'+r("function"==typeof(o=null!=(o=n.room_name||(null!=t?t.room_name:t))?o:s)?o.call(l,{name:"room_name",hash:{},data:a,loc:{start:{line:80,column:62},end:{line:80,column:75}}}):o)+'</span>\n        </div>\n        <div class="text-right">\n          <span class="word-break-word" title="'+r("function"==typeof(o=null!=(o=n.display_name||(null!=t?t.display_name:t))?o:s)?o.call(l,{name:"display_name",hash:{},data:a,loc:{start:{line:83,column:47},end:{line:83,column:63}}}):o)+'">'+r("function"==typeof(o=null!=(o=n.display_name||(null!=t?t.display_name:t))?o:s)?o.call(l,{name:"display_name",hash:{},data:a,loc:{start:{line:83,column:65},end:{line:83,column:81}}}):o)+"</span>\n        </div>\n      </div>\n"},24:function(e,t,n,i,a){var o;return'    <div class="selected-room-line2">\n      <span class="word-break-word">'+e.escapeExpression("function"==typeof(o=null!=(o=n.roomNotAvailableMessage||(null!=t?t.roomNotAvailableMessage:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"roomNotAvailableMessage",hash:{},data:a,loc:{start:{line:95,column:36},end:{line:95,column:63}}}):o)+"</span>\n    </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return"\n"+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.offsite:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(18,a,0),data:a,loc:{start:{line:2,column:0},end:{line:99,column:7}}}))?o:"")+"\n\n"},useData:!0})},,,,,function(e,t){var n;function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(i(n={system_configurations:"/configurations/system_configuration",fetch_survey_template:"/configure/consolidated_survey_mail_settings",update_survey_template:"/configure/consolidated_survey_mail_setting",fetch_meeting_list_customer_info:"/importable_customer_info/list",fetch_customer_info_values:"/importable_customer_info",fetch_archived_event_meeting_analytics:"/archived_events/analytics",fetch_archived_events_list:"/event_list_by_type/archived",fetch_archived_reports:"/archived_events/all_reports",get_booth_tour_details:"/booth_tour/list",file_upload_url:"/attachment/{type}",remove_uploaded_file_url:"/attachment/{uuid}",update_endorsement_config:"/configure/endorsement",ext_domain_validation:"/domains/valid",list_briefings_agenda:"/briefing/list_briefings#/list_agenda",users:"/users",fetch_unmapped_topic_entity:"/get_meetings_with_unmapped_topic_entity",meeting_host_count:"/get_meetings_with_meeting_host",fetch_user_details:"/users/{{uuid}}",user_export:"/user/export",activate_user:"/users/UUID/active",reinvite_user:"/users/resend_invite",export_summary_report:"/guided_tour/surveys",upload_user_csv:"/user/import",calendar_user_availability:"/calendar/users",event_info:"/event_info",event_configurations:"/event/{event_uuid}/configurations",user_make_available:"/calendar/make_available",user_make_unavailable:"/calendar/make_unavailable",user_block:"/calendar/block",user_unblock:"/calendar/unblock",block_update:"/calendar/edit_block",user_calendar_export:"/calendar/users/export",company_fetch:"/company",register_user:"/register",alert_fetch:"/alerts",alert_details_fetch:"/alerts/meeting_meta",dismiss_alert:"/alerts/dismiss",notification_fetch:"/notifications",dismiss_notification:"/notifications/dismiss",set_participation:"/meeting_request/set_participation",fetch_topics:"/topics",update_user_profile:"/user/{{uuid}}",fetch_meetings_analytics:"/analytics/meetings",fetch_invitees_analytics:"/analytics/invitees",fetch_customers_analytics:"/analytics/customers",fetch_roles_analytics:"/analytics/roles",users_events:"/users_events",reinvite_users:"/users/resend_invite",remove_from_event:"/users/UUID/inactive",users_events_filters:"/users_events_filters",meeting_request_path:"/meeting_request/new",meeting_request_view_path:"/meeting_request/{uuid}/view",meeting_request_export:"/meeting_request/export",roles_fetch:"/roles",role_create:"/role/create",role_update:"/role/update",role_get_privileges:"/role/{:uuid}/get_privileges",role_set_privileges:"/role/{:uuid}/set_privileges",role_enable:"/role/{:uuid}/enable",role_disable:"/role/{:uuid}/disable",meeting_get_config:"/configure/{:uuid}/meeting_type",meeting_set_config:"/configure/{:uuid}/meeting_type_update",meeting_set_setting:"/setting/activity_update",meeting_get_settings:"/setting/activity",meeting_types:"/meeting_types",ui_set_setting:"/setting/ui_update",ui_get_settings:"/setting/ui",get_announcements:"/setting/announcement",set_announcements:"/setting/announcement_update",availability_fetch:"/meeting_type/availabilities",availability_update:"/configure/update_initial_availabilities",all_meeting_types:"/meeting_types/index"},"event_info","/events"),i(n,"event_details","/event_info"),i(n,"rooms_list","/rooms/list"),i(n,"rooms_export","/room/export"),i(n,"room_create","/room/create"),i(n,"room_update","/room/update"),i(n,"meetings_list","/meeting_requests"),i(n,"facilities_list","/facilities"),i(n,"meeting_availability","/meeting_request/calendar"),i(n,"internal_attendees","/users/internal"),i(n,"external_attendees","/users/external"),i(n,"lead_details","/lead_details"),i(n,"validate_leads","/validate_leads"),i(n,"availability_update","/configure/update_initial_availabilities"),i(n,"calendar_availability","/meeting_request/calendar"),i(n,"meeting_create","/meeting_request/create"),i(n,"meeting_fetch","/meeting_request/{{uuid}}/show"),i(n,"user_create","/user/create"),i(n,"sync_att_to_sfdc","/sync_att_to_sfdc"),i(n,"validate_room_capacity","/room/validate"),i(n,"user_update","/users/{{uuid}}/update"),i(n,"update_mail_template","/mail_template/update"),i(n,"mail_template_type_get","/mail_actions"),i(n,"mail_template_type_entities_get","/mail_action/get_associated_entities"),i(n,"accept_meeting","/meeting_request/{uuid}/accept_meeting"),i(n,"decline_meeting","/meeting_request/{uuid}/decline_meeting"),i(n,"reschedule_meeting","/meeting_request/reschedule"),i(n,"events_info","/events"),i(n,"event_config","/event/configurations"),i(n,"room_availability","/calendar/rooms"),i(n,"room_calendar_export","/calendar/rooms/export"),i(n,"room_unblock","/calendar/unblock"),i(n,"room_make_available","/calendar/make_available"),i(n,"room_make_unavailable","/calendar/make_unavailable"),i(n,"block_update","/calendar/edit_block"),i(n,"meeting_drag","/calendar/relocate"),i(n,"meeting_request_path","/meeting_request/new"),i(n,"meeting_request_edit_path","/meeting_request/{uuid}/edit"),i(n,"upload_room_csv","/room/import"),i(n,"save_form","/custom_form/update"),i(n,"fetch_form","/custom_form/get_fields"),i(n,"alert_fetch","/alerts"),i(n,"alert_details_fetch","/alerts/meeting_meta"),i(n,"dismiss_alert","/alerts/dismiss"),i(n,"dismiss_alert","/alerts/dismiss"),i(n,"notification_fetch","/notifications"),i(n,"dismiss_notification","/notifications/dismiss"),i(n,"fetch_meetings_analytics","/analytics/meetings"),i(n,"fetch_invitees_analytics","/analytics/invitees"),i(n,"fetch_customers_analytics","/analytics/customers"),i(n,"fetch_roles_analytics","/analytics/roles"),i(n,"fetch_rooms_analytics","/analytics/rooms"),i(n,"fetch_booking_analytics","/analytics/booking"),i(n,"fetch_meeting_filters","/reports/meeting_filters"),i(n,"fetch_meeting_data_for_reports","/users/meetings"),i(n,"standard_report_export_url","/users/meetings.pdf?user_uuid={{uuid}}"),i(n,"fetch_users_for_reports","/reports/users_list"),i(n,"fetch_meeting_reports","/meetings"),i(n,"fetch_meeting_reports_header","/headers"),i(n,"activate_event","/event/activate"),i(n,"fetch_activity_list","/activities"),i(n,"cancel_meeting","/meeting_request/{meeting_uuid}/cancel_meeting"),i(n,"time_zone_url","/time_zone"),i(n,"fetch_minimum_timeslot","/setting/minimum_timeslot"),i(n,"update_minimum_timeslot","/setting/minimum_timeslot_update"),i(n,"demand_report_export","/meeting_request/ondemand"),i(n,"mapped_events","/mappable_events"),i(n,"get_nav_header","/events_meetings_menu"),i(n,"fetch_account","/fetch_account"),i(n,"fetch_opportunity","/fetch_opportunity"),i(n,"fetch_meeting_info","/meeting_request/new.json"),i(n,"fetch_consecutive_meeting_info","/consecutive_meetings/new.json"),i(n,"fetch_edit_meeting_info","/meeting_request/{UUID}/edit.json"),i(n,"fetch_edit_consecutive_meeting_info","/consecutive_meetings/{UUID}/edit.json"),i(n,"fetch_view_meeting_info","/meeting_request/{UUID}/view.json"),i(n,"fetch_view_consecutive_meeting_info","/consecutive_meetings/{UUID}/view.json"),i(n,"fetch_edit_nomination_info","/nomination/{UUID}/edit.json"),i(n,"fetch_view_nomination_info","/nomination/{UUID}/view.json"),i(n,"room_activities","/activities_rooms"),i(n,"event_env_details","/event_info"),i(n,"fetch_requestors","/fetch_requestors"),i(n,"domain_validate","/portal/domains/validate"),i(n,"fetch_sf_custom_fields","SFDC"),i(n,"double_booked_resources","/meeting_request/double_booked_resources"),i(n,"meetings_list_filters","/meeting_request/meeting_filters"),i(n,"get_meeting_options","/meeting_filters/filter_options"),i(n,"get_checkin_options","/checkin_filters/filter_options"),i(n,"get_report_options","/reports_filters/filter_options"),i(n,"user_info","/portal/user_info"),i(n,"bulk_approve_meetings","meeting_request/approve_meetings"),i(n,"activity_details","/activities/{uuid}"),i(n,"expert_users","/mapping/experts"),i(n,"expert_users","/mapping/experts"),i(n,"apex_jnmeetings","/apex/JNMeetings"),i(n,"apex_jnsessions","/apex/JNSessions"),i(n,"jn_book_meeting","/apex/JNBookMeeting"),i(n,"jn_view_book_meeting","/apex/JNViewMeeting"),i(n,"jn_view_nomination","/apex/JNNominationView"),i(n,"jn_book_nomination","/apex/JNNominations"),i(n,"apex_jnlistagenda","/apex/JNBriefings"),i(n,"sessions_list","/sessions"),i(n,"fetch_user_form_rules","/user_form_fields"),i(n,"save_profile_preferences","/user_form_fields/update"),i(n,"fetch_portal_custom_form","/forms"),i(n,"save_portal_custom_form","/form/update"),i(n,"portal","/portal"),i(n,"consecutive_meetings_edit_path","/consecutive_meetings/{uuid}/edit"),i(n,"consecutive_meetings_view_path","/consecutive_meetings/{uuid}/view"),i(n,"consecutive_meetings_details","/consecutive_meetings/{uuid}/edit_consecutive_meeting"),i(n,"bulk_endorse_users","/users/enable_endorse_users"),i(n,"fetch_external_user_form_fields","/fetch_sfdc_contacts_fields"),i(n,"get_swappable_room_list","/swap_room/list"),i(n,"swap_room_submit","/swap_room/swap"),i(n,"fetch_consecutive_meeting_notification_settings","/configure/consecutive_meeting/notification_settings"),i(n,"fetch_consecutive_meeting_form_settings","/configure/consecutive_meeting/form_settings"),i(n,"create_consecutive_meetings","/consecutive_meetings"),i(n,"meeting_types_of_consecutive_sub_meetings","/consecutive_meetings/meeting_types"),i(n,"on_behalf_actions","/meeting_request/on_behalf_actions"),i(n,"briefing_centre","/bc"),i(n,"briefing_details","/briefing/{briefing_uuid}"),i(n,"briefing_centre_long_day","/bcs/get_long_day"),i(n,"fetch_valid_mapping_Times","/mappings_valid_start_times"),i(n,"meeting_history","/meeting_request/{uuid}/history"),i(n,"fetch_activities","/user_meeting_types/list"),i(n,"tracks_list","/tracks"),i(n,"fetch_track_topics","/tracks/{{uuid}}/topics"),i(n,"can_attend_session","/can_attend_session"),i(n,"create_group_nomination","/group_nomination/create"),i(n,"fetch_contacts","/fetch_contacts"),i(n,"resources_session_availability","/group_nomination/can_attend"),i(n,"session_nominations","/group_nominations"),i(n,"check_attendee_availability",{url:"/api/v1/users/{uuid}/availability"}),i(n,"give_consent","/consent.json"),i(n,"room_block","/api/v1/room/interim_block"),i(n,"custom_labels","/custom_labels_configurations"),i(n,"fetch_resource_data","/api/v1/resource_data/fetch"),i(n,"time_zone_city_search","/google_client/google/cities"),i(n,"get_city_time_zone","/google_client/google/timezone"),i(n,"google_city_search","/google_client/geo_places"),i(n,"google_time_zone_search","/google_client/geo_timezone"),i(n,"partial_meeting_update","/meeting_request/partial_update"),i(n,"custom_field_options","/custom_form/{UUID}/search"),i(n,"get_gdpr_message","/configuration/privacy_messages"),i(n,"get_zendesk_url","/portal/common_utils/support"),i(n,"config_topic","/configure/topic"),i(n,"domain_validation","/domains/validate"),i(n,"topic_configurations",{url:"/topic_configurations",errorConfig:{handler:"summuryErrorHandler"}}),i(n,"fetch_available_conferences","/hangout/conferences"),i(n,"create_conference","/hangout/conferences/{INTEGRATION_NAME}"),i(n,"fetch_oauth_meta","/adapter_ui/api/v1/fetch_oauth_meta"),i(n,"check_user_authorized_to_integration","/adapter_ui/conferences"),n);e.exports=a},function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function i(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){a(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o,l={users_events:{params:function(e){return{accountId:$.urlParam("accid"),opportunityId:$.urlParam("oppid"),leadIds:$.urlParam("lead_ids")?unescape($.urlParam("lead_ids")).split(","):[],contactId:$.urlParam("contactid")}},callback:function(e){return _.forEach(e.data.events,function(e){e.event_url=unescape(e.event_url),e.action.url=unescape(e.action.url),e.action.tracks_and_sessions_url=unescape(e.action.tracks_and_sessions_url)}),e.data.ebc_events&&e.data.ebc_events.length&&_.forEach(e.data.ebc_events,function(e){e.event_url=unescape(e.event_url),e.locations&&e.locations.length&&_.forEach(e.locations,function(e){e.action.url=unescape(e.action.url)})}),e},sfdcMethod:"getEventList"},add_user_to_event:{params:function(e){return{accountId:$.urlParam("accid"),opportunityId:$.urlParam("oppid"),leadIds:$.urlParam("lead_ids")?unescape($.urlParam("lead_ids")).split(","):[],queryStr:JSON.stringify({api_params:e.data})}},callback:function(e){return _.forEach(e.data.events,function(e){var t=_.head(e);t.event_url=unescape(t.event_url),t.action.url=unescape(t.action.url),t.locations&&t.locations.length&&_.forEach(t.locations,function(e){e.action.url=unescape(e.action.url)})}),e},sfdcMethod:"addYourself"},get_nav_header:{params:function(e){return{accountId:$.urlParam("accid"),eventName:$.urlParam("eventName"),opportunityId:$.urlParam("oppid"),leadIds:$.urlParam("lead_ids")?unescape($.urlParam("lead_ids")).split(","):[],current_location_uuid:$.urlParam("current_location_uuid")}},callback:function(e){return _.forEach(e.data.links,function(e){e.url=unescape(e.url)}),e},sfdcMethod:"getMenuList"},fetch_account:{params:function(e){return{accountId:e.data.id?"":e.data.account_id,opportunityId:e.data.opportunity_id||"",accountName:c(e.data.name)}},callback:function(e){return r(e)},sfdcMethod:"getSFAccounts"},fetch_opportunity:{params:function(e){return{opportunityId:e.data.id?"":e.data.opportunity_id,accountId:e.data.account_id,opportunityName:c(e.data.name)}},callback:function(e){return r(e)},sfdcMethod:"getSFOpportunities"},fetch_meeting_info:{params:m,sfdcMethod:"callJNMethod"},fetch_edit_meeting_info:{params:m,sfdcMethod:"callJNMethod"},fetch_edit_consecutive_meeting_info:{params:m,sfdcMethod:"callJNMethod"},fetch_view_meeting_info:{params:m,sfdcMethod:"callJNMethod"},fetch_view_consecutive_meeting_info:{params:m,sfdcMethod:"callJNMethod"},fetch_edit_nomination_info:{params:f,sfdcMethod:"callJNMethod"},fetch_view_nomination_info:{params:f,sfdcMethod:"callJNMethod"},lead_details:{params:function(e){var t=e.data,n=[];t.leadIds&&(n=t.leadIds);var i={leadIds:n,listSize:t.per_page,pgNo:t.page,custom_fields:envDetails.extatt_custom_field_mappings,selectedAttendees:t.selectedAttendees};return t.search?i.queryStr=c(t.search):i.queryStr=t.search||"",i},callback:function(e){e="string"==typeof e?JSON.parse(_.unescape(e.replace(/&quot;/g,'\\"'))):JSON.parse(_.unescape(JSON.stringify(e).replace(/&quot;/g,'\\"')));return _.forEach(e.data.items,function(t,n){meetingInfo.externalAttendees[t.email]?h(e,t,n):(t.uuid=s(t),t.statuses={verified:!1,active:!0,approved:null,sso_enabled:!1},meetingInfo.externalAttendees[t.email]=_.cloneDeep(t))}),e},sfdcMethod:"getSFDCLeads"},validate_leads:{params:function(e){return{leadIds:e.data.leadIds,isLeadDetail:$.urlParam("isLeadDetail")}},sfdcMethod:"validateLeads"},fetch_contacts:{params:function(e){var t=e.data,n={accountId:(o=t.account_id)||"",listSize:t.per_page,pgNo:t.page,custom_fields:envDetails.extatt_custom_field_mappings,selectedAttendees:t.selectedAttendees,contactIds:t.contactIds};return t.search?n.queryStr=c(t.search):n.queryStr=t.search||"",n},callback:function(e){return meetingInfo.account_id!==o&&(meetingInfo.externalAttendees={},meetingInfo.account_id=o),0===(e="string"==typeof e?JSON.parse(_.unescape(e.replace(/&quot;/g,'\\"'))):JSON.parse(_.unescape(JSON.stringify(e).replace(/&quot;/g,'\\"')))).data.items.length&&Object.keys(meetingInfo.externalAttendees).length>0&&(e.data.items=Object.values(meetingInfo.externalAttendees)),_.forEach(e.data.items,function(t,n){meetingInfo.externalAttendees[t.email]?h(e,t,n):(t.uuid=s(t),t.statuses={verified:!1,active:!0,approved:null,sso_enabled:!1},meetingInfo.externalAttendees[t.email]=_.cloneDeep(t))}),e},sfdcMethod:"getSFDCContacts"},calendar_availability:{params:function(e){return{eventName:$.urlParam("eventName"),queryStr:JSON.stringify({api_params:e.data})}},sfdcMethod:"getCalendar"},fetch_sf_custom_fields:{sfdcMethod:"parseCustFields",params:function(e){return{queryStr:JSON.stringify(e.data)}}},fetch_external_user_form_fields:{sfdcMethod:"getConVals",params:function(e){return{queryStr:JSON.stringify(e.data),meetingSource:window.isLeadsMeeting?"Lead":"Account"}}},meetings_list:{sfdcMethod:"getMeetingListdb"},meeting_create:{params:d,sfdcMethod:"createMeeting"},create_consecutive_meetings:{params:d,sfdcMethod:"createConsecMeeting"},create_group_nomination:{params:d,sfdcMethod:"createMeeting"},reschedule_meeting:{params:d,sfdcMethod:"createMeeting"},partial_meeting_update:{params:d,sfdcMethod:"createMeeting"},create_conference:{params:function(e){return{eventName:$.urlParam("eventName"),queryStr:JSON.stringify({api_params:e.data}),url:e.url.replace("{INTEGRATION_NAME}",e.data.integration_name)}},sfdcMethod:"createVconLink"},user_create:{sfdcMethod:"createAttendee"},sync_att_to_sfdc:{params:function(e){var t=e.data;return{accountId:t.account_id||"",custom_fields:t.customFields,meetingSource:t.meeting_source,opportunityId:t.opportunity_id||""}},sfdcMethod:"syncAttToSFDC"},get_zendesk_url:{sfdcMethod:"supportRedirect"}};function s(e){var t,n="dummy_"+Math.random().toString(36).substring(2);if("edit"===window.mode&&(null===(t=meetingInfo.request.users)||void 0===t?void 0:t.external)){var i=meetingInfo.request.users.external.find(function(t){return t.email===e.email});n=i?i.uuid:n}return n}function r(e){return"string"!=typeof e&&(e=JSON.stringify(e)),e=e.replace(/%5C/g,"%5C%5C").replace(/%22/g,"%5C%22").replace(/\+/g," ").replace(/&quot;/g,'\\"'),e=_.unescape(e),JSON.parse(e)}function c(e){return escape((e||"").replace(/['"!%^_\[\]]/g,"\\$&"))}function u(e,t){var n="",i=e.includes("/domains/validate")?"":$.urlParam("eventName");return void 0===t||$.isEmptyObject(t)||(n=$.param({api_params:t})),{eventName:i,url:e,queryStr:n}}function d(e){var t={eventName:$.urlParam("eventName"),meetingType:window.masterMeetingType.name.toLowerCase(),queryStr:JSON.stringify({api_params:e.data})},n=e.data.meeting_request;return window.envDetails.isConsecutiveMeeting&&(n=JSON.parse(e.data.meetings)[0].meeting_request),n&&(t.accountId=n.account_id||"",t.opportunityId=n.opportunity_id||"",t.leadId=n.lead_id||"",t.meetingSource=_.isEmpty(n.lead_id)?"":"Lead"),t}function m(e){return u(e.url.replace("{UUID}",$.urlParam("meeting")),e.data)}function f(e){return u(e.url.replace("{UUID}",$.urlParam("nomination")),e.data)}function h(e,t,n){var a=meetingInfo.externalAttendees[t.email],o=a.uuid,l=a.statuses;meetingInfo.externalAttendees[t.email]=i(i(i({},a),t),{},{uuid:o,statuses:i({},l)}),e.data.items[n]=_.cloneDeep(meetingInfo.externalAttendees[t.email])}e.exports=l},function(e,t,n){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=n(3),o=n(28);$(document).ready(function(){initI18n(i({},enLocale.consent,enLocale.opt_in_messages)),$("#accept_consent_form").validate({errorElement:"div",highlight:function(e,t){$(e).parent().addClass("has-error")},success:function(e,t){$(t).parent().removeClass("has-error")},rules:{consent:{required:!0}},messages:{consent:{required:i18n.t("register_user_consent_missing_message")}}}),o.fetchGDPRmessage({config:"post_login_privacy_message"}),setupUiI18n()});e.exports=function(e){$('#accept_consent_form input[name="consent"]').siblings("label").html(e.logged_in_consent_message),$("#accept_consent_form").on("submit",function(e){e.preventDefault();var t=$(e.currentTarget);if(t.valid()){var n=a.update({url:a.ENDPOINTS.portal+a.ENDPOINTS.give_consent,data:t.serializeObject()});n.then(function(e){200===e.status&&window.location.reload()}.bind(this)),n[n.fail?"fail":"catch"](function(e){console.log(e)}.bind(this))}})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}t.__esModule=!0;var o=a(n(21)),l=i(n(59)),s=i(n(7)),r=a(n(6)),c=a(n(60)),u=i(n(61));function d(){var e=new o.HandlebarsEnvironment;return r.extend(e,o),e.SafeString=l.default,e.Exception=s.default,e.Utils=r,e.escapeExpression=r.escapeExpression,e.VM=c,e.template=function(t){return c.template(t,e)},e}var m=d();m.create=d,u.default(m),m.default=m,t.default=m,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(6);t.default=function(e){e.registerHelper("blockHelperMissing",function(t,n){var a=n.inverse,o=n.fn;if(!0===t)return o(this);if(!1===t||null==t)return a(this);if(i.isArray(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):a(this);if(n.data&&n.ids){var l=i.createFrame(n.data);l.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:l}}return o(t,n)})},e.exports=t.default},function(e,t,n){"use strict";(function(i){function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0;var o,l=n(6),s=n(7),r=(o=s)&&o.__esModule?o:{default:o};t.default=function(e){e.registerHelper("each",function(e,t){if(!t)throw new r.default("Must pass iterator to #each");var n,o=t.fn,s=t.inverse,c=0,u="",d=void 0,m=void 0;function f(t,n,i){d&&(d.key=t,d.index=n,d.first=0===n,d.last=!!i,m&&(d.contextPath=m+t)),u+=o(e[t],{data:d,blockParams:l.blockParams([e[t],t],[m+t,null])})}if(t.data&&t.ids&&(m=l.appendContextPath(t.data.contextPath,t.ids[0])+"."),l.isFunction(e)&&(e=e.call(this)),t.data&&(d=l.createFrame(t.data)),e&&"object"===a(e))if(l.isArray(e))for(var h=e.length;c<h;c++)c in e&&f(c,c,c===e.length-1);else if(i.Symbol&&e[i.Symbol.iterator]){for(var p=[],_=e[i.Symbol.iterator](),g=_.next();!g.done;g=_.next())p.push(g.value);for(h=(e=p).length;c<h;c++)f(c,c,c===e.length-1)}else n=void 0,Object.keys(e).forEach(function(e){void 0!==n&&f(n,c-1),n=e,c++}),void 0!==n&&f(n,c-1,!0);return 0===c&&(u=s(this)),u})},e.exports=t.default}).call(this,n(23))},function(e,t,n){"use strict";t.__esModule=!0;var i,a=n(7),o=(i=a)&&i.__esModule?i:{default:i};t.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new o.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i,a=n(6),o=n(7),l=(i=o)&&i.__esModule?i:{default:i};t.default=function(e){e.registerHelper("if",function(e,t){if(2!=arguments.length)throw new l.default("#if requires exactly one argument");return a.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){if(2!=arguments.length)throw new l.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){e.registerHelper("log",function(){for(var t=[void 0],n=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)t.push(arguments[i]);var a=1;null!=n.hash.level?a=n.hash.level:n.data&&null!=n.data.level&&(a=n.data.level),t[0]=a,e.log.apply(e,t)})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=/^(constructor|__defineGetter__|__defineSetter__|__lookupGetter__|__proto__)$/;t.dangerousPropertyRegex=i,t.default=function(e){e.registerHelper("lookup",function(e,t){return e?!i.test(String(t))||Object.prototype.propertyIsEnumerable.call(e,t)?e[t]:void 0:e})}},function(e,t,n){"use strict";t.__esModule=!0;var i,a=n(6),o=n(7),l=(i=o)&&i.__esModule?i:{default:i};t.default=function(e){e.registerHelper("with",function(e,t){if(2!=arguments.length)throw new l.default("#with requires exactly one argument");a.isFunction(e)&&(e=e.call(this));var n=t.fn;if(a.isEmpty(e))return t.inverse(this);var i=t.data;return t.data&&t.ids&&((i=a.createFrame(t.data)).contextPath=a.appendContextPath(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:a.blockParams([e],[i&&i.contextPath])})})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.registerDefaultDecorators=function(e){o.default(e)};var i,a=n(57),o=(i=a)&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";t.__esModule=!0;var i=n(6);t.default=function(e){e.registerDecorator("inline",function(e,t,n,a){var o=e;return t.partials||(t.partials={},o=function(a,o){var l=n.partials;n.partials=i.extend({},l,t.partials);var s=e(a,o);return n.partials=l,s}),t.partials[a.args[0]]=a.fn,o})},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var i=n(6),a={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var t=i.indexOf(a.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e){if(e=a.lookupLevel(e),"undefined"!=typeof console&&a.lookupLevel(a.level)<=e){var t=a.methodMap[e];console[t]||(t="log");for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];console[t].apply(console,i)}}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";function i(e){this.string=e}t.__esModule=!0,i.prototype.toString=i.prototype.toHTML=function(){return""+this.string},t.default=i,e.exports=t.default},function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.__esModule=!0,t.checkRevision=function(e){var t=e&&e[0]||1,n=r.COMPILER_REVISION;if(t>=r.LAST_COMPATIBLE_COMPILER_REVISION&&t<=r.COMPILER_REVISION)return;if(t<r.LAST_COMPATIBLE_COMPILER_REVISION){var i=r.REVISION_CHANGES[n],a=r.REVISION_CHANGES[t];throw new s.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+a+").")}throw new s.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")},t.template=function(e,t){if(!t)throw new s.default("No environment passed to template");if(!e||!e.main)throw new s.default("Unknown template object: "+i(e));e.main.decorator=e.main_d,t.VM.checkRevision(e.compiler);var n=e.compiler&&7===e.compiler[0];var a={strict:function(e,t,n){if(!(e&&t in e))throw new s.default('"'+t+'" not defined in '+e,{loc:n});return e[t]},lookup:function(e,t){for(var n=e.length,i=0;i<n;i++)if(e[i]&&null!=e[i][t])return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:o.escapeExpression,invokePartial:function(n,i,a){a.hash&&(i=o.extend({},i,a.hash),a.ids&&(a.ids[0]=!0));n=t.VM.resolvePartial.call(this,n,i,a);var l=o.extend({},a,{hooks:this.hooks}),r=t.VM.invokePartial.call(this,n,i,l);null==r&&t.compile&&(a.partials[a.name]=t.compile(n,e.compilerOptions,t),r=a.partials[a.name](i,l));if(null!=r){if(a.indent){for(var c=r.split("\n"),u=0,d=c.length;u<d&&(c[u]||u+1!==d);u++)c[u]=a.indent+c[u];r=c.join("\n")}return r}throw new s.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(t){var n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,a){var o=this.programs[e],l=this.fn(e);return t||a||i||n?o=u(this,e,l,t,n,i,a):o||(o=this.programs[e]=u(this,e,l)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},nullContext:Object.seal({}),noop:t.VM.noop,compilerInfo:e.compiler};function l(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=n.data;l._setup(n),!n.partial&&e.useData&&(i=function(e,t){t&&"root"in t||((t=t?r.createFrame(t):{}).root=e);return t}(t,i));var o=void 0,s=e.useBlockParams?[]:void 0;function c(t){return""+e.main(a,t,a.helpers,a.partials,i,s,o)}return e.useDepths&&(o=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(c=m(e.main,c,a,n.depths||[],i,s))(t,n)}return l.isTop=!0,l._setup=function(i){if(i.partial)a.helpers=i.helpers,a.partials=i.partials,a.decorators=i.decorators,a.hooks=i.hooks;else{a.helpers=o.extend({},t.helpers,i.helpers),e.usePartial&&(a.partials=o.extend({},t.partials,i.partials)),(e.usePartial||e.useDecorators)&&(a.decorators=o.extend({},t.decorators,i.decorators)),a.hooks={};var l=i.allowCallsToHelperMissing||n;c.moveHelperToHooks(a,"helperMissing",l),c.moveHelperToHooks(a,"blockHelperMissing",l)}},l._child=function(t,n,i,o){if(e.useBlockParams&&!i)throw new s.default("must pass block params");if(e.useDepths&&!o)throw new s.default("must pass parent depths");return u(a,t,e[t],n,0,i,o)},l},t.wrapProgram=u,t.resolvePartial=function(e,t,n){e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name];return e},t.invokePartial=function(e,t,n){var i=n.data&&n.data["partial-block"];n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var a=void 0;n.fn&&n.fn!==d&&function(){n.data=r.createFrame(n.data);var e=n.fn;a=n.data["partial-block"]=function(t){var n=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return n.data=r.createFrame(n.data),n.data["partial-block"]=i,e(t,n)},e.partials&&(n.partials=o.extend({},n.partials,e.partials))}();void 0===e&&a&&(e=a);if(void 0===e)throw new s.default("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)},t.noop=d;var a,o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(6)),l=n(7),s=(a=l)&&a.__esModule?a:{default:a},r=n(21),c=n(22);function u(e,t,n,i,a,o,l){function s(t){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=l;return!l||t==l[0]||t===e.nullContext&&null===l[0]||(s=[t].concat(l)),n(e,t,e.helpers,e.partials,a.data||i,o&&[a.blockParams].concat(o),s)}return(s=m(n,s,e,l,i,o)).program=t,s.depth=l?l.length:0,s.blockParams=a||0,s}function d(){return""}function m(e,t,n,i,a,l){if(e.decorator){var s={};t=e.decorator(t,s,n,i&&i[0],a,l,i),o.extend(t,s)}return t}},function(e,t,n){"use strict";(function(n){t.__esModule=!0,t.default=function(e){var t=void 0!==n?n:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}},e.exports=t.default}).call(this,n(23))},function(e,t){var n=Reflux.createActions(["fetchAccount","fetchAccounts","fetchOppoprunity","refreshContactList"]);e.exports=n},function(e,t){function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(i=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||r(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var u={isJmmOrAbove:function(){var e=window.envDetails;return e.isMeetingManager()||e.isCSM()||e.isJuniorMM()},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isDefined:function(e){return!this.isUndefined(e)&&!this.isNull(e)},isMmOrAbove:function(){var e=window.envDetails;return e.isMeetingManager()||e.isCSM()},camelize:d,extractFormAttributes:function(e){if(!e)return;return s(e.elements||[]).map(function(e){return e.multiple?l({},e.name,$($(e)[0]).val()||[]):"submit"!==e.type&&""!==e.name?"checkbox"===e.type?l({},e.name,e.checked):"radio"===e.type?e.checked?l({},e.name,e.value):{}:l({},e.name,e.value):void 0}).reduce(function(e,t){return o(o({},e),t)},{})}};function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=i(e);return"boolean"===a?e:"number"===a?e:t&&"string"===a?e:"string"===a?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[_.-](\w|$)/g,function(e,t){return t.toUpperCase()})}(e):function(e){return e?"[object Array]"===Object.prototype.toString.call(e)?function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return d(e,!0)})}(e):Object.entries(e).map(function(e){var t=n(e,2),i=t[0],a=t[1];return l({},d(i),d(a,!0))}).reduce(function(e,t){return o(o({},e),t)},{}):e}(e)}e.exports=u},function(e,t){var n=Reflux.createActions(["updateCalendar"]);e.exports=n},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var s,r=n(37),c=n(35),u=n(12),d=n(29),m=n(66),f=n(8),h=n(11),p=n(13),g=n(99),v=n(30),y=n(14).AttendeeStore,b=n(143),w=n(67),M=n(18),x=n(24),C=n(10),D=new Date,k=n(106),S=!1,A=function(){var e=null,t=!1,i=null,o=null,A=null,T=null,E=($("#attendingStatus"),window.ReactMessage||$(".notification-modal")),I=$(".notification-modal"),O=null,P=$("#topicSubmit"),j=$("#cal_info"),q=[],R=!1,N=!1,F={},U=($("#scheduler_here"),{}),L=!1;function Y(e){var t=e.isSilent,n=e.callBackFn,i=e.mode,a=e.eventType;n="function"==typeof n?n:$.noop,scheduler.getEvents().forEach(function(e,o){B(e,t,n,i,a)})}function B(e,n,i,a,o){var l,s,r,u=e.start_date,d=e.end_date,m=i18n.t("room_type"),f=!1,h=(new Date(d)-new Date(u))/60/1e3;if((scheduler.config.offsite_enabled||scheduler.config.booth_tour_enabled)&&(m=me(u,d,h)),"neither_nor"===m)s=i18n.t("try_select_location"),r=scheduler.config.offsite_enabled&&scheduler.config.booth_tour_enabled?i18n.t("neither_nor_booth_tour_offsite"):scheduler.config.booth_tour_enabled?i18n.t("neither_nor_booth"):i18n.t("neither_nor_offsites"),!1===n?E.notificationModal({title:r,body:s,dismiss:function(){scheduler.deleteEvent(e.id)},class:"red"}):(f=!0,i(!1,s,e));else if(!t&&(h<scheduler.config.minimum_duration||h>scheduler.config.maximum_duration)){var g=scheduler.date.add(e.start_date,scheduler.config.minimum_duration,"minute"),v={start_date:e.start_date,end_date:g},y=window.isEBCEvent&&!moment(e.start_date).isSame(e.end_date,"day")&&new Date(d)-new Date(u)<0,b=v.start_date,w=v.end_date;if(!1===(C=moment(b).isSame(w,"day"))&&w.getMinutes()>0||y)l=!0,r=i18n.t("calendar_notify_title"),s=i18n.t("slot_unavailable");else if(scheduler.checkInMarkedTimespan(v,"dhx_time_block")){var M=H(e.start_date,scheduler.config.minimum_duration);v.start_date=scheduler.date.add(v.start_date,-M,"minute"),v.end_date=scheduler.date.add(v.end_date,-M,"minute");var C=moment(v.start_date).isSame(v.end_date,"day");!scheduler.checkInMarkedTimespan(v,"dhx_time_block")&&C||(l=!0,r=i18n.t("calendar_notify_title"),s=i18n.t("slot_unavailable"))}else r=i18n.t("meeting_time"),scheduler.config.minimum_duration<scheduler.config.maximum_duration?"mouseup"!==o&&function(e){var t=e.end_date-e.start_date,n=window.scheduler.config,i=n.time_step,a=n.minimum_duration,o=n.maximum_duration,l=t<a||t>o;return t%(6e4*i)==0&&l}(v)||(s=i18n.t("slot_size_invalid",{min_duration:x.convertMinutesToReadable(scheduler.config.minimum_duration),max_duration:x.convertMinutesToReadable(scheduler.config.maximum_duration),silentMsg:m})):s=i18n.t("slot_size_exact",{duration:x.convertMinutesToReadable(scheduler.config.minimum_duration),silentMsg:m});if(e.start_date=v.start_date,e.end_date=v.end_date,!1===n){if(r&&s){var D=se(),k=re(D).map(function(e){return{text:e}});s=_.isEmpty(D)?s:s+i18n.t("participation_reset_message"),r=_.isEmpty(D)?r:r+i18n.t("participation_reset_title_message"),E.notificationModal({title:r,body:s,uiDetails:k,class:"red",timeout:!l,dismiss:function(){scheduler.updateView()}})}l?scheduler.deleteEvent(e.id):(t=!1,c.eventCreated(e),function(e){window.external_request_preferred_slots&&Me("alreadyAddedEvent",e),x.setTimeFields(e)}(e))}else f=!0,i(!1,s,e)}return L=!1,!1===f&&n&&i(!0,"",e),(a||"new"===window.mode&&$.urlParam("start_time"))&&function(e){var t="no"===(window.meetingInfo.request.meeting_break_settings||p.MeetingStore.getActivitySettings()).show_meeting_break_notification||!!window.commons.isSessionStorageSupported()&&Boolean(window.sessionStorage.getItem("hideBreak"));if(z(e)&&!S&&!t){var n=p.MeetingStore.getActivitySettings(),i=(o=Number(n.meeting_break_meeting_duration),l=moment.duration(o,"minutes"),s=l.hours(),r=l.minutes(),s=s?"".concat(s," hour"):"",r=r?"".concat(r," min"):"","".concat(s," ").concat(r)),a=n.meeting_break_duration;S=!0,E.notificationModal({body:i18n.t("break.title",{breakDuration:a,meetingDuration:i}),class:"comment",detailsAction:{callback:function(){S=!1,window.commons.isSessionStorageSupported()&&window.sessionStorage.setItem("hideBreak",!0)},text:i18n.t("break.buttonText")},dismiss:function(){S=!1},uiDetails:[{text:i18n.t("break.body",{breakDuration:a})}]})}var o,l,s,r}(e),!1}function z(e,t){var n=t||(window.meetingInfo.request.meeting_break_settings||p.MeetingStore.getActivitySettings());if("no"===n.meeting_break_enabled)return!1;var i=e.start_date instanceof Date?e.start_date:moment(e.start_date,"DD-MM-YYYY hh:mm"),a=e.end_date instanceof Date?e.end_date:moment(e.end_date,"DD-MM-YYYY hh:mm");return(new Date(a)-new Date(i))/60/1e3>=Number(n.meeting_break_meeting_duration)}function H(e,t){var n=scheduler.date.time_part(e)/60,i=moment(e).format("YYYY-MM-DD");return t-(_.find(F[i],function(e){return e>n})-n)}function V(e,t){var n=e.toUpperCase(),i=t.toUpperCase();return n<i?-1:n>i?1:0}function G(e){return e.first_name||e.last_name?"".concat(e.first_name," ").concat(e.last_name):e}function Z(e){return e&&e.length?e.map(G).sort(V).join(", "):""}function W(){r.CalendarEventStore.listen(function(n){var a;"initiateNewMeeting"===n.type?(a=n.data,i=null,o=null,scheduler.deleteMarkedTimespan(),function(){for(;q.length;)scheduler.detachEvent(q.shift())}(),scheduler.clearAll(),N=a.isNew,c.initialAvailability(a.room.offsite),c.updateCalendar(a,function(){if(a.event){var e=_.assign({id:"alreadyAddedEvent"},a.event),t=new Date(e.start_date),n=moment(window.envDetails.event.start_date).toDate(),i=moment(window.envDetails.event.end_date).toDate();scheduler._date=m.getWeekStartForEdit(n,i,moment(t).startOf("day").toDate()),m.enableNavigationArrows(),m.disableCalendarLeftNavIcon(n),m.disableCalendarRightNavIcon(i),be(e)}ee()})):n.success&&function(n){var i,a,o=n.event;if(e=o,window.showWeekPickerCalendar){var l=D,r=new Date(moment(n.event.start_date,"YYYY-MM-DD")),c=new Date(moment(n.event.end_date,"YYYY-MM-DD")),u=window.isVirtualEvent&&b.isPastDay(c);b.isPastDay(r)&&!u||(l=r),meetingInfo.request&&meetingInfo.request.start_time&&(l=meetingInfo.request.start_time instanceof Date?meetingInfo.request.start_time:new Date(moment(meetingInfo.request.start_time,"DD-MM-YYYY"))),o.start_date=scheduler.date.add(l,-l.getDay(),"day"),o.end_date=scheduler.date.add(l,7-l.getDay()-1,"day")}var d=scheduler.date.date_part(moment(o.start_date).utc()._d),f=scheduler.date.date_part(moment(o.end_date).utc()._d);scheduler.config.now_date=new Date(1970,1,1),scheduler.config.check_limits=!0,scheduler.config.collision_limit=2,scheduler.config.start_on_monday=!1,scheduler.config.day_date="%D, %M %j",scheduler.config.limit_start=scheduler.date.add(d,-1,"day"),scheduler.config.limit_end=scheduler.date.add(f,1,"day"),scheduler.config.limit_view=!0,scheduler.config.separate_short_events=!0,scheduler.config.multi_day=!1,scheduler.config.mark_now=!1,scheduler.config.edit_on_create=!1;var h,p=$(".js-calendar-dropleft,.js-calendar-dropright");window.showWeekPickerCalendar?(m.setWeekStartForJFX(d,f),h=7):(m.setWeekStart(),m.hideNonEventDays(d,f),h=4);m.diffenceOfDatesLessThanMaxDays(d,f,h)&&p.addClass("hide");if(scheduler.config.details_on_create=!1,scheduler.xy.min_event_height=20,scheduler.xy.scale_height=30,scheduler.xy.scale_width=window.envDetails.showOtherTimezonesAtCalendar?140:70,scheduler.config.hour_size_px=44,scheduler.config.icons_select=["icon_delete"],scheduler.config.icons_edit=["icon_delete"],X(null===(i=meetingInfo.request)||void 0===i?void 0:null===(a=i.primaryTimezoneInfo)||void 0===a?void 0:a.time_zone_id),scheduler.xy.nav_height=0,scheduler.config.xml_date="%Y-%m-%d %H:%i",scheduler.config.touch=!0,scheduler.config.touch_drag=10,scheduler.config.touch_tip=!1,scheduler.init("scheduler_here",d),window.showWeekPickerCalendar){var _=window.envDetails.event,g=_.start_date,v=_.end_date;m.setupCalendarSlideListeners(moment(g)._d,moment(v)._d,7)}if(!1===window.showWeekPickerCalendar&&!window.meetingInfo.request.start_time){var y=window.envDetails.event,M=y.start_date,x=y.end_date;m.setupCalendarSlideListeners(moment(M)._d,moment(x)._d)}scheduler.config.dblclick_create=!1,Q(),ee(),de(o),setTimeout(function(){if(meetingInfo.request&&meetingInfo.request.start_time){var e=meetingInfo.request;t="edit"===mode,be({start_date:meetingInfo.request.start_time,end_date:meetingInfo.request.end_time,text:"Hello",uuid:meetingInfo.request.uuid,id:"alreadyAddedEvent",didEventAddedOnDemand:!0});var n=e.start_time,i=moment(n,"DD-MM-YYYY");if(i&&i.isValid()&&(n=i.toDate()),s="alreadyAddedEvent",!1===window.isOngoingSalesOrMeetingTypeVirtualAndFullDay){scheduler.setCurrentView(m.getWeekStartForEdit(d,f,n));var a=window.envDetails.event;a.start_date,a.end_date,m.setupCalendarSlideListeners(d,f)}}},50),isOngoingSalesOrMeetingTypeVirtualAndFullDay&&b.setCalendarConfig();showWeekPickerCalendar&&w.setWeekPickerCalendarConfig()}(n.data)}),r.CalendarAvailabilityStore.listen(pe),r.CalendarInitialAvailabilityStore.listen(ge),v.BriefingCenterLongDayStore.listen(function(e){e.success&&(O=e.data.data.room_initial_availabilities,he())}),v.BriefingRequestStore.listen(function(t){if(t.success){var a,o,s=t.data.data,r="",c="";a=Z(s.internal_attendees),o=Z(s.external_attendee),$("a","li#meetingWithHead").html(s.briefing_info.briefing_with),$("#meetingWithField").val(s.briefing_info.briefing_with),window.briefing_with=s.briefing_info.briefing_with;var u={internal:[],external:[]};void 0!==window.topic_uuid||void 0!==window.bam_uuid?_.forEach(s.activityList.activities,function(e,t,n){void 0!==window.bam_uuid&&e.id==window.bam_uuid&&(window.meetingInfo.request.topic_management=e.topic_activities_mapped&&e.topic,K(),u=e.agenda_participants&&e.agenda_participants.reduce(function(e,t){return e[s.internal_attendees.filter(function(e){return e.uuid===t.uuid}).length>0?"internal":"external"].push(t.user_name),e},u))}):K(),$("a","li#meetingWithHead").on("click",function(e){e.preventDefault(),e.stopPropagation(),$(".topic-meeting-overlay").slideDown(),$(".attend-meeting-details").slideDown()}),u&&(r=Z(u.internal),c=Z(u.external));var f={externalAttendees:o,internalAttendees:a,agendaInternalAttendee:r,agendaExternalAttendee:c};$("#briefing-info").popover({trigger:"hover",content:(h=f,$(n(190)(h))),placement:"bottom",html:!0,template:'<div class="item-popover popover briefing-info-popover"><div class="arrow"></div><div class="popover-content"></div></div>'}),function(t){var n=t.event;e=n;var a=scheduler.date.date_part(moment(n.start_time.split("T")[0]).utc()._d),o=scheduler.date.date_part(moment(n.end_time.split("T")[0]).utc()._d);v.BriefingRequestStore.isDraftEnabled&&!window.envDetails.can_edit_time&&(scheduler.config.readonly=!0);scheduler.config.now_date=new Date(1970,1,1),scheduler.config.xml_date="%Y-%m-%d %H:%i",scheduler.config.day_date="%D, %M %j",scheduler.config.use_select_menu_space=!1,scheduler.config.details_on_create=!1;var s=function(){var e=30;window.isEBCEvent&&(e=i.meetingTypeMinSlot||30);return e}();scheduler.config.hour_size_px=22*Math.ceil(60/s),scheduler.config.icons_select=["icon_delete"],scheduler.config.icons_edit=["icon_delete"],scheduler.config.edit_on_create=!1,scheduler.config.mark_now=!1,scheduler.xy.nav_height=0,scheduler.xy.min_event_height=20,scheduler.xy.scale_height=30,scheduler.xy.scale_width=window.envDetails.showOtherTimezonesAtCalendar?140:70,m.diffenceOfDatesLessThanMaxDays(a,o)&&$(".js-calendar-dropleft,.js-calendar-dropright").addClass("hide");X(),a.getTime()==o.getTime()?scheduler.init("scheduler_here",a,"day"):(m.setWeekStart(),m.hideNonEventDays(a,o),scheduler.init("scheduler_here",a,"week"));m.setupCalendarSlideListeners(a,o),Q(),ee(),scheduler.attachEvent("onEventCollision",function(){return!1}),de(n);var r=window.isEBCEvent?{css:"status-green",html:'<div class="statusTextCls">'+i18n.t("available")+"</div>"}:{};setTimeout(function(){if(meetingInfo.request&&meetingInfo.request.start_time){var e=meetingInfo,t=e.request,n=l({},{start_date:t.start_time,end_date:t.end_time,uuid:t.uuid,text:"Hello",id:"alreadyAddedEvent"},r);be(n),scheduler.checkInMarkedTimespan(n,"dhx_time_block")&&E.notificationModal({title:i18n.t("calendar_notify_title"),body:i18n.t("slot_unavailable"),dismiss:function(){window.envDetails.can_edit_time?scheduler.deleteEvent(n.id):p.MeetingStore.selectedRoom&&d.roomChosen(null)},class:"red"})}},500),c=n.briefing_meetings_unavailabilites,_.filter(c,function(e){return e.length}).length&&(scheduler.getEvents=function(e,t){var n=[];for(var i in this._events){var a=this._events[i];arguments.length?a&&(!e&&!t||a.start_date<t&&a.end_date>e)&&n.push(a):"existing-briefing-meeting"!==a.type&&n.push(a)}return n},scheduler.attachEvent("onClick",function(e){return!e.includes("existing-briefing-meeting")}),scheduler.attachEvent("onBeforeDrag",function(e,t){return"create"==t||!e.includes("existing-briefing-meeting")}),Object.keys(c).forEach(function(e){_.forEach(c[e],function(t,n){var i=t.slot[0]/60,a=t.slot[1]/60,o=moment(e).add(i,"h").format("DD-MM-YYYY HH:mm"),l=moment(e).add(a,"h").format("DD-MM-YYYY HH:mm");scheduler.addEvent({start_date:o,end_date:l,title:t.title,class:"ebc-scheduled-meeting",type:"existing-briefing-meeting",id:"existing-briefing-meeting-"+e+"-"+n})})}));var c}({event:s}),P.on("click",function(){$(".attend-meeting-details").slideUp()}),t.data.isCurrUserAlreadyAdded&&setTimeout(function(){$('[name="attend-meeting"]').prop("disabled",!0)},1e3)}var h})}function J(){X(h.getPrimaryTimeZone()),le(),scheduler.updateView()}function K(){!0===envDetails.topicManagementEnabled&&f.fetchTopicsForEBCMeeting()}function Q(){scheduler._render_marked_timespan=function(e,t,n){var i=[],a=scheduler.config,o=this._min_date,l=this._max_date,s=!1;if(!a.display_marked_timespans)return i;if(!n&&0!==n){if(e.days<7)n=e.days;else{var r=new Date(e.days);if(s=+r,!(+l>+r&&+o<=+r))return i;n=r.getDay()}var c=o.getDay();c>n?n=7-(c-n):n-=c}var u=e.zones,d=scheduler._get_css_classes_by_config(e);if(scheduler._table_view&&"month"==scheduler._mode){var m=[],f=[];if(t)m.push(t),f.push(n);else{f=s?[s]:scheduler._get_dates_by_index(n);for(var h=0;h<f.length;h++)m.push(this._scales[f[h]])}for(h=0;h<m.length;h++){t=m[h],n=f[h];var p=Math.floor((this._correct_shift(n,1)-o.valueOf())/(864e5*this._cols.length)),_=this.locate_holder_day(n,!1)%this._cols.length;if(!this._ignores[_]){var g=scheduler._get_block_by_config(e),v=Math.max(t.offsetHeight-1,0),y=Math.max(t.offsetWidth-1,0),b=this._colsS[_],w=this._colsS.heights[p]+(this._colsS.height?this.xy.month_scale_height+2:2)-1;g.className=d,g.style.top=w+"px",g.style.lineHeight=g.style.height=v+"px";for(var M=0;M<u.length;M+=2){var x=u[h];if((S=u[h+1])<=x)return[];(A=g.cloneNode(!0)).style.left=b+Math.round(x/1440*y)+"px",A.style.width=Math.round((S-x)/1440*y)+"px",t.appendChild(A),i.push(A)}}}}else{var C=n;if(this._ignores[this.locate_holder_day(n,!1)])return i;if(this._props&&this._props[this._mode]&&e.sections&&e.sections[this._mode]){var D=this._props[this._mode];C=D.order[e.sections[this._mode]];var k=D.order[e.sections[this._mode]];if(D.days>1)C=C*(D.size||D.options.length)+k;else C=k,D.size&&C>D.position+D.size&&(C=0)}t=t||scheduler.locate_holder(C);for(h=0;h<u.length;h+=2){var S,A;x=Math.max(u[h],60*a.first_hour);if((S=Math.min(u[h+1],60*a.last_hour))<=x){if(h+2<u.length)continue;return[]}(A=scheduler._get_block_by_config(e)).className=d;var T=24*this.config.hour_size_px+1;A.style.top=Math.round((60*x*1e3-36e5*this.config.first_hour)*this.config.hour_size_px/36e5)%T+"px";var E=Math.max(Math.round(60*(S-x)*1e3*this.config.hour_size_px/36e5)%T,1);A.style.lineHeight=Math.min(E,40)+"px",A.style.height=E+"px",t.appendChild(A),i.push(A)}}return i}.bind(scheduler)}function X(e){var t=scheduler.date.date_to_str("%g:%i%A"),n=e||window.tzinfo||window.envDetails.event.time_zone,i=window.envDetails.showOtherTimezonesAtCalendar;scheduler.templates.hour_scale=function(e){var a="",o="",l=h.getViewInTimezoneInfo("timezone")||{};if(i&&l.timeZoneId){var s=scheduler.getState().min_date;window.showWeekPickerCalendar&&s.setDate(s.getDate()+1);var r=moment(scheduler.date.add(s,e.getHours(),"hour")).format("YYYY-MM-DDTHH:mm:ss"),c=moment.tz(r,n);o="<div style='height:21px;line-height:21px;'>"+t(moment(moment(c).tz(l.timeZoneId).format("YYYY-MM-DDTHH:mm:ss")).toDate())+"</div>"}if(e.getHours()+e.getMinutes()/60<scheduler.config.last_hour-.5)for(var u=0;u<1;u++)a+="<div class='cal-time-scale ".concat(i?"with-sec-tz":"","'>")+"<div style='height:21px;line-height:21px;'>"+t(e)+"</div>"+o+"</div>",e=scheduler.date.add(e,60,"minute");return a},scheduler.templates.day_scale_date=scheduler.date.date_to_str(scheduler.config.day_date),scheduler.templates.event_class=function(e,t,n){return n.class||""},scheduler.templates.tooltip_text=function(e,t,n){return""},scheduler.templates.event_text=function(e,t,n){return""},scheduler.templates.event_header=function(e,t,n){return(e=moment(e).format("h:mm"))+" - "+(t=moment(t).format("h:mm"))+(n.title?", "+n.title:"")}}function ee(){var e=0;if(!q.length){q[e++]=scheduler.attachEvent("onEmptyClick",function(e,t){var n=$(t.target);n.closest(".resources-block-highlight").length||n.closest(".resource-block").length||n.closest(".initial-block").length||(!s&&scheduler.addEventNow({start_date:e},null,t),s=null)});var n=m.setupCalendarslotInfo({dataStore:h,calendarStore:r.CalendarAvailabilityStore,meetingTypeStore:p.MeetingStore,onGoingSalesStore:M,calendarInitialAvailabilityStore:r.CalendarInitialAvailabilityStore});q[e++]=n.event,U=n.PubSubManager,scheduler.attachEvent("onMouseDown",function(e){return!0}),q[e++]=scheduler.attachEvent("onBeforeViewChange",function(e,t,n,i){return setTimeout(function(){_e()}),!0}),q[e++]=scheduler.attachEvent("onBeforeEventCreated",function(e,t){return scheduler.getEvents().forEach(function(e){scheduler.deleteEvent(e.id)}),!0}),q[e++]=scheduler.attachEvent("onEventAdded",function(e,n){s=e,scheduler.getEvents().forEach(function(e){"existing-briefing-meeting"!==e.type&&e.id!==n.id&&scheduler.deleteEvent(e.id,!0)});var i=n&&ne(a({},n));if(i&&"existing-briefing-meeting"!==i.type){te(i);var o=se();if(t||_.isEmpty(o))oe(i),setTimeout(function(){scheduler.updateView()},50);else{ie(re(o),function(){i.start_date=h.model.event.start_date,i.end_date=h.model.event.end_date,scheduler.updateView()},function(){oe(i),le()})}}}),q[e++]=scheduler.attachEvent("onBeforeEventChanged",function(e,n,i,a){var o=moment(e.start_date).isSame(e.end_date,"day"),l=60*e.end_date.getHours()+e.end_date.getMinutes();if(!o&&0!==l)return!1;if(t=!1,(scheduler.config.offsite_enabled||scheduler.config.booth_tour_enabled)&&L){var s=(new Date(e.end_date)-new Date(e.start_date))/60/1e3;"neither_nor"===me(e.start_date,e.end_date,s)&&(e.end_date=scheduler.date.add(e.start_date,scheduler.config.mm_override?s:scheduler.config.maximum_duration,"minute"))}var r=scheduler.checkInMarkedTimespan(e,"dhx_time_block");if(A=a.start_date,T=a.end_date,r){var c=H(e.start_date,scheduler.config.minimum_duration);e.start_date=scheduler.date.add(e.start_date,-c,"minute"),e.end_date=scheduler.date.add(e.end_date,-c,"minute"),o=moment(e.start_date).isSame(e.end_date,"day"),r=scheduler.checkInMarkedTimespan(e,"dhx_time_block")||!o}return!r}),q[e++]=scheduler.attachEvent("onLimitViolation",function(){return!0}),q[e++]=scheduler.attachEvent("onEventChanged",function(e,t,n){var i=se(),o=t&&ne(a({},t));if(te(o),_.isEmpty(i))ae({event:o,triggeredByGranularEdit:n});else{ie(re(i),function(){o.start_date=A,o.end_date=T,scheduler.updateView(),A=null,T=null},function(){ae({event:o,triggeredByGranularEdit:n}),le()})}}),q[e++]=scheduler.attachEvent("onBeforeEventDelete",function(e,t){var n=se();if(_.isEmpty(n))return ue(),!0;ie(re(n),$.noop,function(){ue(),le(),setTimeout(function(){scheduler.deleteEvent(t.id)},500)})}),q[e++]=scheduler.attachEvent("onClearAll",function(){ue()}),q[e++]=scheduler.attachEvent("onBeforeDrag",function(e,t,n){return R=!0,!(v.BriefingRequestStore.isDraftEnabled&&!window.envDetails.can_edit_time)&&(L="create"===t,!0)}),q[e++]=scheduler.attachEvent("onDblClick",function(e,t){return!1}),document.body.onmouseup=function(e){R&&(R=!1,scheduler._ignore_next_click||scheduler._on_mouse_up(e||event))},q[e++]=scheduler.attachEvent("onDragEnd",function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.type,a=scheduler.getEvents()[0];te(a),t&&a.didEventAddedOnDemand&&"alreadyAddedEvent"===a.id&&(a.didEventAddedOnDemand=!1),Y({isSilent:!1,mode:t,eventType:i})}),scheduler._click.buttons.delete=ce}}function te(e){if(mappingEnabled&&e){var t=moment(e.start_date).format("YYYY-MM-DD"),n=h.getValidStartTimesForMeeting()[t];n&&function(e,t){var n=60*e.start_date.getHours()+e.start_date.getMinutes(),i=moment.duration(moment(e.end_date).diff(moment(e.start_date))),a=binarySearch.closest(t,n),o=t[a],l=moment(e.start_date).subtract(n,"minutes").add(o,"minutes"),s=moment(e.start_date).subtract(n,"minutes").add(o,"minutes").add(i);e.start_date=l._d,e.end_date=s._d,scheduler.updateEvent(e.id)}(e,n);var i=60*e.start_date.getHours()+e.start_date.getMinutes(),a=60*e.end_date.getHours()+e.end_date.getMinutes(),o=function(e,t,n,i,a){var o=t-e,l=Math.floor(o/n)*n;if(l==o)return e+l;if(l>a)return e+a;if(l<i)return e+i;var s=l+n;s>a&&(s=l);return s+e}(i,a,scheduler.config.meetingIncrement,scheduler.config.meetingMinimumDuration,scheduler.config.meetingMaximumDuration);e.end_date=moment(e.end_date).add(o-a,"minutes")._d,scheduler.updateEvent(e.id),x.setTimeFields(e),l=e,scheduler.checkInMarkedTimespan(l,"dhx_time_block")&&(scheduler.deleteEvent(l.id),E.notificationModal({title:i18n.t("calendar_notify_title"),body:i18n.t("slot_unavailable"),class:"red"}))}var l}function ne(e){var t=window.meetingInfo.request.meeting_break_settings||p.MeetingStore.getActivitySettings(),n=t&&t.meeting_break_duration;return e.break_duration=z(e)?n:"",e}function ie(e,t,n){var i=!1,a=i18n.t("reset_partial_particitpation_confirmation",{user_name:e.join(", ")});I.notificationModal({title:i18n.t("are_you_sure"),class:"blue",type:"confirmation",body:a,done:function(){i=!0},dismiss:function(){i?n():t()}})}function ae(e){var n=e.event,i=e.triggeredByGranularEdit;t=!1,void 0!==i&&i&&m.setScrollHourAndUpdateView(n),c.eventCreated(n),u.eventCreated(n),d.eventBarCreated(n)}function oe(e){c.eventCreated(e,t),u.eventCreated(e),d.eventBarCreated(e)}function le(){c.updateCalendar(h.model,$.noop,{slot_selection_changed:!0})}function se(){return _.filter(h.model.internal,function(e){return _.isPresent(e.partial_start_time)})}function re(e){return _.map(e,"user_name")}function ce(e){scheduler.deleteEvent(e)}function ue(){t=!1,c.eventCreated(null),u.eventCreated(null),d.eventBarCreated(null)}function de(t){e=t}function me(e,t,n){var a=i18n.t("room_type");if(i){var o=i.offsites,l=i.rooms,s=i.boothTours,r=moment(e).format("YYYY-MM-DD"),c=60*e.getHours()+e.getMinutes(),u=c+(t-e)/1e3/60,d=_.last(l[r])||1440,m=_.head(l[r])||0,f=(scheduler.config.maximum_duration,p.MeetingStore.isOffsiteSelected),g=p.MeetingStore.isBoothTourSelected;if(!f&&!g&&m<=c&&d>=u)scheduler.config.maximum_duration=scheduler.config.meetingMaximumDuration,scheduler.config.minimum_duration=scheduler.config.meetingMinimumDuration,d<c+(n||scheduler.config.maximum_duration)?a="neither_nor":(a=i18n.t("room_type"),scheduler.config.mm_override=scheduler.config.room_mm_override);else{var v=_.last(s[r])||1440,y=_.head(s[r])||0;if(g&&y<=c&&v>=u)if(scheduler.config.maximum_duration=scheduler.config.boothTourMaximumDuration,scheduler.config.minimum_duration=scheduler.config.boothTourMinimumDuration,v<c+(n||scheduler.config.maximum_duration))a="neither_nor";else{var b=h.getCustomLabels().custom_labels.booth_tour_custom_label;a=i18n.t("booth_tour_custom_label",{custom_lable:b||i18n.t("booth_tour")}),scheduler.config.mm_override=scheduler.config.booth_tour_mm_override}else{var w=_.last(o[r])||1440,M=_.head(o[r])||0;f&&M<=c&&w>=u?(scheduler.config.maximum_duration=scheduler.config.offsiteMaximumDuration,scheduler.config.minimum_duration=scheduler.config.offsiteMinimumDuration,w<c+(n||scheduler.config.maximum_duration)?a="neither_nor":(a=i18n.t("offsite_type"),scheduler.config.mm_override=scheduler.config.offsite_mm_override)):g?m==v?u>v&&c<m&&(a="neither_nor"):d==y&&u>d&&c<y&&(a="neither_nor"):f&&(m==w?u>w&&c<m&&(a="neither_nor"):d==M&&u>d&&c<M&&(a="neither_nor"))}}}return scheduler.config.event_duration=scheduler.config.minimum_duration,a}function fe(){scheduler.deleteMarkedTimespan();var t=e||envDetails.event;if(t)for(var n=scheduler.date.date_part(moment(t.start_date).utc()._d),a=scheduler.date.date_part(moment(t.end_date).utc()._d),o=scheduler.getState(),l=o.min_date,s=o.max_date;l<s;)(l<n||l>a)&&m.paintInitialBlocks(l,"fullday"),l=scheduler.date.add(l,1,"day");if(!r.CalendarAvailabilityStore.isUpdateCalendarDone()&&i){var c=r.CalendarInitialAvailabilityStore.getInitialAvailability(),u=r.CalendarInitialAvailabilityStore.getUnavailableByResourceBlocks(),d=0,f=1e6;_.forOwn(u,function(e,t){t=moment(t).utc()._d;m.paintUnavailableByResourceBlocks(t,e)}),_.forOwn(c,function(e,t){var n=_.flatten(e);f=_.min(n)<f?_.min(n):f,d=_.max(n)>d?_.max(n):d,F[t]=scheduler.invertZones(e);t=moment(t).utc()._d;m.paintInitialBlocks(t,scheduler.invertZones(e))}),"undefined"==typeof briefing_uuid?(scheduler.config.first_hour=f<60?Math.floor(f/60):Math.floor(f/60)-1,scheduler.config.last_hour=d>1380?Math.ceil(d/60):Math.ceil(d/60)+1,scheduler._is_initialized()&&scheduler.update_view()):null!=O?he():g.getBriefingCenterLongDay()}}function he(){O&&O[0]||(O=[0]),scheduler.config.first_hour=O[0]?Math.floor(O[0]/60):0;var e=Math.ceil(O[1]/60)+.5;e<=24&&(scheduler.config.last_hour=e),scheduler.updateView()}function pe(e,t){if(mappingEnabled&&f.fetchVaildStartTimesForMeeting(r.CalendarAvailabilityStore.getCalendarStartDate()),o=e,_e(t),!_.isEmpty(window.CalendarDatePickerDates)){var n=new Date(moment(envDetails.event.start_date,"YYYY-MM-DD"));window.CalendarDatePickerDates.data_picker_start_date&&(n=new Date(moment(window.CalendarDatePickerDates.data_picker_start_date,"YYYY-MM-DD"))),w.setupWeekPicker(n,r.CalendarAvailabilityStore.getCalendarStartDate())}}function _e(e){if(U.notifyReact&&U.notifyReact(),window.isOngoingSalesOrMeetingTypeVirtualAndFullDay||fe(),o&&(o.success||200===o.status)){scheduler.deleteMarkedTimespan();var t=o.data.bookable_meeting_slots,n=o.data.double_booking_slots;_.forOwn(t,function(e,t){0==_.isEmpty(e)&&m.paintDoubleBookingslots(moment(t)._d,e)});var i=0,l=1e6;if(_.forOwn(n,function(e,t){var n=o.data.initial_availability[t],a=_.flatten(n);l=_.min(a)<l?_.min(a):l,i=_.max(a)>i?_.max(a):i;var s=moment(t)._d;F[t]=scheduler.invertZones(e);var c=r.CalendarAvailabilityStore.getUnavailableByResourceBlocksByDate(t);c&&m.paintUnavailableByResourceBlocks(s,c),m.paintInitialBlocks(s,scheduler.invertZones(n)),m.paintResourceBlocks(s,r.CalendarAvailabilityStore.getResourceBlocks(t))}),"undefined"==typeof briefing_uuid){var s=h.model,c=s.proposedData,u=s.event,d=c&&c.active&&c.data.start_time?{start_date:c.data.start_time,end_date:c.data.end_time}:u?a({},u):u;scheduler.config.first_hour=l<60?Math.floor(l/60):Math.floor(l/60)-1,scheduler.config.last_hour=i>1380?Math.ceil(i/60):Math.ceil(i/60)+1,window.isVirtualEvent&&1e6===l&&0===i&&(scheduler.config.first_hour=0,scheduler.config.last_hour=24),scheduler.updateView(),d&&!m.isSelectedSlotProperlyVisibleInViewArea(d)&&m.setScrollHourAndUpdateView(d,0)}else null!=O?he():g.getBriefingCenterLongDay();window.external_request_preferred_slots&&(p=window.external_request_preferred_slots,v=p.startTimeList,y=void 0===v?[]:v,w=p.duration,y&&y.length&&y.forEach(function(e,t){var n={start_date:moment(e)._d,end_date:moment(e).add(w,"minute")._d},i=scheduler.checkInMarkedTimespan(n,"dhx_time_block"),a=$($("#preferred_extenal_request .preferred-slot")[t]);i?a.addClass("disabled"):a.removeClass("disabled")})),h.retainCalendarSlot()||function(e){var t=scheduler.getEvents();if(!t.length)return;var n=_.last(t),i=scheduler.checkInMarkedTimespan(n,"dhx_time_block"),a=!(isOngoingSales&&"edit"==window.mode&&b.isPastDay(n.start_date));if(i&&a){if(window.isEBCEvent&&!1===window.envDetails.can_edit_time&&"function"==typeof e)return void e(!0);!function(e){var t;scheduler.deleteEvent(e.id),isOngoingSales&&"new"==window.mode&&b.isPastDay(e.start_date)?(t=i18n.t("jfx_meeting_for_past_day_message"),scheduler.setCurrentView(D),b.fetchAvailablity(D)):(t=i18n.t("time_slot_unavailable_message"),t+=meetingInfo.request.conflicted_users?"Attendee(s) unavailable due to external block(s): "+meetingInfo.request.conflicted_users:"");E.notificationModal({timeout:!0,body:t,title:i18n.t("calendar_notify_title_overlapping_block"),class:"yellow"})}(n)}}(e)}else if(o&&o.errors){var f=o.errors;E.notificationModal({timeout:!0,class:"red",body:f.RuntimeError.join(", "),title:f.headerMessage})}var p,v,y,w;"function"==typeof e&&e()}function ge(e,t){if(window.mappingEnabled&&f.fetchVaildStartTimesForMeeting(r.CalendarAvailabilityStore.getCalendarStartDate()),"undefined"!=typeof briefing_uuid&&g.briefingDetails(),200===e.status||e.success){var n=e.data.room_initial_availabilities||{},a=e.data.offsite_initial_availabilities||{},o=e.data.booth_tour_initial_availabilities||{};i={rooms:n,offsites:a,boothTours:o,meetingTypeMinSlot:e.data.meeting_types_minimum_slot},!r.CalendarAvailabilityStore.isUpdateCalendarDone()&&fe()}else if(e.errors){var l=_.flatten(_.values(e.errors));E.notificationModal({timeout:!0,class:"red",body:l.join(", "),title:i18n.t("default_availability_error_title")})}"function"==typeof t&&t()}function ve(e){envDetails.defaultStateOfAreYouAttending="no",u.updateAreYouAttending("no"),ye(e)}function ye(e){$('.attendee-item.added[data-uuid="'+e+'"]',".selected-attendee").remove(),$('.attendee-item.added[data-uuid="'+e+'"]').removeClass("hide")}function be(e){scheduler.config.scroll_hour=new Date(e.start_date).getHours()-2,scheduler.addEvent(a({},e)),scheduler.update_view()}function we(e){if(!e.currentTarget.classList.contains("disabled")){var t=e.currentTarget.dataset,n=t.start,i=t.end,a=l({},{start_date:moment(n)._d,end_date:moment(i)._d,text:"Hello",id:"alreadyAddedEvent"}),o=new Date(a.start_date),s=moment(window.envDetails.event.start_date).toDate(),r=moment(window.envDetails.event.end_date).toDate();window.showWeekPickerCalendar?scheduler.setCurrentView(moment(o).startOf("week").toDate()):scheduler.setCurrentView(m.getWeekStartForEdit(s,r,moment(o).startOf("day").toDate())),be(a)}}function Me(e,t){$(".preferred-slot.active").removeClass("active");var n=window.external_request_preferred_slots,i=n.startTimeList,a=void 0===i?[]:i,o=n.duration;a.forEach(function(e,n){var i={start_date:moment(e),end_date:moment(e).add(o,"minute")};i.start_date.isSame(moment(t.start_date))&&i.end_date.isSame(moment(t.end_date))&&$($("#preferred_extenal_request .preferred-slot")[n]).addClass("active")})}return{init:function(){var e;window.isSFDC()&&(window.envDetails.showOtherTimezonesAtCalendar||($(".secondary-timezone").closest("li").addClass("hide"),$("#city-for-time-zone").closest(".form-group").addClass("hide")),(window.isEBCEvent||window.mappingEnabled||!window.envDetails.event.is_virtual_event)&&$(".section-caltime-right").addClass("hide"),!window.envDetails.can_edit_time&&$(".js-clear-cal-event").addClass("hide")),N="new"===mode,x.init({isSSEvent:!1,validationCallback:B}),window.external_request_preferred_slots&&(function(){var e=window.meetingInfo.request.meeting_time_zone,t=window.envDetails.event.time_zone,n=window.external_request_preferred_slots.startTimeList;if(n&&n.length&&e&&t){var i=n.map(function(n){return moment.tz(n,e).clone().tz(t).format("YYYY-MM-DDTHH:mm")});window.external_request_preferred_slots.startTimeList=i}}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.startTimeList,i=e.duration;if(t&&t.length){var a=t.map(function(e,t){var n=moment(e),a=n.clone().add(i,"minute");return{preferredDate:n.format("MMM D, YYYY"),startTime:n.format("hh:mm a"),endTime:a.format("hh:mm a"),start:n.toISOString(),end:a.toISOString(),priority:0===t}}),o=n(191);$("#preferred_extenal_request").html(o({slots:a})),$("#preferred_extenal_request .preferred-slot").on("click",we),scheduler.attachEvent("onEventAdded",Me),scheduler.attachEvent("onEventChanged",Me),scheduler.attachEvent("onBeforeEventDelete",function(){return $(".preferred-slot.active").removeClass("active"),!0}),$("body").popover({trigger:"hover",content:i18n.t("slot_unavailable_popup"),placement:"top",selector:"#preferred_extenal_request .preferred-slot.disabled",html:!0,template:'<div class="item-popover popover preferred-slots-popover">\n          <div class="arrow"></div>\n          <div class="popover-content"></div>\n        </div>'})}}(window.external_request_preferred_slots)),W(),$("#save-timezone").on("click",J),window.isEBCEvent&&(!1===window.envDetails.can_edit_time&&m.makeCalendarReadOnly(),t="edit"===mode),"undefined"==typeof briefing_uuid&&(("new"===mode||window.envDetails.isConsecutiveMeeting&&!h.getIsMascalOrigin())&&c.eventInfo(),window.setTimeout(function(){f.getCustomForm()},800)),("new"===mode&&!window.envDetails.isConsecutiveMeeting||window.isEBCEvent)&&c.initialAvailability(),j.on("show.bs.modal",function(){j.addClass("cal-info-help-gif"),e=setTimeout(function(){j.modal("hide")},18e3)}).on("hide.bs.modal",function(t){j.removeClass("cal-info-help-gif"),e&&clearTimeout(e)}),k.init(),k.initPrimaryTimezone(h,M,r.CalendarAvailabilityStore,!0),k.initViewInTimezone(h,M,r.CalendarAvailabilityStore,!0)},selectAttendee:function(e){var t=envDetails.isCSM()||envDetails.isMeetingManager()||envDetails.isJuniorMM(),n=envDetails.currentUser.uuid;if(meetingInfo.request&&!h.isTopicDirty()){var i=!1;if(("new"===mode||N)&&meetingInfo.request.users&&void 0!==_.find(meetingInfo.request.users.internal,function(e){return e.uuid===n})&&(i=!0),"new"===mode||N){if($("input[name='attend-meeting']:checked").length&&!0!==e.isResetAttendee)return;!i&&t?(u.updateAreYouAttending("no"),ye(n)):void 0!==e&&(2==e.default_state_of_are_you_attending?!0!==e.isResetAttendee?(envDetails.defaultStateOfAreYouAttending="yes",u.updateAreYouAttending("yes"),u.selectInternalAttendee(envDetails.currentUser.uuid)):(ve(n),e.isResetAttendee=!1):1!=e.default_state_of_are_you_attending&&0!=e.default_state_of_are_you_attending||ve(n))}"edit"===mode&&e&&e.isResetAttendee&&(ve(n),e.isResetAttendee=!1),"undefined"!=typeof jiffle&&(window.envDetails.isConsecutiveMeeting&&window.isLeadsMeeting&&C.getCurrentMeetingInProgress().editingExistingMeeting||y.onEditAttendees(meetingInfo.request.users,i))}},setSetByDefualt:function(e){t=e},getSetByDefualt:function(){return t},showBreakInfo:z}}();e.exports=A},function(e,t,n){var i=$(".js-calendar-dropleft"),a=$(".js-calendar-dropright");var o=function(e,t){return moment(e).add(t,"days")._d},l=function(e,t){return moment(e).subtract(t,"days")._d},s=function(e,t){return moment(e).diff(t,"days")};function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=scheduler.getState().date,a=o(n,t);a<=e&&(o(a,t-1)>e&&(a=l(e,t-1)),scheduler.setCurrentView(a)),i.removeClass("disabled");var s=window.envDetails.event.end_date;u(moment(s).endOf("week")._d,t)}function c(e,t,n){var i,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,r=scheduler.getState().date,c=o(r,s-1).getTime()===t.getTime();(i=l(r,c?n:s))>=e&&scheduler.setCurrentView(i),a.removeClass("disabled");var u=window.envDetails.event.start_date;d(moment(u).startOf("week")._d,s)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;o(scheduler.getState().date,t)>e&&a.addClass("disabled")}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;l(scheduler.getState().date,t)<e&&i.addClass("disabled")}e.exports={setWeekStart:function(){scheduler.date.week_start=function(e){return e}},hideNonEventDays:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;scheduler.ignore_week=function(i){var a=scheduler.getState().date;return moment(i).diff(a,"days")+1>n||i<e||i>t}},overrideLimitSpan:function(){scheduler._render_marked_timespan=function(e,t,n){var i=[],a=scheduler.config,o=this._min_date,l=this._max_date,s=!1;if(!a.display_marked_timespans)return i;if(!n&&0!==n){if(e.days<7)n=e.days;else{var r=new Date(e.days);if(s=+r,!(+l>+r&&+o<=+r))return i;n=r.getDay()}var c=o.getDay();c>n?n=7-(c-n):n-=c}var u=e.zones,d=scheduler._get_css_classes_by_config(e);if(scheduler._table_view&&"month"==scheduler._mode){var m=[],f=[];if(t)m.push(t),f.push(n);else{f=s?[s]:scheduler._get_dates_by_index(n);for(var h=0;h<f.length;h++)m.push(this._scales[f[h]])}for(h=0;h<m.length;h++){t=m[h],n=f[h];var p=Math.floor((this._correct_shift(n,1)-o.valueOf())/(864e5*this._cols.length)),_=this.locate_holder_day(n,!1)%this._cols.length;if(!this._ignores[_]){var g=scheduler._get_block_by_config(e),v=Math.max(t.offsetHeight-1,0),y=Math.max(t.offsetWidth-1,0),b=this._colsS[_],w=this._colsS.heights[p]+(this._colsS.height?this.xy.month_scale_height+2:2)-1;g.className=d,g.style.top=w+"px",g.style.lineHeight=g.style.height=v+"px";for(var M=0;M<u.length;M+=2){var x=u[h];if((S=u[h+1])<=x)return[];(A=g.cloneNode(!0)).style.left=b+Math.round(x/1440*y)+"px",A.style.width=Math.round((S-x)/1440*y)+"px",t.appendChild(A),i.push(A)}}}}else{var C=n;if(this._ignores[this.locate_holder_day(n,!1)])return i;if(this._props&&this._props[this._mode]&&e.sections&&e.sections[this._mode]){var D=this._props[this._mode];C=D.order[e.sections[this._mode]];var k=D.order[e.sections[this._mode]];D.days>1?C=C*(D.size||D.options.length)+k:(C=k,D.size&&C>D.position+D.size&&(C=0))}for(t=t||scheduler.locate_holder(C),h=0;h<u.length;h+=2){var S,A;if(x=Math.max(u[h],60*a.first_hour),(S=Math.min(u[h+1],60*a.last_hour))<=x){if(h+2<u.length)continue;return[]}(A=scheduler._get_block_by_config(e)).className=d;var T=24*this.config.hour_size_px+1;A.style.top=Math.round((60*x*1e3-36e5*this.config.first_hour)*this.config.hour_size_px/36e5)%T+"px";var E=Math.max(Math.round(60*(S-x)*1e3*this.config.hour_size_px/36e5)%T,1);A.style.lineHeight=Math.min(E,40)+"px",A.style.height=E+"px",t.appendChild(A),i.push(A)}}return i}.bind(scheduler)},setupSchedulerTemplates:function(e,t){var n=scheduler.date.date_to_str("%g:%i%A"),i=window.tzinfo||window.envDetails.event.time_zone,a=window.envDetails.showOtherTimezonesAtCalendar;scheduler.templates.hour_scale=function(e){var o="",l="",s=t.getViewInTimezoneInfo("timezone")||{};if(a&&s.timeZoneId){var r=scheduler.getState().min_date,c=moment(scheduler.date.add(r,e.getHours(),"hour")).format("YYYY-MM-DDTHH:mm:ss"),u=moment.tz(c,i);l="<div style='height:21px;line-height:21px;'>"+n(moment(moment(u).tz(s.timeZoneId).format("YYYY-MM-DDTHH:mm:ss")).toDate())+"</div>"}if(e.getHours()+e.getMinutes()/60<scheduler.config.last_hour-.5)for(var d=0;d<1;d++)o+="<div class='cal-time-scale ".concat(a?"with-sec-tz":"","'>")+"<div style='height:21px;line-height:21px;'>"+n(e)+"</div>"+l+"</div>",e=scheduler.date.add(e,60,"minute");return o},scheduler.templates.day_scale_date=scheduler.date.date_to_str(scheduler.config.day_date),scheduler.templates.event_class=function(e,t,n){return""},scheduler.templates.tooltip_text=function(e,t,n){return""},scheduler.renderEvent=e.renderEvent,scheduler.templates.event_text=e.event_text,scheduler.templates.event_header=e.event_header},calendarleftSlideHandler:c,calendarRightSlideHandler:r,disableCalendarLeftNavIcon:d,disableCalendarRightNavIcon:u,setupCalendarSlideListeners:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,i=window.envDetails.event,a=i.start_date,o=i.end_date;d(moment(a)._d,n),u(moment(o)._d,n);var l=(moment(t).diff(e,"days")+1)%n||n;$(".js-calendar-dropright").on("click",function(e){r(t,n)}),$(".js-calendar-dropleft").on("click",function(i){c(e,t,l,n)})},configureCalendarForWeekView:function(e){scheduler.config.check_limits=!0,scheduler.config.collision_limit=1,scheduler.config.start_on_monday=!1,scheduler.config.now_date=new Date(1970,1,1),scheduler.config.day_date="%D, %M %j",scheduler.config.limit_start=scheduler.date.add(e.startDate,-1,"day"),scheduler.config.limit_end=scheduler.date.add(e.endDate,1,"day"),scheduler.config.limit_view=!0,scheduler.config.multi_day=!1,scheduler.config.mark_now=!1,scheduler.config.details_on_create=e.details_on_create||!1,scheduler.xy.min_event_height=e.min_event_height||40,scheduler.config.hour_size_px=60/(e.step||30)*22,scheduler.config.icons_select=e.icons_select||["icon_delete"],scheduler.config.icons_edit=e.icons_edit||["icon_delete"],scheduler.config.time_step=e.time_step||15,scheduler.config.event_duration=e.event_duration||15,scheduler.config.drag_move=e.drag_move||!1,scheduler.xy.nav_height=0,scheduler.xy.scale_width=window.envDetails.showOtherTimezonesAtCalendar?140:70,scheduler.config.xml_date="%Y-%m-%d %H:%i",scheduler.config.dblclick_create=!1,scheduler.config.edit_on_create=!1},setupCalendarslotInfo:n(103),paintDoubleBookingslots:function(e,t){scheduler.addMarkedTimespan({days:e,zones:t,css:"status-light-green"})},paintInitialBlocks:function(e,t){scheduler.addMarkedTimespan({css:"initial-block",type:"dhx_time_block",days:e,zones:t})},paintUnavailableByResourceBlocks:function(e,t){scheduler.addMarkedTimespan({days:e,zones:t,css:"unavailable-by-resources-block",type:"dhx_time_block"})},paintResourceBlocks:function(e,t){scheduler.addMarkedTimespan({css:"resource-block",type:"dhx_time_block",days:e,zones:t})},diffenceOfDatesLessThanMaxDays:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;return e=moment(e),t=moment(t),moment.duration(t.diff(e,"days"))<n},getWeekStartForEdit:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,a=Math.floor(s(n,e)/i),r=o(e,a*i);t=moment(t);var c=s(t,r);return c<=i-1&&(r=l(t,i-1)),r},setWeekStartForJFX:function(e,t){var n;n=scheduler.date.getISOWeek(e)===scheduler.date.getISOWeek(scheduler.date.add(t,1,"day"))?0:e.getDay(),scheduler.date.week_start=function(e){var t=e.getDay();return n&&(t?t-=n:t=n),scheduler.date.date_part(scheduler.date.add(e,-1*t,"day"))}},enableNavigationArrows:function(){i.add(a).removeClass("disabled")},makeCalendarReadOnly:function(){var e=scheduler.addEventNow;scheduler.addEventNow=function(){this.config.readonly||e.apply(this,arguments)}},isSelectedSlotProperlyVisibleInViewArea:function(e){var t=e.start_date,n=t.getHours()+t.getMinutes()/60,i=n+.5;if(!(scheduler._els&&scheduler._els.dhx_cal_data&&scheduler._els.dhx_cal_data[0]))return!0;var a=scheduler._els.dhx_cal_data[0],o=scheduler.config,l=o.first_hour,s=o.hour_size_px,r=l+Number((a.scrollTop/s).toFixed(2)),c=l+Math.floor((a.offsetHeight+a.scrollTop)/s);return r<=n&&i<=c},setScrollHourAndUpdateView:function(e){var t=e.start_date,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;scheduler.config.scroll_hour=t.getHours()-n,scheduler.update_view()}}},function(e,t,n){var i=n(66),a=n(64),o=function(){var e,t,n,o,l,s=new Date;function r(e){a.updateCalendar.trigger(e)}function c(e,t){n.closest("div").removeClass("hide"),n.off("changeDate");var a=envDetails.event.end_date,s=envDetails.event.start_date;window.CalendarDatePickerDates&&(window.CalendarDatePickerDates.data_picker_end_date||window.CalendarDatePickerDates.data_picker_start_date)&&(a=window.CalendarDatePickerDates.data_picker_end_date||a,s=window.CalendarDatePickerDates.data_picker_start_date,e=window.CalendarDatePickerDates.data_picker_start_date||e,o=new Date(moment(e,"YYYY-MM-DD")),i.enableNavigationArrows(),i.disableCalendarLeftNavIcon(moment(s).startOf("week")._d,7),i.disableCalendarRightNavIcon(moment(a).endOf("week")._d,7));var c={format:"dd-mm-yyyy",endDate:window.isVirtualEvent&&new Date(moment(a,"YYYY-MM-DD")),startDate:e=new Date(moment(e,"YYYY-MM-DD")),defaultViewDate:{year:t.getFullYear(),month:t.getMonth(),day:t.getDate()},beforeShowDay:function(e){var i=moment(e),a=n.data("datepicker").getDate()||t,o=moment(a).startOf("week"),l=moment(a).endOf("week");if(i.isSame(o)||i.isSame(l)||i.isBetween(o,l))return{classes:"highlighted"}},maxViewMode:2};"undefined"!=typeof jiffle&&$.extend(c,{container:$("#sf-jiffle-now")}),n.bootstrapDP("destroy").bootstrapDP(c),d(t),n.on("changeDate",function(e){var t=e.date;scheduler.setCurrentView(t),l.updateCalendarStartDate(t),r(t),n.data("datepicker").hide(),u(t),i.enableNavigationArrows(),i.disableCalendarLeftNavIcon(moment(s).startOf("week")._d,7),i.disableCalendarRightNavIcon(moment(a).endOf("week")._d,7)})}function u(e){var t=moment(e).startOf("week"),i=moment(e).endOf("week"),a=t.month()===i.month(),o=t.year()===i.year();n.text(a?t.format("MMM YYYY"):"".concat(t.format(o?"MMM":"MMM YYYY")," - ").concat(i.format("MMM YYYY")))}function d(e){0!==n.length&&(n.data("datepicker").setDate(e),u(e))}function m(e){var t=moment(s).startOf("day");return moment(e).startOf("day")-t<0}function f(e){if(!$(this).hasClass("disabled")){e.preventDefault(),e.stopPropagation();var t=moment(scheduler.getState().date).startOf("week");t-o>0&&(scheduler._click.dhx_cal_next_button(0,-1),d((t=scheduler.getState().date)-o>0?t:o)),$(".js-calendar-dropright").removeClass("disabled");var n=envDetails.event.start_date;window.CalendarDatePickerDates&&window.CalendarDatePickerDates.data_picker_start_date&&(n=window.CalendarDatePickerDates.data_picker_start_date),i.disableCalendarLeftNavIcon(moment(n).startOf("week")._d,7)}}function h(e){if(!$(this).hasClass("disabled")){e.preventDefault(),e.stopPropagation(),scheduler._click.dhx_cal_next_button(0,1),d(scheduler.getState().date),$(".js-calendar-dropleft").removeClass("disabled");var t=envDetails.event.end_date;window.CalendarDatePickerDates&&window.CalendarDatePickerDates.data_picker_end_date&&(t=window.CalendarDatePickerDates.data_picker_end_date),i.disableCalendarRightNavIcon(moment(t).endOf("week")._d,7)}}return{init:function(i){if(l=i,n=$("#meeting-week-picker"),meetingInfo.request&&meetingInfo.request.start_time&&(e=meetingInfo.request.start_time instanceof Date?meetingInfo.request.start_time:new Date(moment(meetingInfo.request.start_time,"DD-MM-YYYY"))),o=s,t=s,e)t=e,"new"===mode&&m(e)&&(t=s),"edit"===mode&&m(e)&&(o=e),window.isVirtualEvent&&(t=e,o=new Date(moment(envDetails.event.start_date,"YYYY-MM-DD"))),l.updateCalendarStartDate(t);else{var a=new Date(moment(envDetails.event.start_date,"YYYY-MM-DD")),u=new Date(moment(envDetails.event.end_date,"YYYY-MM-DD")),d=window.isVirtualEvent&&m(u);!m(a)||d?(t=a,o=a):window.isVirtualEvent&&(o=new Date(moment(envDetails.event.start_date,"YYYY-MM-DD"))),l.updateCalendarStartDate(t),r(t)}window.CalendarDatePickerDates&&window.CalendarDatePickerDates.data_picker_start_date&&(o=new Date(moment(window.CalendarDatePickerDates.data_picker_start_date,"YYYY-MM-DD"))),c(o,t)},setWeekPickerCalendarConfig:function(){$(".js-calendar-dropleft,.js-calendar-dropright").removeClass("hide"),$(".js-calendar-dropright").off("click"),$(".js-calendar-dropleft").off("click"),$(".js-calendar-dropright").on("click",h),$(".js-calendar-dropleft").on("click",f),scheduler.config.limit_view=!1},setupWeekPicker:c}}();e.exports=o},function(e,t){var n=Reflux.createActions(["fetchUserFormRule","fetchProfileCustomForm","fetchModeOfAttendance","fetchModeOfAttendanceWithUser"]);e.exports=n},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return'<div class="form-group moa-field hide">\n    <label class="mode_of_attendance_label">'+e.escapeExpression("function"==typeof(o=null!=(o=n.mode_of_attendance_label||(null!=t?t.mode_of_attendance_label:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"mode_of_attendance_label",hash:{},data:a,loc:{start:{line:2,column:44},end:{line:2,column:72}}}):o)+'</label>\n    <select class="form-control" name="mode_of_attendance"></select>\n</div>'},useData:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,a,o,l,s){var r;return null!=(r=e.invokePartial(n(71),null!=t?t.show_loggedIn_user:t,{name:"_user_item",hash:{virtual_label:null!=t?t.virtual_label:t,in_person_label:null!=t?t.in_person_label:t,mode_of_attendance_enabled:null!=t?t.mode_of_attendance_enabled:t,default_mode_of_attendance:null!=t?t.default_mode_of_attendance:t,integration_name:null!=t?t.integration_name:t,alternate_host_enabled:null!=t?t.alternate_host_enabled:t,hide_endorsement_text:null!=s[1]?s[1].hide_endorsement_text:s[1],show_send_ics_btn:null!=t?t.show_send_ics_btn:t,meeting_host_label:null!=t?t.meeting_host_label:t,meeting_host_config:null!=t?t.meeting_host_config:t},data:o,indent:"  ",helpers:i,partials:a,decorators:e.decorators}))?r:""},3:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isStaffEvent:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.program(6,a,0),data:a,loc:{start:{line:6,column:2},end:{line:10,column:9}}}))?o:""},4:function(e,t,i,o,l){return'    <div class="mapped-users-header grouper"><div>'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"mapped_users_tags_header",{name:"t",hash:{},data:l,loc:{start:{line:7,column:50},end:{line:7,column:82}}}))+"</div></div>\n"},6:function(e,t,i,o,l){return'    <div class="mapped-users-header grouper"><div>'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"mapped_users_header",{name:"t",hash:{},data:l,loc:{start:{line:9,column:50},end:{line:9,column:77}}}))+"</div></div>\n"},8:function(e,t,i,a,o,l,s){var r;return null!=(r=e.invokePartial(n(71),t,{name:"_user_item",hash:{virtual_label:null!=s[1]?s[1].virtual_label:s[1],in_person_label:null!=s[1]?s[1].in_person_label:s[1],mode_of_attendance_enabled:null!=s[1]?s[1].mode_of_attendance_enabled:s[1],default_mode_of_attendance:null!=s[1]?s[1].default_mode_of_attendance:s[1],integration_name:null!=s[1]?s[1].integration_name:s[1],alternate_host_enabled:null!=s[1]?s[1].alternate_host_enabled:s[1],hide_endorsement_text:null!=s[1]?s[1].hide_endorsement_text:s[1],show_send_ics_btn:null!=s[1]?s[1].show_send_ics_btn:s[1],meeting_host_label:null!=s[1]?s[1].meeting_host_label:s[1],meeting_host_config:null!=s[1]?s[1].meeting_host_config:s[1]},data:o,indent:"  ",helpers:i,partials:a,decorators:e.decorators}))?r:""},10:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isStaffEvent:t,{name:"if",hash:{},fn:e.program(11,a,0),inverse:e.program(13,a,0),data:a,loc:{start:{line:18,column:2},end:{line:22,column:9}}}))?o:""},11:function(e,t,i,o,l){return'    <div class="unmapped-users-header grouper"><div>'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"unmapped_users_tags_header",{name:"t",hash:{},data:l,loc:{start:{line:19,column:52},end:{line:19,column:86}}}))+"</div></div>\n"},13:function(e,t,i,o,l){return'    <div class="unmapped-users-header grouper"><div>'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"unmapped_users_header",{name:"t",hash:{},data:l,loc:{start:{line:21,column:52},end:{line:21,column:81}}}))+"</div></div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,o,l){var s,r=null!=t?t:e.nullContext||{};return(null!=(s=n.if.call(r,null!=t?t.show_loggedIn_user:t,{name:"if",hash:{},fn:e.program(1,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:3,column:7}}}))?s:"")+"\n"+(null!=(s=n.if.call(r,null!=t?t.show_mapped_header:t,{name:"if",hash:{},fn:e.program(3,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:5,column:0},end:{line:11,column:7}}}))?s:"")+(null!=(s=n.each.call(r,null!=t?t.mapped_users:t,{name:"each",hash:{},fn:e.program(8,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:12,column:0},end:{line:14,column:9}}}))?s:"")+"\n\n"+(null!=(s=n.if.call(r,null!=t?t.show_unmapped_header:t,{name:"if",hash:{},fn:e.program(10,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:17,column:0},end:{line:23,column:7}}}))?s:"")+(null!=(s=n.each.call(r,null!=t?t.unmapped_users:t,{name:"each",hash:{},fn:e.program(8,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:24,column:0},end:{line:26,column:9}}}))?s:"")},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.escapeExpression;return'  <div  class="attendee-item '+(null!=(s=i.if.call(c,null!=t?t.meeting_host:t,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:2,column:29},end:{line:2,column:70}}}))?s:"")+(null!=(s=i.if.call(c,null!=t?t.default_mode_of_attendance:t,{name:"if",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l,loc:{start:{line:2,column:70},end:{line:2,column:131}}}))?s:"")+(null!=(s=i.if.call(c,null!=t?t.alternate_host:t,{name:"if",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l,loc:{start:{line:2,column:131},end:{line:2,column:176}}}))?s:"")+" "+(null!=(s=i.if.call(c,null!=t?t.selectedClassName:t,{name:"if",hash:{},fn:e.program(8,l,0),inverse:e.program(10,l,0),data:l,loc:{start:{line:2,column:177},end:{line:2,column:247}}}))?s:"")+" "+(null!=(s=i.if.call(c,null!=t?t.show_send_ics_btn:t,{name:"if",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l,loc:{start:{line:2,column:248},end:{line:2,column:292}}}))?s:"")+" "+(null!=(s=i.if.call(c,null!=t?t.expert:t,{name:"if",hash:{},fn:e.program(14,l,0),inverse:e.noop,data:l,loc:{start:{line:2,column:293},end:{line:2,column:330}}}))?s:"")+" "+(null!=(s=a(n(72)).call(c,null!=t?t.available:t,"false",!1,{name:"isEqualToEitherOfOne",hash:{},fn:e.program(16,l,0),inverse:e.noop,data:l,loc:{start:{line:2,column:331},end:{line:2,column:416}}}))?s:"")+'" data-uuid="'+d("function"==typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:2,column:429},end:{line:2,column:437}}}):r)+'" data-email="'+d("function"==typeof(r=null!=(r=i.email||(null!=t?t.email:t))?r:u)?r.call(c,{name:"email",hash:{},data:l,loc:{start:{line:2,column:451},end:{line:2,column:460}}}):r)+'" data-default-attendance="'+d("function"==typeof(r=null!=(r=i.default_mode_of_attendance||(null!=t?t.default_mode_of_attendance:t))?r:u)?r.call(c,{name:"default_mode_of_attendance",hash:{},data:l,loc:{start:{line:2,column:487},end:{line:2,column:517}}}):r)+'">\n'},2:function(e,t,n,i,a){return" meeting-host "},4:function(e,t,n,i,a){return" mode-of-attendance "},6:function(e,t,n,i,a){return" alternate-host "},8:function(e,t,n,i,a){var o;return" "+e.escapeExpression("function"==typeof(o=null!=(o=n.selectedClassName||(null!=t?t.selectedClassName:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"selectedClassName",hash:{},data:a,loc:{start:{line:2,column:203},end:{line:2,column:224}}}):o)+" "},10:function(e,t,n,i,a){return" added "},12:function(e,t,n,i,a){return"external-ics"},14:function(e,t,n,i,a){return" meeting_expert "},16:function(e,t,n,i,a){return"unavailable"},18:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression;return'  <div class="attendee-item '+(null!=(o=n.if.call(s,null!=t?t.expert:t,{name:"if",hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a,loc:{start:{line:4,column:28},end:{line:4,column:65}}}))?o:"")+" "+(null!=(o=n.if.call(s,null!=t?t.default_mode_of_attendance:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.noop,data:a,loc:{start:{line:4,column:66},end:{line:4,column:127}}}))?o:"")+" "+(null!=(o=n.unless.call(s,null!=t?t.available:t,{name:"unless",hash:{},fn:e.program(16,a,0),inverse:e.noop,data:a,loc:{start:{line:4,column:128},end:{line:4,column:171}}}))?o:"")+'" data-uuid="'+c("function"==typeof(l=null!=(l=n.uuid||(null!=t?t.uuid:t))?l:r)?l.call(s,{name:"uuid",hash:{},data:a,loc:{start:{line:4,column:184},end:{line:4,column:192}}}):l)+'" data-email="'+c("function"==typeof(l=null!=(l=n.email||(null!=t?t.email:t))?l:r)?l.call(s,{name:"email",hash:{},data:a,loc:{start:{line:4,column:206},end:{line:4,column:215}}}):l)+'" data-default-attendance="'+c("function"==typeof(l=null!=(l=n.default_mode_of_attendance||(null!=t?t.default_mode_of_attendance:t))?l:r)?l.call(s,{name:"default_mode_of_attendance",hash:{},data:a,loc:{start:{line:4,column:242},end:{line:4,column:272}}}):l)+'">\n'},20:function(e,t,n,i,a){return'    <i class="expert-icon star-filled"></i>\n'},22:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.company_name:t,{name:"if",hash:{},fn:e.program(23,a,0),inverse:e.program(25,a,0),data:a,loc:{start:{line:20,column:8},end:{line:24,column:15}}}))?o:""},23:function(e,t,n,i,a){var o;return"          <span>"+e.escapeExpression("function"==typeof(o=null!=(o=n.title||(null!=t?t.title:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:a,loc:{start:{line:21,column:16},end:{line:21,column:25}}}):o)+", </span>\n"},25:function(e,t,n,i,a){var o;return"          <span>"+e.escapeExpression("function"==typeof(o=null!=(o=n.title||(null!=t?t.title:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"title",hash:{},data:a,loc:{start:{line:23,column:16},end:{line:23,column:25}}}):o)+"</span>\n"},27:function(e,t,n,i,a){var o;return"        <span>"+e.escapeExpression("function"==typeof(o=null!=(o=n.company_name||(null!=t?t.company_name:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"company_name",hash:{},data:a,loc:{start:{line:27,column:14},end:{line:27,column:30}}}):o)+"</span>\n"},29:function(e,t,n,i,a){return"        <span>REGISTERED</span>\n"},31:function(e,t,n,i,a){return"        <span>UNREGISTERED</span>\n"},33:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression;return"    <div class='attendee-endorse'>\n      <span class="+u("function"==typeof(s=null!=(s=i.endorsement_text||(null!=t?t.endorsement_text:t))?s:c)?s.call(r,{name:"endorsement_text",hash:{},data:l,loc:{start:{line:42,column:18},end:{line:42,column:38}}}):s)+' data-i18n="'+u("function"==typeof(s=null!=(s=i.endorsement_text||(null!=t?t.endorsement_text:t))?s:c)?s.call(r,{name:"endorsement_text",hash:{},data:l,loc:{start:{line:42,column:50},end:{line:42,column:70}}}):s)+'">'+u(a(n(0)).call(r,null!=t?t.endorsement_text:t,{name:"t",hash:{},data:l,loc:{start:{line:42,column:72},end:{line:42,column:94}}}))+"</span>\n    </div>\n"},35:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.mode_of_attendance:t,{name:"if",hash:{},fn:e.program(36,a,0),inverse:e.program(41,a,0),data:a,loc:{start:{line:64,column:8},end:{line:70,column:15}}}))?o:""},36:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{};return"          "+(null!=(s=a(n(5)).call(r,null!=t?t.mode_of_attendance:t,"in_person",{name:"compare_text",hash:{},fn:e.program(37,l,0),inverse:e.noop,data:l,loc:{start:{line:65,column:10},end:{line:65,column:166}}}))?s:"")+"\n          "+(null!=(s=a(n(5)).call(r,null!=t?t.mode_of_attendance:t,"virtual",{name:"compare_text",hash:{},fn:e.program(39,l,0),inverse:e.noop,data:l,loc:{start:{line:66,column:10},end:{line:66,column:162}}}))?s:"")+"\n"},37:function(e,t,n,i,a){var o;return'<div class="attendee-attendance"><div class="status-label">'+e.escapeExpression("function"==typeof(o=null!=(o=n.in_person_label||(null!=t?t.in_person_label:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"in_person_label",hash:{},data:a,loc:{start:{line:65,column:118},end:{line:65,column:137}}}):o)+"</div></div>"},39:function(e,t,n,i,a){var o;return'<div class="attendee-attendance"><div class="status-label">'+e.escapeExpression("function"==typeof(o=null!=(o=n.virtual_label||(null!=t?t.virtual_label:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"virtual_label",hash:{},data:a,loc:{start:{line:66,column:116},end:{line:66,column:133}}}):o)+"</div></div>"},41:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{};return"          "+(null!=(s=a(n(5)).call(r,null!=t?t.default_mode_of_attendance:t,"in_person",{name:"compare_text",hash:{},fn:e.program(37,l,0),inverse:e.noop,data:l,loc:{start:{line:68,column:10},end:{line:68,column:174}}}))?s:"")+"\n          "+(null!=(s=a(n(5)).call(r,null!=t?t.default_mode_of_attendance:t,"virtual",{name:"compare_text",hash:{},fn:e.program(39,l,0),inverse:e.noop,data:l,loc:{start:{line:69,column:10},end:{line:69,column:170}}}))?s:"")+"\n"},43:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.available:t,{name:"if",hash:{},fn:e.program(44,a,0),inverse:e.noop,data:a,loc:{start:{line:77,column:4},end:{line:85,column:11}}}))?o:""},44:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.escapeExpression;return'      <div class="send-ics-toggle">\n          <div class="toggle-switch-sm js_send_ics_switch">\n            <input type="checkbox" name="send_ics_'+d("function"==typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:80,column:50},end:{line:80,column:58}}}):r)+'" class="form-control" '+(null!=(s=a(n(1)).call(c,null!=t?t.send_ics:t,{name:"isTrue",hash:{},fn:e.program(45,l,0),inverse:e.noop,data:l,loc:{start:{line:80,column:81},end:{line:80,column:121}}}))?s:"")+'  id="send_ics_'+d("function"==typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:80,column:136},end:{line:80,column:144}}}):r)+'" >\n            <label for="send_ics_'+d("function"==typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:81,column:33},end:{line:81,column:41}}}):r)+'"></label>\n          </div>\n          <div class="send-ics-label">'+d(a(n(0)).call(c,"send_invite",{name:"t",hash:{},data:l,loc:{start:{line:83,column:38},end:{line:83,column:57}}}))+"</div>\n      </div>\n"},45:function(e,t,n,i,a){return" checked "},47:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{};return'    <div class="dropdown more-action">\n      <a class="btn-more icon-box" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">\n        <i class="jif-more jif-18 jif-dark2-grey"></i>\n      </a>\n      <ul class="dropdown-menu js-meeting-host-dropdowns" aria-labelledby="dLabel">\n'+(null!=(s=a(n(87)).call(r,null!=t?t.meeting_host_config:t,null!=t?t.available:t,{name:"nestedAnd",hash:{},fn:e.program(48,l,0),inverse:e.noop,data:l,loc:{start:{line:96,column:8},end:{line:107,column:22}}}))?s:"")+(null!=(s=i.if.call(r,null!=t?t.alternate_host_enabled:t,{name:"if",hash:{},fn:e.program(51,l,0),inverse:e.noop,data:l,loc:{start:{line:108,column:8},end:{line:119,column:15}}}))?s:"")+(null!=(s=i.if.call(r,null!=t?t.mode_of_attendance_enabled:t,{name:"if",hash:{},fn:e.program(60,l,0),inverse:e.noop,data:l,loc:{start:{line:120,column:8},end:{line:144,column:15}}}))?s:"")+"      </ul>\n    </div>\n"},48:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d="function",m=e.escapeExpression;return'          <li>\n            <a class="add-keynote-speaker '+(null!=(s=i.if.call(c,null!=t?t.meeting_host:t,{name:"if",hash:{},fn:e.program(49,l,0),inverse:e.noop,data:l,loc:{start:{line:98,column:42},end:{line:98,column:73}}}))?s:"")+'" data-uuid="'+m(typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)===d?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:98,column:86},end:{line:98,column:94}}}):r)+'" title="'+m(a(n(0)).call(c,"prefix_add_as_meeting_host",{name:"t",hash:{},data:l,loc:{start:{line:98,column:103},end:{line:98,column:137}}}))+" "+m(typeof(r=null!=(r=i.meeting_host_label||(null!=t?t.meeting_host_label:t))?r:u)===d?r.call(c,{name:"meeting_host_label",hash:{},data:l,loc:{start:{line:98,column:138},end:{line:98,column:160}}}):r)+'">\n              '+m(a(n(0)).call(c,"prefix_add_as_meeting_host",{name:"t",hash:{},data:l,loc:{start:{line:99,column:14},end:{line:99,column:48}}}))+" "+m(typeof(r=null!=(r=i.meeting_host_label||(null!=t?t.meeting_host_label:t))?r:u)===d?r.call(c,{name:"meeting_host_label",hash:{},data:l,loc:{start:{line:99,column:49},end:{line:99,column:71}}}):r)+'\n            </a>\n          </li>\n          <li>\n            <a class="remove-keynote-speaker '+(null!=(s=i.unless.call(c,null!=t?t.meeting_host:t,{name:"unless",hash:{},fn:e.program(49,l,0),inverse:e.noop,data:l,loc:{start:{line:103,column:45},end:{line:103,column:84}}}))?s:"")+'" data-uuid="'+m(typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)===d?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:103,column:97},end:{line:103,column:105}}}):r)+'" title="'+m(a(n(0)).call(c,"prefix_of_remove_as_meeting_host",{name:"t",hash:{},data:l,loc:{start:{line:103,column:114},end:{line:103,column:154}}}))+" "+m(typeof(r=null!=(r=i.meeting_host_label||(null!=t?t.meeting_host_label:t))?r:u)===d?r.call(c,{name:"meeting_host_label",hash:{},data:l,loc:{start:{line:103,column:155},end:{line:103,column:177}}}):r)+'">\n              '+m(a(n(0)).call(c,"prefix_of_remove_as_meeting_host",{name:"t",hash:{},data:l,loc:{start:{line:104,column:14},end:{line:104,column:54}}}))+" "+m(typeof(r=null!=(r=i.meeting_host_label||(null!=t?t.meeting_host_label:t))?r:u)===d?r.call(c,{name:"meeting_host_label",hash:{},data:l,loc:{start:{line:104,column:55},end:{line:104,column:77}}}):r)+"\n            </a>\n          </li>\n"},49:function(e,t,n,i,a){return"hide"},51:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression;return'          <li>\n            <a class="add-vcon-alternate-host '+(null!=(o=n.if.call(s,null!=t?t.alternate_host:t,{name:"if",hash:{},fn:e.program(49,a,0),inverse:e.noop,data:a,loc:{start:{line:110,column:46},end:{line:110,column:79}}}))?o:"")+'" data-uuid="'+c("function"==typeof(l=null!=(l=n.uuid||(null!=t?t.uuid:t))?l:r)?l.call(s,{name:"uuid",hash:{},data:a,loc:{start:{line:110,column:92},end:{line:110,column:100}}}):l)+'" title="Assign alternate host">\n               '+(null!=(o=n.if.call(s,null!=t?t.integration_name:t,{name:"if",hash:{},fn:e.program(52,a,0),inverse:e.program(54,a,0),data:a,loc:{start:{line:111,column:15},end:{line:111,column:151}}}))?o:"")+'\n            </a>\n          </li>\n          <li>\n            <a class="remove-vcon-alternate-host '+(null!=(o=n.unless.call(s,null!=t?t.alternate_host:t,{name:"unless",hash:{},fn:e.program(49,a,0),inverse:e.noop,data:a,loc:{start:{line:115,column:49},end:{line:115,column:90}}}))?o:"")+'" data-uuid="'+c("function"==typeof(l=null!=(l=n.uuid||(null!=t?t.uuid:t))?l:r)?l.call(s,{name:"uuid",hash:{},data:a,loc:{start:{line:115,column:103},end:{line:115,column:111}}}):l)+'" title="Remove alternate host">\n                '+(null!=(o=n.if.call(s,null!=t?t.integration_name:t,{name:"if",hash:{},fn:e.program(56,a,0),inverse:e.program(58,a,0),data:a,loc:{start:{line:116,column:16},end:{line:116,column:152}}}))?o:"")+"\n            </a>\n          </li>\n"},52:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.escapeExpression;return c(a(n(0)).call(r,"prefix_assign_alternate_host_for",{name:"t",hash:{},data:l,loc:{start:{line:111,column:39},end:{line:111,column:79}}}))+" "+c("function"==typeof(s=null!=(s=i.integration_name||(null!=t?t.integration_name:t))?s:e.hooks.helperMissing)?s.call(r,{name:"integration_name",hash:{},data:l,loc:{start:{line:111,column:80},end:{line:111,column:100}}}):s)},54:function(e,t,i,o,l){return e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"prefix_assign_alternate_host",{name:"t",hash:{},data:l,loc:{start:{line:111,column:108},end:{line:111,column:144}}}))},56:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.escapeExpression;return c(a(n(0)).call(r,"prefix_remove_alternate_host_for",{name:"t",hash:{},data:l,loc:{start:{line:116,column:40},end:{line:116,column:80}}}))+" "+c("function"==typeof(s=null!=(s=i.integration_name||(null!=t?t.integration_name:t))?s:e.hooks.helperMissing)?s.call(r,{name:"integration_name",hash:{},data:l,loc:{start:{line:116,column:81},end:{line:116,column:101}}}):s)},58:function(e,t,i,o,l){return e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"prefix_remove_alternate_host",{name:"t",hash:{},data:l,loc:{start:{line:116,column:109},end:{line:116,column:145}}}))},60:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.mode_of_attendance:t,{name:"if",hash:{},fn:e.program(61,a,0),inverse:e.program(64,a,0),data:a,loc:{start:{line:121,column:10},end:{line:143,column:17}}}))?o:""},61:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.escapeExpression;return'            <li>\n              <a class="change-mode-of-attendance to-virtual '+(null!=(s=a(n(5)).call(c,null!=t?t.mode_of_attendance:t,"virtual",{name:"compare_text",hash:{},fn:e.program(62,l,0),inverse:e.noop,data:l,loc:{start:{line:123,column:61},end:{line:123,column:131}}}))?s:"")+'"  data-uuid="'+d("function"==typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:123,column:145},end:{line:123,column:153}}}):r)+'" data-attendance="virtual">\n                  Mark as '+d("function"==typeof(r=null!=(r=i.virtual_label||(null!=t?t.virtual_label:t))?r:u)?r.call(c,{name:"virtual_label",hash:{},data:l,loc:{start:{line:124,column:26},end:{line:124,column:43}}}):r)+' attendance\n              </a>\n            </li>\n            <li>\n              <a class="change-mode-of-attendance to-in-person '+(null!=(s=a(n(5)).call(c,null!=t?t.mode_of_attendance:t,"in_person",{name:"compare_text",hash:{},fn:e.program(62,l,0),inverse:e.noop,data:l,loc:{start:{line:128,column:63},end:{line:128,column:135}}}))?s:"")+'"  data-uuid="'+d("function"==typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:128,column:149},end:{line:128,column:157}}}):r)+'" data-attendance="in_person">\n                  Mark as '+d("function"==typeof(r=null!=(r=i.in_person_label||(null!=t?t.in_person_label:t))?r:u)?r.call(c,{name:"in_person_label",hash:{},data:l,loc:{start:{line:129,column:26},end:{line:129,column:45}}}):r)+" attendance\n              </a>\n            </li>\n"},62:function(e,t,n,i,a){return" hide "},64:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.escapeExpression;return'            <li>\n              <a class="change-mode-of-attendance to-virtual '+(null!=(s=a(n(5)).call(c,null!=t?t.default_mode_of_attendance:t,"virtual",{name:"compare_text",hash:{},fn:e.program(62,l,0),inverse:e.noop,data:l,loc:{start:{line:134,column:61},end:{line:134,column:139}}}))?s:"")+'"  data-uuid="'+d("function"==typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:134,column:153},end:{line:134,column:161}}}):r)+'" data-attendance="virtual">\n                  Mark as '+d("function"==typeof(r=null!=(r=i.virtual_label||(null!=t?t.virtual_label:t))?r:u)?r.call(c,{name:"virtual_label",hash:{},data:l,loc:{start:{line:135,column:26},end:{line:135,column:43}}}):r)+' attendance\n              </a>\n            </li>\n            <li>\n              <a class="change-mode-of-attendance to-in-person '+(null!=(s=a(n(5)).call(c,null!=t?t.default_mode_of_attendance:t,"in_person",{name:"compare_text",hash:{},fn:e.program(62,l,0),inverse:e.noop,data:l,loc:{start:{line:139,column:63},end:{line:139,column:143}}}))?s:"")+'"  data-uuid="'+d("function"==typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:139,column:157},end:{line:139,column:165}}}):r)+'" data-attendance="in_person">\n                  Mark as '+d("function"==typeof(r=null!=(r=i.in_person_label||(null!=t?t.in_person_label:t))?r:u)?r.call(c,{name:"in_person_label",hash:{},data:l,loc:{start:{line:140,column:26},end:{line:140,column:45}}}):r)+" attendance\n              </a>\n            </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d="function",m=e.escapeExpression;return(null!=(s=i.if.call(c,null!=t?t.selected:t,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(18,l,0),data:l,loc:{start:{line:1,column:0},end:{line:5,column:7}}}))?s:"")+'  <div class="attendee-check">\n    <div class="attendee-icon-check unselect-attendee '+m(typeof(r=null!=(r=i.invitee_status||(null!=t?t.invitee_status:t))?r:u)===d?r.call(c,{name:"invitee_status",hash:{},data:l,loc:{start:{line:7,column:54},end:{line:7,column:72}}}):r)+'" data-uuid="'+m(typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)===d?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:7,column:85},end:{line:7,column:93}}}):r)+'" data-default-attendance="'+m(typeof(r=null!=(r=i.default_mode_of_attendance||(null!=t?t.default_mode_of_attendance:t))?r:u)===d?r.call(c,{name:"default_mode_of_attendance",hash:{},data:l,loc:{start:{line:7,column:120},end:{line:7,column:150}}}):r)+'"></div>\n    <div class="attendee-icon-uncheck select-attendee '+m(typeof(r=null!=(r=i.invitee_status||(null!=t?t.invitee_status:t))?r:u)===d?r.call(c,{name:"invitee_status",hash:{},data:l,loc:{start:{line:8,column:54},end:{line:8,column:72}}}):r)+'" data-uuid="'+m(typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)===d?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:8,column:85},end:{line:8,column:93}}}):r)+'" data-default-attendance="'+m(typeof(r=null!=(r=i.default_mode_of_attendance||(null!=t?t.default_mode_of_attendance:t))?r:u)===d?r.call(c,{name:"default_mode_of_attendance",hash:{},data:l,loc:{start:{line:8,column:120},end:{line:8,column:150}}}):r)+'"></div>\n    <div class="attendee-icon-unavail"></div>\n  </div>\n'+(null!=(s=i.if.call(c,null!=t?t.expert:t,{name:"if",hash:{},fn:e.program(20,l,0),inverse:e.noop,data:l,loc:{start:{line:11,column:2},end:{line:13,column:9}}}))?s:"")+'  <div class="attendee-details" data-uuid="'+m(typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)===d?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:14,column:43},end:{line:14,column:51}}}):r)+'">\n    <div class="attendee-name">\n     '+m(typeof(r=null!=(r=i.first_name||(null!=t?t.first_name:t))?r:u)===d?r.call(c,{name:"first_name",hash:{},data:l,loc:{start:{line:16,column:5},end:{line:16,column:19}}}):r)+" "+m(typeof(r=null!=(r=i.last_name||(null!=t?t.last_name:t))?r:u)===d?r.call(c,{name:"last_name",hash:{},data:l,loc:{start:{line:16,column:20},end:{line:16,column:33}}}):r)+'\n    </div>\n    <div class="attendee-desn">\n'+(null!=(s=i.if.call(c,null!=t?t.title:t,{name:"if",hash:{},fn:e.program(22,l,0),inverse:e.noop,data:l,loc:{start:{line:19,column:6},end:{line:25,column:13}}}))?s:"")+(null!=(s=i.if.call(c,null!=t?t.company_name:t,{name:"if",hash:{},fn:e.program(27,l,0),inverse:e.noop,data:l,loc:{start:{line:26,column:6},end:{line:28,column:13}}}))?s:"")+'    </div>\n    <div class="attendee-desn font-blue">\n'+(null!=(s=a(n(73)).call(c,null!=t?t.registered:t,null!=t?t.unregistered:t,{name:"isAttendeeRegistered",hash:{},fn:e.program(29,l,0),inverse:e.noop,data:l,loc:{start:{line:31,column:6},end:{line:33,column:31}}}))?s:"")+'    </div>\n    <div class="attendee-desn font-red">\n'+(null!=(s=a(n(74)).call(c,null!=t?t.registered:t,null!=t?t.unregistered:t,{name:"isAttendeeUnregistered",hash:{},fn:e.program(31,l,0),inverse:e.noop,data:l,loc:{start:{line:36,column:6},end:{line:38,column:33}}}))?s:"")+"    </div>\n"+(null!=(s=i.unless.call(c,null!=t?t.hide_endorsement_text:t,{name:"unless",hash:{},fn:e.program(33,l,0),inverse:e.noop,data:l,loc:{start:{line:40,column:4},end:{line:44,column:15}}}))?s:"")+'  </div>\n  \x3c!-- Endorsement Action --\x3e\n  <div class="attendee-endorse-action" data-attuuid='+m(typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)===d?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:47,column:52},end:{line:47,column:60}}}):r)+'>\n    <div class="attendee-endorse-msg">To receive calendar invite, this executive needs to be endorsed to attend the meeting.</div>\n    <button class="btn btn-xs btn-bg-white js-pre-endorse-action" data-endorsed=\'false\'>Later</button>\n    <button class="btn btn-xs btn-bg-blue js-pre-endorse-action" data-endorsed=\'true\'>Endorse Now</button>\n  </div>\n  <div class="attendee-cont">\n    <div class="attendee-tag-cont">\n      <div class="attendee-avail-status">\n        <div class="status-label unavailable">\n            '+m(a(n(0)).call(c,"unavailable",{name:"t",hash:{},data:l,loc:{start:{line:56,column:12},end:{line:56,column:31}}}))+'\n        </div>\n      </div>\n      <div class="attendee-host-status">\n        <div class="status-label host"> '+m(typeof(r=null!=(r=i.meeting_host_label||(null!=t?t.meeting_host_label:t))?r:u)===d?r.call(c,{name:"meeting_host_label",hash:{},data:l,loc:{start:{line:60,column:40},end:{line:60,column:62}}}):r)+' </div>\n        <div class="status-label alternate-vcon" title="'+m(a(n(0)).call(c,"prefix_alternate_host_for",{name:"t",hash:{},data:l,loc:{start:{line:61,column:56},end:{line:61,column:89}}}))+" "+m(typeof(r=null!=(r=i.integration_name||(null!=t?t.integration_name:t))?r:u)===d?r.call(c,{name:"integration_name",hash:{},data:l,loc:{start:{line:61,column:90},end:{line:61,column:110}}}):r)+'" data-placement="top"> '+m(a(n(0)).call(c,"label_alternate_host",{name:"t",hash:{},data:l,loc:{start:{line:61,column:134},end:{line:61,column:162}}}))+" </div>\n      </div>\n"+(null!=(s=i.if.call(c,null!=t?t.mode_of_attendance_enabled:t,{name:"if",hash:{},fn:e.program(35,l,0),inverse:e.noop,data:l,loc:{start:{line:63,column:6},end:{line:71,column:13}}}))?s:"")+'      <div class="waitlist js-waitlist-pick-attendee">\n        '+m(a(n(0)).call(c,"waitlist",{name:"t",hash:{},data:l,loc:{start:{line:73,column:8},end:{line:73,column:24}}}))+"\n      </div>\n    </div>\n"+(null!=(s=i.if.call(c,null!=t?t.show_send_ics_btn:t,{name:"if",hash:{},fn:e.program(43,l,0),inverse:e.noop,data:l,loc:{start:{line:76,column:4},end:{line:86,column:9}}}))?s:"")+"  </div>\n  \n  \n"+(null!=(s=a(n(75)).call(c,null!=t?t.meeting_host_config:t,null!=t?t.alternate_host_enabled:t,null!=t?t.mode_of_attendance_enabled:t,{name:"nestedOr",hash:{},fn:e.program(47,l,0),inverse:e.noop,data:l,loc:{start:{line:90,column:2},end:{line:147,column:15}}}))?s:"")+"</div>\n"},useData:!0})},function(e,t){e.exports=function(e,t,n,i){return e===t||e===n?i.fn(this):i.inverse(this)}},function(e,t){e.exports=function(e,t,n){return e&&!t?n.fn(this):n.inverse(this)}},function(e,t){e.exports=function(e,t,n){return e&&t?n.fn(this):n.inverse(this)}},function(e,t){e.exports=function(){var e=_.values(arguments),t=_.last(arguments),n=e.length-1,i=e.slice(0,n),a=_.includes(i,!0);return a?t.fn(this):t.inverse(this)}},function(e,t,n){function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=n(9),l=n(10),s=n(12),r=n(14).AttendeeStore,c=n(24),u=n(11),d=n(77),m=function(){var e={updateMeetingsInMaking:function(e){t=e.data,n=t.length,p.prop("disabled","edit"===mode||n>1);var t,n},onShowMeetingTypes:function(e){var t=[];t="undefined"!=typeof jiffle?N(e):(e.data||[]).map(function(e){return{id:e.uuid,text:e.name}});var n=l.currMeetingInProgress,a=n.isNew,o=n.meetingType,s=o.name,r=o.uuid,c=window.envDetails.currentUser.can_manage_meetings_of_associated_topics;window.envDetails.isJuniorMM()&&c&&!a&&!t.length&&s&&(t.push({text:s,id:r}),v.hide());g.html("").select2({data:[{id:"-",text:i18n.t("please_select")}].concat(i(t)),placeholder:i18n.t("please_select_meeting_type")}),g.off("change.custom").on("change.custom",V),g.val(r).trigger("change.select2")},resetConsecutiveMeetings:function(){f.addClass("hide"),O(),j(),z()},canJmmOrAboveOverideRoomCapacity:function(e){var t=!1,n=function(e){var t={};e.data.callbackFunction?(t.title=i18n.t("override_room_capacity_while_reinviting_title"),t.body=i18n.t("override_room_capacity_while_reinviting_message")):("internal"===e.data.opts.type?t.body=i18n.t("override_room_capacity_body"):t.body=i18n.t("override_room_capacity_other_meeting_body"),t.title=i18n.t("override_room_capacity_header"));return t}(e),i=e.data.opts;a.notificationModal({type:"confirmation",class:"yellow",title:n.title,body:n.body,done:function(){t=!0},dismiss:function(){e.data.callbackFunction?t&&(l.currMeetingInProgress.isMeetingOverride=t,e.data.callbackFunction(),"internal"===i.type?r.persistOverRideRoomPopup(t):(l.externalOverRidedPopupValue=!0,l.setOverRidedFlagForMeetings(t),r.persistOverRideRoomPopup(l.currMeetingInProgress.isMeetingOverride))):t?(l.currMeetingInProgress.isMeetingOverride=t,"internal"===i.type?r.persistOverRideRoomPopup(t):(l.externalOverRidedPopupValue=!0,l.setOverRidedFlagForMeetings(t),r.persistOverRideRoomPopup(l.currMeetingInProgress.isMeetingOverride),G(i)),l.updateAttendeesForMeetings(e.data.meetings,t)):s.unselectAttendee(i.uuid,{silent:!0})}})},capacityOverflowForMeeting:function(e){var n=!e.data.callbackFunction,i=n?i18n.t("room_capacity_exceeded"):i18n.t("cannot_reinvite_as_capacity_reached_in_edit"),a=i18n.t("room_capacity_exceeded_title");if(e.data.alreadyMMOverided)var i=i18n.t("non_mm_room_capacity_exceeded"),a=i18n.t("non_mm_room_capacity_exceeded_title");t.notificationModal({body:i,title:a,class:"red",dismiss:function(){n&&s.unselectAttendee(e.data.opts.uuid,{silent:!0})}})},reinviteAttendees:function(e){if(!e.data)return;var t=!1;a.notificationModal({type:"confirmation",class:"blue",title:i18n.t("confirmation_title"),body:i18n.t("reinvite_confirm_message"),done:function(){t=!0},dismiss:function(){t&&e.data()}})},onDiscardMeeting:function(){j(),Y(l.currMeetingInProgress.uuid),B(l.currMeetingInProgress),L()},externalAttendeeAdded:G},t=window.ReactMessage||$(".notification-modal"),a=$(".notification-modal"),m=$("#meeting-request-container"),f=$(".js-meeting-entities"),h=$("#meeting-empty-state"),p=$('[id^="requestor-select"]'),_=$(".js-activity-name"),g=$("#select_meeting_type"),v=$("#consecutive_add_meeting_btn"),y=$("#req-page-topic-management"),b=$("#meetingList"),w=$("#js-instructions-display"),M=$(".instruction-label"),x=$(".instruction-check"),C=$("#meetingList"),D=$("#js_delete_label"),k=$(".js-delete-current-meeting").find("i"),S=$("#topic_management-complement");var A=function(){O(),z()};var T=function(){m.on("click","#consecutive_add_meeting_btn",function(){var e=!S.prop("required")||null!==S.val()&&"-"!==S.val(),t=$("#details-form");if(t.validate({}),!t.valid()||!e)return d.showMandatoryFieldsMsg(),void(e||$("#req-page-topic-management").addClass("has-error"));c.isFormValid()&&e&&O()})};function E(e){var t=this.consecutiveMeetings;for(var n in t)if(t[n].activitySettings&&e.data)for(var i in e.data)e.data[i]&&t[n].uuid===e.data[i].uuid&&(t[n].activitySettings.booth_tour_label||t[n].room)&&(e.data[i].booth_tour_label=t[n].activitySettings.booth_tour_label||t[n].room.booth_tour_display_name||i18n.t("booth_tour"))}function I(t){"function"==typeof e[t.type]&&(E.call(this,t),e[t.type](t))}function O(){o.validateCurrentMeetingProgress({successCallBack:function(){l.setCurrentMeetingInProgress(),u.setTopicDirty(!1),l.onActivitySelected("-",""),P(),B(l.currMeetingInProgress)},failureCallBack:Z,ignoreDiffDates:!1})}var P=function(){g.val("-").trigger("change"),F(),j()},j=function(){var e,t=n(205)({list:(e=l.getConsecutiveMeetings(),e.map(function(e){return e.getDisplayAttributes()}))});b.html(t),q()};var q=function(){$(".js-edit-current-meeting").each(function(){var e=$(this),t=e.data("uuid"),i=R(t);t!==l.currMeetingInProgress.uuid&&e.popover({trigger:"hover",content:n(206)(i),placement:"bottom",html:!0,template:'<div class="item-popover popover consecutive-meeting-popover"><div class="arrow"></div><div class="popover-content"></div></div>'})})},R=function(e){var t=l.getMeeting(e).getDisplayAttributes(),n=t.room_name,i=t.meeting_type,a=t.internal_attendees,o=t.external_attendees,s=function(e){return e.map(function(e){return e.user_name}).join(", ")};return{roomName:n,meetingType:i,internalAttendees:s(a),externalAttendees:s(o)}};var N=function(e){return(e.data||[]).filter(function(e){return e.source!==(window.isLeadsMeeting?"accFlow":"leadFlow")}).map(function(e){return{id:e.uuid,text:e.name}})},F=function(){U(),y.addClass("hide"),M.addClass("hide"),w.html(""),x.prop("checked",!1)},U=function(){f.addClass("hide"),h.removeClass("hide")},L=function(){f.removeClass("hide"),h.addClass("hide")},Y=function(e){C.find("li").map(function(t,n){(n=$(n))[n.data("uuid")===e?"addClass":"removeClass"]("active")})},B=function(e){var t=e.getDisplayAttributes(),n=t.mode,i=t.remove_label;D.text(i18n.t(i)),k.removeClass("jif-iris-trash").removeClass("jif-iris-not-allowed");var a="new"===n?"jif-iris-trash":"jif-iris-not-allowed";k.addClass(a)},z=function(){k.addClass("hide"),D.addClass("hide")},H=function(){k.removeClass("hide"),D.removeClass("hide")};function V(){var e=$(this),t=e.select2("data")[0].text,n=e.select2("data")[0].id;u.setTopicDirty(!1),c.clearTimeErrorField(),c.resetTimeFields(),c.hideTimeForm(),"-"===n?(F(),o.activitySelected("-","")):(H(),y.removeClass("hide"),L(),o.activitySelected(n,t),window.envDetails.meeting_host_label=void 0,window.envDetails.enable_meeting_host=void 0,window.envDetails.assign_requestors_as_meeting_host_by_default=void 0,window.envDetails.assign_mapped_user_as_meeting_host_by_default=void 0)}function G(e){var n=e.user;t.notificationModal({class:"green",body:i18n.t("external_attendee_consecutive_meeting_add_message",{user:n.user_name})})}function Z(e,n){t.notificationModal({title:e,body:n,class:"red"})}return{init:function(){var e;l.listen(I),e=window.selectedActivityName,_.html(e),T(),window.isSFDC()&&$(g).parent().find("label").text(envDetails.meeting_type_label),"new"===window.mode&&A()},mapBoothTourToPayload:E,fetchMeetingTypes:function(){o.showMeetingTypes(p.first().val())},displayTabs:j,highlightMeetingTab:Y,showMeetingProgress:L,changeDeleteIconLabel:B}}();e.exports=m},function(e,t){var n=window.ReactMessage||$(".notification-modal"),i={internal:$("#internalAttendeeCount"),external:$("#externalAttendeeCount")},a=function(e,t){!function(e,t){i[e].text(t)}(e,t),i[e][t>0?"removeClass":"addClass"]("hide")};function o(){var e=$("#req_page_meeting_with");!e.val()&&e.trigger("focus").trigger("click")}e.exports={setAttendeeCount:function(e){var t=e.internalCount,n=e.externalCount;a("internal",t),a("external",n)},init:function(){a("internal",0),a("external",0)},showMandatoryFieldsMsg:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i18n.t("mandatory_feilds_required");n.notificationModal({class:"red",timeout:!0,body:e,dismiss:o})},focusInMeetingWith:o,validateMeetingWith:function(){$("form#details-form").validate({errorPlacement:function(e){return!0}}).element($(this))}}},function(e,t){function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var a=function(){var e=$("#comments_modal"),t=e.find(".js-comments"),i=e.find(".js-others-comments"),a=e.find(".js-action-btn"),o=e.find(".comment-error"),l=e.find(".modal-title"),s=e.find(".note-footer"),r="Other",c=$.noop,u=[];function d(){var e=t.val();i[e===r?"removeClass":"addClass"]("hide").val(""),o.removeClass("show")}function m(e){u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e=e.filter(function(e){return e}),[].concat(n(e),[r]).map(function(e){return{id:e,text:e}})}(e),t.data("select2")&&t.select2("destroy").html(""),t.select2({minimumResultsForSearch:-1,data:u,width:"100%"});var i=u[0].id;t.val(i).trigger("change")}function f(n){n.preventDefault();var a=t.val();if(a===r){var l=function(){var e=i.val();return o[e?"removeClass":"addClass"]("show"),e}();if(!l)return;a=l}c(a),e.modal("hide")}return a.on("click",f),t.on("change",d),{show:function(n){var i=n.comments,o=void 0===i?[]:i,r=n.callback,d=void 0===r?c:r,f=n.type,h=void 0===f?"decline":f;c=d,m(o),function(e){var t=i18n.t("comments_title",{type:"cancel"===e?"cancellation":e}),n=i18n.t("comments_".concat(e)),i=i18n.t("comments_".concat(e,"_footer"));l.text(t),a.text(n),s.html(i)}(h);var p=u[0].id;t.val(p).trigger("change"),e.modal({backdrop:"static"})}}}();e.exports=a},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l,s,r){var c,u,d=null!=t?t:e.nullContext||{},m=e.hooks.helperMissing,f="function",h=e.escapeExpression;return'  <div class="selected-attendee-item '+(null!=(c=i.unless.call(d,null!=r[1]?r[1].meetingCancelled:r[1],{name:"unless",hash:{},fn:e.program(2,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:2,column:37},end:{line:2,column:96}}}))?c:"")+" "+(null!=(c=a(n(72)).call(d,null!=t?t.available:t,"false",!1,{name:"isEqualToEitherOfOne",hash:{},fn:e.program(4,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:2,column:97},end:{line:2,column:184}}}))?c:"")+'" data-uuid="'+h(typeof(u=null!=(u=i.uuid||(null!=t?t.uuid:t))?u:m)===f?u.call(d,{name:"uuid",hash:{},data:l,loc:{start:{line:2,column:197},end:{line:2,column:205}}}):u)+'" data-attendee_type="'+h(e.lambda(null!=r[1]?r[1].type:r[1],t))+'">\n  <div class="selected-attendee-pic">\n    <span class="user-status accepted"><i class="jif-iris-check-circle jif-green"></i></span>\n    <span class="user-status declined"><i class="jif-close-circle jif-red"></i></span>\n    <span class="user-status pending"><i class="jif-iris-question jif-yellow"></i></span>\n  </div>\n  <div class="selected-attedee-detail">\n    <div class="attendee-name">\n      '+h(typeof(u=null!=(u=i.first_name||(null!=t?t.first_name:t))?u:m)===f?u.call(d,{name:"first_name",hash:{},data:l,loc:{start:{line:10,column:6},end:{line:10,column:20}}}):u)+" "+h(typeof(u=null!=(u=i.last_name||(null!=t?t.last_name:t))?u:m)===f?u.call(d,{name:"last_name",hash:{},data:l,loc:{start:{line:10,column:21},end:{line:10,column:34}}}):u)+"\n    </div>\n"+(null!=(c=a(n(73)).call(d,null!=t?t.registered:t,null!=t?t.unregistered:t,{name:"isAttendeeRegistered",hash:{},fn:e.program(6,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:12,column:4},end:{line:16,column:29}}}))?c:"")+(null!=(c=a(n(74)).call(d,null!=t?t.registered:t,null!=t?t.unregistered:t,{name:"isAttendeeUnregistered",hash:{},fn:e.program(8,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:17,column:4},end:{line:21,column:31}}}))?c:"")+(null!=(c=i.if.call(d,null!=r[1]?r[1].enable_meeting_host:r[1],{name:"if",hash:{},fn:e.program(10,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:22,column:4},end:{line:28,column:11}}}))?c:"")+"    <div class='attendee-desn attendee-endorse "+h(typeof(u=null!=(u=i.endorsement_text||(null!=t?t.endorsement_text:t))?u:m)===f?u.call(d,{name:"endorsement_text",hash:{},data:l,loc:{start:{line:29,column:47},end:{line:29,column:67}}}):u)+"'>\n      <span class="+h(typeof(u=null!=(u=i.endorsement_text||(null!=t?t.endorsement_text:t))?u:m)===f?u.call(d,{name:"endorsement_text",hash:{},data:l,loc:{start:{line:30,column:18},end:{line:30,column:38}}}):u)+' data-i18n="'+h(typeof(u=null!=(u=i.endorsement_text||(null!=t?t.endorsement_text:t))?u:m)===f?u.call(d,{name:"endorsement_text",hash:{},data:l,loc:{start:{line:30,column:50},end:{line:30,column:70}}}):u)+'">'+h(a(n(0)).call(d,null!=t?t.endorsement_text:t,{name:"t",hash:{},data:l,loc:{start:{line:30,column:72},end:{line:30,column:94}}}))+'</span>\n    </div>\n  </div>\n  <div class="attendee-attendance">\n'+(null!=(c=i.if.call(d,null!=t?t.mode_of_attendance:t,{name:"if",hash:{},fn:e.program(13,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:34,column:4},end:{line:37,column:11}}}))?c:"")+'  </div>\n  <div class="attendee-avail-status">\n    <div class="status-label unavailable">\n        '+h(a(n(0)).call(d,"unavailable",{name:"t",hash:{},data:l,loc:{start:{line:41,column:8},end:{line:41,column:27}}}))+'\n    </div>\n  </div>\n  <div class="action">\n    <div class="dropdown pull-right">\n'+(null!=(c=a(n(122)).call(d,null!=r[1]?r[1].actions:r[1],null!=t?t.reinvite_url:t,null!=r[1]?r[1].remove:r[1],null!=t?t.edit_partial_participation:t,null!=t?t.view_partial_participation:t,null!=t?t.endorse_url:t,null!=t?t.transfer_meeting_url:t,null!=t?t.show_survey:t,{name:"showMoreActions",hash:{},fn:e.program(18,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:46,column:6},end:{line:50,column:26}}}))?c:"")+'      <ul class="dropdown-menu">\n'+(null!=(c=i.if.call(d,null!=r[1]?r[1].actions:r[1],{name:"if",hash:{},fn:e.program(20,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:52,column:8},end:{line:63,column:15}}}))?c:"")+"\n"+(null!=(c=i.if.call(d,null!=r[1]?r[1].role_enabled:r[1],{name:"if",hash:{},fn:e.program(22,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:65,column:8},end:{line:73,column:15}}}))?c:"")+(null!=(c=i.if.call(d,null!=r[1]?r[1].actions:r[1],{name:"if",hash:{},fn:e.program(25,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:74,column:8},end:{line:94,column:15}}}))?c:"")+(null!=(c=a(n(75)).call(d,null!=t?t.edit_partial_participation:t,null!=t?t.view_partial_participation:t,{name:"nestedOr",hash:{},fn:e.program(30,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:95,column:8},end:{line:103,column:21}}}))?c:"")+(null!=(c=i.if.call(d,null!=r[1]?r[1].remove:r[1],{name:"if",hash:{},fn:e.program(33,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:104,column:8},end:{line:110,column:15}}}))?c:"")+"      </ul>\n    </div>\n  </div>\n</div>\n"},2:function(e,t,n,i,a){var o;return e.escapeExpression("function"==typeof(o=null!=(o=n.invite_status||(null!=t?t.invite_status:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"invite_status",hash:{},data:a,loc:{start:{line:2,column:68},end:{line:2,column:85}}}):o)},4:function(e,t,n,i,a){return" unavailable "},6:function(e,t,n,i,a){return'      <div class="attendee-desn">\n        <span>Registered</span>\n      </div>\n'},8:function(e,t,n,i,a){return'    <div class="attendee-desn font-red">\n      <span>Unregistered</span>\n    </div>\n'},10:function(e,t,n,i,a,o,l){var s;return null!=(s=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.meeting_host:t,{name:"if",hash:{},fn:e.program(11,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:23,column:6},end:{line:27,column:13}}}))?s:""},11:function(e,t,n,i,a,o,l){return'        <div class="attendee-desn">\n          '+e.escapeExpression(e.lambda(null!=l[1]?l[1].meeting_host_label:l[1],t))+"\n        </div>\n"},13:function(e,t,i,o,l,s,r){var c,u=null!=t?t:e.nullContext||{};return"      "+(null!=(c=a(n(5)).call(u,null!=t?t.mode_of_attendance:t,"in_person",{name:"compare_text",hash:{},fn:e.program(14,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:35,column:6},end:{line:35,column:126}}}))?c:"")+"\n      "+(null!=(c=a(n(5)).call(u,null!=t?t.mode_of_attendance:t,"virtual",{name:"compare_text",hash:{},fn:e.program(16,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:36,column:6},end:{line:36,column:122}}}))?c:"")+"\n"},14:function(e,t,n,i,a,o,l){return'<div class="status-label">'+e.escapeExpression(e.lambda(null!=l[1]?l[1].in_person_label:l[1],t))+"</div>"},16:function(e,t,n,i,a,o,l){return'<div class="status-label">'+e.escapeExpression(e.lambda(null!=l[1]?l[1].virtual_label:l[1],t))+"</div>"},18:function(e,t,n,i,a){return'        <a data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="cursor-pointer">\n          <i class="jif-more"></i>\n        </a>\n'},20:function(e,t,i,o,l,s,r){var c,u=null!=t?t:e.nullContext||{},d=e.hooks.helperMissing,m=e.escapeExpression;return'          <li>\n            <a href="javascript:void(0)" class="'+m("function"==typeof(c=null!=(c=i.Accept||(null!=t?t.Accept:t))?c:d)?c.call(u,{name:"Accept",hash:{},data:l,loc:{start:{line:54,column:48},end:{line:54,column:58}}}):c)+' attendee_accept" data-url="'+m("function"==typeof(c=null!=(c=i.accept_meeting_url||(null!=t?t.accept_meeting_url:t))?c:d)?c.call(u,{name:"accept_meeting_url",hash:{},data:l,loc:{start:{line:54,column:86},end:{line:54,column:108}}}):c)+'">\n              <label>'+m(e.lambda(null!=r[1]?r[1].accept_label:r[1],t))+'</label>\n            </a>\n          </li>\n          <li>\n            <a href="javascript:void(0)" class="'+m("function"==typeof(c=null!=(c=i.ReInvite||(null!=t?t.ReInvite:t))?c:d)?c.call(u,{name:"ReInvite",hash:{},data:l,loc:{start:{line:59,column:48},end:{line:59,column:60}}}):c)+' attendee_reinvite" data-url="'+m("function"==typeof(c=null!=(c=i.reinvite_url||(null!=t?t.reinvite_url:t))?c:d)?c.call(u,{name:"reinvite_url",hash:{},data:l,loc:{start:{line:59,column:90},end:{line:59,column:106}}}):c)+'">\n              <label>'+m(a(n(0)).call(u,"re_invite",{name:"t",hash:{},data:l,loc:{start:{line:60,column:21},end:{line:60,column:38}}}))+"</label>\n            </a>\n          </li>\n"},22:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.show_survey:t,{name:"if",hash:{},fn:e.program(23,a,0),inverse:e.noop,data:a,loc:{start:{line:66,column:10},end:{line:72,column:17}}}))?o:""},23:function(e,t,n,i,a){return'            <li>\n                <a href="javascript:void(0)" class="attendee_survey">\n                  <label>Survey</label>\n                </a>\n            </li>\n'},25:function(e,t,i,o,l,s,r){var c,u,d=null!=t?t:e.nullContext||{},m=e.hooks.helperMissing,f=e.escapeExpression;return'          <li>\n            <a href="javascript:void(0)" class="'+f("function"==typeof(u=null!=(u=i.Decline||(null!=t?t.Decline:t))?u:m)?u.call(d,{name:"Decline",hash:{},data:l,loc:{start:{line:76,column:48},end:{line:76,column:59}}}):u)+' attendee_decline" data-url="'+f("function"==typeof(u=null!=(u=i.decline_meeting_url||(null!=t?t.decline_meeting_url:t))?u:m)?u.call(d,{name:"decline_meeting_url",hash:{},data:l,loc:{start:{line:76,column:88},end:{line:76,column:111}}}):u)+'">\n              <label>'+f(e.lambda(null!=r[1]?r[1].decline_label:r[1],t))+"</label>\n            </a>\n          </li>\n"+(null!=(c=a(n(80)).call(d,null!=t?t.Transfer:t,{name:"keyExist",hash:{},fn:e.program(26,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:80,column:10},end:{line:86,column:23}}}))?c:"")+(null!=(c=a(n(80)).call(d,null!=t?t.Endorse:t,{name:"keyExist",hash:{},fn:e.program(28,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:87,column:10},end:{line:93,column:23}}}))?c:"")},26:function(e,t,n,i,a,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression;return'            <li>\n              <a href="javascript:void(0)" class="'+u("function"==typeof(s=null!=(s=n.Transfer||(null!=t?t.Transfer:t))?s:c)?s.call(r,{name:"Transfer",hash:{},data:a,loc:{start:{line:82,column:50},end:{line:82,column:62}}}):s)+' attendee_transfer" data-url="'+u("function"==typeof(s=null!=(s=n.transfer_meeting_url||(null!=t?t.transfer_meeting_url:t))?s:c)?s.call(r,{name:"transfer_meeting_url",hash:{},data:a,loc:{start:{line:82,column:92},end:{line:82,column:116}}}):s)+'">\n                <label>'+u(e.lambda(null!=l[1]?l[1].transfer_label:l[1],t))+"</label>\n              </a>\n            </li>\n"},28:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression;return'          <li>\n            <a href="javascript:void(0)" class="'+u("function"==typeof(s=null!=(s=i.Endorse||(null!=t?t.Endorse:t))?s:c)?s.call(r,{name:"Endorse",hash:{},data:l,loc:{start:{line:89,column:48},end:{line:89,column:59}}}):s)+' attendee_endorse" data-url="'+u("function"==typeof(s=null!=(s=i.endorse_url||(null!=t?t.endorse_url:t))?s:c)?s.call(r,{name:"endorse_url",hash:{},data:l,loc:{start:{line:89,column:88},end:{line:89,column:103}}}):s)+'">\n              <label>'+u(a(n(0)).call(r,"Endorse",{name:"t",hash:{},data:l,loc:{start:{line:90,column:21},end:{line:90,column:36}}}))+"</label>\n          </a>\n          </li>\n"},30:function(e,t,n,i,a,o,l){var s;return null!=(s=n.unless.call(null!=t?t:e.nullContext||{},null!=l[1]?l[1].isConsecutive:l[1],{name:"unless",hash:{},fn:e.program(31,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:96,column:10},end:{line:102,column:21}}}))?s:""},31:function(e,t,n,i,a){var o;return'            <li>\n              <a href="javascript:void(0)" class="attendee_participation" data-uuid="'+e.escapeExpression("function"==typeof(o=null!=(o=n.uuid||(null!=t?t.uuid:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"uuid",hash:{},data:a,loc:{start:{line:98,column:85},end:{line:98,column:93}}}):o)+'">\n                <label>Participation</label>\n              </a>\n            </li>\n'},33:function(e,t,n,i,a,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.escapeExpression;return'          <li>\n            <a href="javascript:void(0)" class="remove" '+(null!=(s=n.if.call(c,null!=l[1]?l[1].askConfirm:l[1],{name:"if",hash:{},fn:e.program(34,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:106,column:56},end:{line:106,column:97}}}))?s:"")+' data-uuid="'+u("function"==typeof(r=null!=(r=n.uuid||(null!=t?t.uuid:t))?r:e.hooks.helperMissing)?r.call(c,{name:"uuid",hash:{},data:a,loc:{start:{line:106,column:109},end:{line:106,column:117}}}):r)+'">\n              <label class="font-red">'+u(e.lambda(null!=l[1]?l[1].remove_label:l[1],t))+"</label>\n            </a>\n          </li>\n"},34:function(e,t,n,i,a){return" ask_confirm "},36:function(e,t,n,i,a,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.escapeExpression;return'  <div class="selected-attendee-item" data-uuid="'+d("function"==typeof(r=null!=(r=n.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:a,loc:{start:{line:117,column:49},end:{line:117,column:57}}}):r)+'" data-attendee_type="'+d(e.lambda(null!=l[1]?l[1].type:l[1],t))+'">\n    <div class="selected-attendee-pic">\n'+(null!=(s=n.if.call(c,null!=t?t.conflict:t,{name:"if",hash:{},fn:e.program(37,a,0,o,l),inverse:e.program(39,a,0,o,l),data:a,loc:{start:{line:119,column:6},end:{line:123,column:13}}}))?s:"")+'    </div>\n    <div class="selected-attedee-detail">\n      <div class="attendee-name">\n        '+d("function"==typeof(r=null!=(r=n.first_name||(null!=t?t.first_name:t))?r:u)?r.call(c,{name:"first_name",hash:{},data:a,loc:{start:{line:127,column:8},end:{line:127,column:22}}}):r)+" "+d("function"==typeof(r=null!=(r=n.last_name||(null!=t?t.last_name:t))?r:u)?r.call(c,{name:"last_name",hash:{},data:a,loc:{start:{line:127,column:23},end:{line:127,column:36}}}):r)+'\n      </div>\n    </div>\n    <div class="attendee-desn">\n      <span class="waitlist">\n        Waitlist '+(null!=(s=n.if.call(c,null!=t?t.waitlist_sequence:t,{name:"if",hash:{},fn:e.program(41,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:132,column:17},end:{line:132,column:71}}}))?s:"")+'\n      </span>\n    </div>\n    <div class="action">\n'+(null!=(s=n.if.call(c,null!=l[1]?l[1].remove:l[1],{name:"if",hash:{},fn:e.program(43,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:136,column:6},end:{line:149,column:13}}}))?s:"")+"    </div>\n  </div>\n"},37:function(e,t,n,i,a){return'        <span class="user-status conflict"><i class="jif-error jif-yellow"></i></span>\n'},39:function(e,t,n,i,a){return'        <span class="user-status wait"><i class="jif-iris-time-wait jif-yellow"></i></span>\n'},41:function(e,t,n,i,a){var o;return"#"+e.escapeExpression("function"==typeof(o=null!=(o=n.waitlist_sequence||(null!=t?t.waitlist_sequence:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"waitlist_sequence",hash:{},data:a,loc:{start:{line:132,column:43},end:{line:132,column:64}}}):o)},43:function(e,t,n,i,a,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.escapeExpression;return'        <div class="dropdown pull-right">\n          <a data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="cursor-pointer">\n            <i class="jif-more"></i>\n          </a>\n          <ul class="dropdown-menu">\n              <li>\n                <a href="javascript:void(0)" class="remove" '+(null!=(s=n.if.call(c,null!=l[1]?l[1].askConfirm:l[1],{name:"if",hash:{},fn:e.program(34,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:143,column:60},end:{line:143,column:101}}}))?s:"")+' data-uuid="'+u("function"==typeof(r=null!=(r=n.uuid||(null!=t?t.uuid:t))?r:e.hooks.helperMissing)?r.call(c,{name:"uuid",hash:{},data:a,loc:{start:{line:143,column:113},end:{line:143,column:121}}}):r)+'">\n                  <label class="font-12">'+u(e.lambda(null!=l[1]?l[1].remove_label:l[1],t))+"</label>\n                </a>\n              </li>\n          </ul>\n        </div>\n"},45:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return'<div class="attendee-empty-state '+r("function"==typeof(o=null!=(o=n.type||(null!=t?t.type:t))?o:s)?o.call(l,{name:"type",hash:{},data:a,loc:{start:{line:154,column:33},end:{line:154,column:41}}}):o)+'">\n  <div class="empty-img">\n    <div class="empty-user-svg"></div>  \n  </div>\n  <div class="empty-txt">\n    <div>No attendees available</div>\n    <div>Add new users or map users to this meeting type and topic</div>\n    <a href="javascript:void(0)" class="add-participant"><i class="jif-plus-circle-o"></i> '+r("function"==typeof(o=null!=(o=n.empty_text||(null!=t?t.empty_text:t))?o:s)?o.call(l,{name:"empty_text",hash:{},data:a,loc:{start:{line:161,column:91},end:{line:161,column:105}}}):o)+"</a>\n  </div>\n</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,o,l){var s,r=null!=t?t:e.nullContext||{};return(null!=(s=n.each.call(r,null!=t?t.users:t,{name:"each",hash:{},fn:e.program(1,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:115,column:9}}}))?s:"")+(null!=(s=n.each.call(r,null!=t?t.waitlistAttendees:t,{name:"each",hash:{},fn:e.program(36,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:116,column:0},end:{line:152,column:9}}}))?s:"")+(null!=(s=n.if.call(r,null!=t?t.show_empty_state:t,{name:"if",hash:{},fn:e.program(45,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:153,column:0},end:{line:164,column:7}}}))?s:"")},useData:!0,useDepths:!0})},function(e,t){e.exports=function(e,t){return null==e?t.inverse(this):t.fn(this)}},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o;return"\t\t<div>\n"+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.showRescheduleTimeOption:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:5,column:4},end:{line:9,column:11}}}))?o:"")+"\t\t</div>\n"},2:function(e,t,i,o,l){return"\t\t\t  <a href=\"javascript:void(0)\" class='go-to-main'>"+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"reschedule",{name:"t",hash:{},data:l,loc:{start:{line:6,column:53},end:{line:6,column:72}}}))+"</a>\n"},4:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.showChangeTimeOption:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a,loc:{start:{line:7,column:4},end:{line:9,column:4}}}))?o:""},5:function(e,t,i,o,l){return"\t\t\t  <a href=\"javascript:void(0)\" class='go-to-main'>"+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"change_time",{name:"t",hash:{},data:l,loc:{start:{line:8,column:53},end:{line:8,column:72}}}))+"</a>\n\t\t  "},7:function(e,t,n,i,a){var o;return'\t\t\t\t<a href="javascript:void(0)" class=\'go-to-main\'>\n\t\t\t\t\t<span class="break-word">'+e.escapeExpression("function"==typeof(o=null!=(o=n.event_date||(null!=t?t.event_date:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"event_date",hash:{},data:a,loc:{start:{line:18,column:30},end:{line:18,column:44}}}):o)+"</span>\n\t\t\t\t</a>\n"},9:function(e,t,n,i,a){var o;return'\t\t\t\t<span class="break-word">'+e.escapeExpression("function"==typeof(o=null!=(o=n.event_date||(null!=t?t.event_date:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"event_date",hash:{},data:a,loc:{start:{line:21,column:29},end:{line:21,column:43}}}):o)+"</span>\n"},11:function(e,t,n,i,a){var o;return'\t\t\t\t<div class="blue meeting-break">+ '+e.escapeExpression("function"==typeof(o=null!=(o=n.break_duration||(null!=t?t.break_duration:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"break_duration",hash:{},data:a,loc:{start:{line:24,column:38},end:{line:24,column:56}}}):o)+" min Break</div>\n"},13:function(e,t,n,i,a){var o,l=e.lambda,s=e.escapeExpression;return'\t<div class="reference-time">Reference Timezone</div>\n\t<div class="selected-content-time">\n\t\t<div class="date-time">\n\t\t\t<div>'+s(l(null!=(o=null!=t?t.secondaryTimezoneInfo:t)?o.date:o,t))+" "+s(l(null!=(o=null!=t?t.secondaryTimezoneInfo:t)?o.start:o,t))+" - </div>\n\t\t\t<div>"+s(l(null!=(o=null!=t?t.secondaryTimezoneInfo:t)?o.end_date:o,t))+" "+s(l(null!=(o=null!=t?t.secondaryTimezoneInfo:t)?o.end:o,t))+'</div>\n\t\t</div>\n\t\t<div class="time-zone">\n\t\t\t<span title="'+s(l(null!=(o=null!=t?t.secondaryTimezoneInfo:t)?o.timezone:o,t))+'">'+s(l(null!=(o=null!=t?t.secondaryTimezoneInfo:t)?o.timezone:o,t))+"</span>\n\t\t</div>\n\t</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.escapeExpression,d=e.hooks.helperMissing;return'<div class="selected-title">\n  <div class="selected-title-left"><i class="jif-iris-calendar jif-16"></i> '+u(a(n(0)).call(c,"selected_time",{name:"t",hash:{},data:l,loc:{start:{line:2,column:76},end:{line:2,column:97}}}))+"</div> \n"+(null!=(s=i.unless.call(c,null!=t?t.hideTimeChange:t,{name:"unless",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:3,column:2},end:{line:11,column:12}}}))?s:"")+'</div>\n<div class="selected-content">\n\t<div class="selected-content-time">\n\t\t<div class="date-time">\n'+(null!=(s=i.if.call(c,null!=t?t.showGotoMainOptionFromDetails:t,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.program(9,l,0),data:l,loc:{start:{line:16,column:3},end:{line:22,column:10}}}))?s:"")+(null!=(s=i.if.call(c,null!=t?t.break_duration:t,{name:"if",hash:{},fn:e.program(11,l,0),inverse:e.noop,data:l,loc:{start:{line:23,column:3},end:{line:25,column:10}}}))?s:"")+'\t\t</div>\n\t\t<div class="time-zone">\n\t\t\t<span title="'+u("function"==typeof(r=null!=(r=i.meeting_time_zone||(null!=t?t.meeting_time_zone:t))?r:d)?r.call(c,{name:"meeting_time_zone",hash:{},data:l,loc:{start:{line:28,column:16},end:{line:28,column:37}}}):r)+'">'+u("function"==typeof(r=null!=(r=i.meeting_time_zone||(null!=t?t.meeting_time_zone:t))?r:d)?r.call(c,{name:"meeting_time_zone",hash:{},data:l,loc:{start:{line:28,column:39},end:{line:28,column:60}}}):r)+"</span>\n\t\t</div>\n\t</div>\n\t\n"+(null!=(s=i.if.call(c,null!=t?t.secondaryTimezoneInfo:t,{name:"if",hash:{},fn:e.program(13,l,0),inverse:e.noop,data:l,loc:{start:{line:32,column:1},end:{line:43,column:8}}}))?s:"")+"</div>\n"},useData:!0})},function(e,t){var n=Reflux.createActions(["fetchMeetings","fetchFields","searchMeetings","fetchCopyAttendeeMeetings","fetchMeetingAttendees"]);e.exports=n},,function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(15),s={getUserEntities:function(e,t){var n=this,i={userPreferences:{},partialParticipation:{}};if(_.isEmpty(e.event))var s=l.convertServerDateTimeToDate(t);else s=l.jsDateToDateFormat(e.event.start_date);var r=!1,c="";if(!_.isEmpty(e.selectedVcon)){var u=e.selectedVcon,d=u.alternate_host_enabled,m=u.integration_name;r=!!d,c=m}return _.forEach(e.internal,function(e){i.userPreferences[e.uuid]={meeting_host:e.meeting_host,pre_endorse:e.pre_endorse},r&&(i.userPreferences[e.uuid]=a(a({},i.userPreferences[e.uuid]),{},o({},c,{alternate_host:!!e.alternate_host}))),meetingInfo.request.mode_of_attendance_enabled&&(i.userPreferences[e.uuid]=a(a({},i.userPreferences[e.uuid]),{},{mode_of_attendance:e.mode_of_attendance||meetingInfo.request.default_mode_of_attendance})),e.partial_start_time&&e.partial_end_time&&(i.partialParticipation[e.uuid]={partial_start_time:s+" "+e.partial_start_time,partial_end_time:s+" "+e.partial_end_time})}),_.forEach(e.external,function(e){i.userPreferences[e.uuid]={send_ics:e.send_ics,meta_info:n.getUserMetaInfo(e)},meetingInfo.request.mode_of_attendance_enabled&&(i.userPreferences[e.uuid]=a(a({},i.userPreferences[e.uuid]),{},{mode_of_attendance:e.mode_of_attendance||meetingInfo.request.default_mode_of_attendance}))}),i},getUserMetaInfo:function(e){return"undefined"!=typeof jiffle&&e.Id?o({},window.isLeadsMeeting?"sfdc_lead_id":"sfdc_contact_id",e.Id):e.meta_info?e.meta_info:{}}};e.exports=s},function(e,t,n){var i=n(3),a=function(){var e,t,a,o,l,s,r,c,u,d,m=/\((.{3}[+|-]\d{2}[:]\d{2})\)/,f=n(36),h=!0,p=!1,g=!0,v=!1,y=window.envDetails,b={getCityTimeZoneSuccess:I,getCityTimeZoneFailure:function(e){}};function w(){return p?"string"==typeof u?$(u):u:"string"==typeof e?$(e):e}function M(){return!!w().length}function x(e){a.setTimeZone(e,"primaryTimeZone")}function C(){var e,t,n;q(moment.tz.guess(),"secondaryTimeZone"),e=(new Date).toString(),j(n=function(e){return e.substring(0,6).concat(":").concat(e.substring(6,8))}(n=e.match(/.{3}[+|-]\d{4}/)[0])),N(n,"secondaryTimeZone"),R(t=e.match(/\((.*)\)/)[1],"secondaryTimeZone"),A(t)}function D(e){var t,n,i=e.timeZoneCity,o=e.timeZoneDisplayName;t=e,n="secondaryTimeZone",h&&a.setTimeZone(t,n),A(i),j(o),k()&&S()}function k(){return!!(Array.isArray(window.mapping_enabled_activities)?window.mapping_enabled_activities:[]).filter(function(e){return e.uuid===window.selectedActivityUuid}).length}function S(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];w().prop("disabled",e)}function A(e){var t=w(),n={width:"100%",allowClear:!1,placeholder:i18n.t("change_time_zone"),multiple:!1,minimumInputLength:3,dropdownCssClass:"select2-dropdown-sm iris-select2-dropdown",language:{inputTooShort:function(){return i18n.t("timezone_selection_placeholder")}}};n.ajax=T(),t.html(new window.Option("","")),e&&t.append(new window.Option(e,e)),t.select2(n).val(e).trigger("change"),t.on("select2:select",E)}function T(){return{delay:700,data:function(e){return(e.term||"").trim()},processResults:function(e){var t=[];return e&&e.predictions&&Array.isArray(e.predictions)&&(t=e.predictions.map(function(e){return{id:e.place_id,text:e.description}})),t.length||(t=y.railsTimeZoneList.slice()).unshift({id:i18n.t("city_not_found"),text:i18n.t("city_not_found"),disabled:!0}),{results:t}},transport:function(e,t,n){var a={places:e.data,token:y.token},o=i.fetch({url:i.ENDPOINTS.google_city_search,data:a});return o.then(function(e){return t(e)}),o[o.fail?"fail":"catch"](function(e){return t()}),o}}}function E(e){var t=e.params.data,n=t.id,i=t.text,a=t.timezone_id,l=(p="primary-timezone"===$(this).data("type"))?"primaryTimeZone":"secondaryTimeZone",s=o&&o.getCalendarStartDate()?new Date(o.getCalendarStartDate().getTime()+864e5):new Date(window.envDetails.event.start_date);try{R(i,l),""===n&&r&&q("",l),a?I({time_zone_full_name:n,time_zone_id:a,time_zone_name:i,isElePrimaryTimeZone:p}):f.getCityTimeZone({id:n,selectionDate:s,isElePrimaryTimeZone:p},"getCityTimeZoneSuccess","getCityTimeZoneFailure")}catch(e){q(n,l),P(i,l),function(e,t){var n=(i=e,i&&i.replace(i.match(m)[0],""));var i;a=n,$(p?d:c).text(a),R(n,t);var a}(i,l),O(n)}}function I(t){var n=t.time_zone_id,i=t.time_zone_name,a=t.time_zone_full_name,o=t.isElePrimaryTimeZone||!1,l=o?"primaryTimeZone":"secondaryTimeZone",s=o?d:e;s="string"==typeof s?$(s):s,F(t,o),P(i,l),q(n,l),O({timeZoneId:n,timeZoneFullName:a,isElePrimaryTimeZone:o,cityName:"".concat(U(i),", ").concat(a,", (").concat(s.find("option:selected").text(),")")})}function O(e){e.isElePrimaryTimeZone?"function"==typeof s&&s(e):"function"==typeof l&&l(e)}function P(e,t){var n=U(e);j(n),N(n,t)}function j(e){r?function(e){if($("#timeZoneInfo").remove(),e){var t=(l=(o=e).match(/[+|-]/)[0],s=o.indexOf(l),r=o.substring(0,s).trim(),c=o.substring(s+1,o.length).trim(),{gmtStr:r,sign:l,timeStr:c}),i=n(104),a=i(t);$(a).insertAfter('[data-id="external_widget_time_zone_city"]')}var o,l,s,r,c}(e):function(e){t.text(e).removeClass("hide")}(e)}function q(e,t){h&&a.setTimeZoneId(e,t)}function R(e,t){h&&a.setTimeZoneCity(e,t)}function N(e,t){h&&a.setTimeZoneDisplayName(e,t)}function F(e,t){if(!_.isEmpty(e)){var n=t||!1,i=n?".primary-timezone":".secondary-timezone",a=n?d:c,o=$(a).prop("title"),l="string"==typeof e?e:"".concat(U(e.time_zone_name),", ").concat(e.time_zone_full_name,", (").concat(o,")");$(a).text(l),$(a).prop("title",l),$(a).attr("data-original-title",l),window.mode&&v&&($(i).text(l),$(i).prop("title",l),$(i).attr("data-original-title",l))}}function U(e){return e&&e.match(m)[1]}return{init:function(n){!function(n){e=n.timeZoneCityField,o=n.CalendarAvailabilityStore,f=n.Actions||f,a=n.Store,l=n.timeZoneChangeCallback,s=n.primaryTimeZoneChangeCallback,r=n.isExternalWidget,p=n.isElePrimaryTimeZone,t=n.displayTimeZoneField,c=n.timeZoneCityContainer,h=n.shouldUpdateTimezoneInStore,u=n.primaryTimeZoneCityField,d=n.primaryTimeZoneCityContainer,v=n.bmPage}(n),g&&(a.listen(function(e){var t=b[e.type];"function"==typeof t&&t(e.data)}),g=!1)},disableTimeZoneField:function(){var e;!0===M()&&(S(),(e=w()).select2&&e.select2("val",null),e.off("select2:select",E))},setTimeZoneField:function(){!0===M()&&(r?(S(!1),C()):function(){var e,t,n,i=meetingInfo.request;if(i&&i.meeting_time_zone&&i.meeting_time_zone_city){var a=i.meeting_time_zone,o=i.meeting_time_zone_city,l=i.meeting_time_zone_offset;D({timeZoneId:a,timeZoneCity:o,timeZoneDisplayName:l})}else if(!0===k())e=y.event,t=e.time_zone,n=e.time_zone_display_name,q(t,"secondaryTimeZone"),R(n,"secondaryTimeZone"),A(n),S();else if(window.isVirtualEvent){var s=window.envDetails.event,r=s.time_zone,c=s.time_zone_display_name,u=s.timezone_gmt_offset;D({timeZoneId:r,timeZoneCity:c,timeZoneDisplayName:u})}else C()}())},setupTimeZoneField:A,setTimeZoneDisplayNameOnUI:j,setViewInTimeZoneField:function(e,t){var n=e.timezone||e;n&&t.setViewInTimezoneInfo(n,"timezone"),A(n&&n.cityName||"Timezone");var i=e.isElePrimaryTimeZone;F(n.cityName,i)},updateStoreWithDefaultEventTimezone:function(e){var t=window.envDetails.event,n=t.time_zone,i=t.time_zone_display_name,a=t.timezone_gmt_offset;e.setTimeZone({timeZoneId:n,timeZoneCity:i,timeZoneDisplayName:a},"secondaryTimeZone")},toggleDisplayTimeZoneFormField:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];!0===M()&&(w().closest(".form-group")[e?"removeClass":"addClass"]("hide"),!e&&$("#timeZoneInfo").remove())},remoteOptions:T,cityChangeHandler:E,setPrimaryTimeZoneField:function(e,t){var n=e,i=n.isElePrimaryTimeZone;A(n&&n.timezone_city||"Timezone"),x({timeZoneId:e.time_zone_id,timeZoneCity:e.timezone_city,timeZoneDisplayName:e.timezone_gmt_offset}),F(n,i)}}}();e.exports=a},function(e,t,n){var i=n(68),a=n(107),o=function(){var e=null,t=["internal"],o="add_user_form",l={},s={fetchUserFormFields:function(t){d(t.standardFields,c),d(t.customFields,u),"function"==typeof e&&e({formRenderers:l,sfdcDefaults:t.sfdcDefaults||{}})},addUserModeOfAttendanceField:function(e){var t=e.data.apiResponse;t.enable_mode_of_attendance&&$(".moa-field").removeClass("hide"),$(".mode_of_attendance_label").text(t.mode_of_attendance_label),$(".moa-field .sub-label").text("Change in mode of attendance applies to future meetings only and not to the existing meeting"),$("select[name=mode_of_attendance]").select2({allowClear:!0,width:"100%",placeholder:"Select One",data:[{id:"in_person",text:t.in_person_label},{id:"virtual",text:t.virtual_label}]}),""===t.mode_of_attendance?$("select[name=mode_of_attendance]").select2("val",null):$("select[name=mode_of_attendance]").select2("val",t.mode_of_attendance)}},r={add_attendee_form:n(109),add_user_form:n(110),edit_user_form:n(111),user_register_form:n(113)};function c(e,t){var n=e[t],a={};n.forEach(function(e){a[e.field_name]=e});var l=r[o];$("#"+t+"PrimaryFields").html(l({formLabels:a,userDetails:envDetails.user||{}}));var s=$(".consecutive-meetings").length||$(".session-page-container").length;envDetails.virtual_event&&!s&&(envDetails.user?i.fetchModeOfAttendanceWithUser("addUserModeOfAttendanceField",envDetails.user.uuid):i.fetchModeOfAttendance("addUserModeOfAttendanceField"))}function u(e,t){var n=e[t+"_custom_form"],i=$("#"+t+"AdditionalFormFields").formRenderer({fieldCollection:n});i.init(),l[t]=i}function d(e,n){t.forEach(function(t){n(e,t)})}return{init:function(n){t="string"==typeof n.type?[n.type]:["internal","external"],n.isNewUser,e=n.callback,o=n.templateName,a.listen(function(e){var t=s[e.type];"function"==typeof t&&t(e)}),i.fetchUserFormRule("fetchUserFormFields")}}}();e.exports=o},function(e,t){e.exports=function(){var e=_.values(arguments),t=_.last(arguments),n=e.length-1,i=e.slice(0,n),a=_.isEqual(_.times(n,_.constant(!0)),i);return a?t.fn(this):t.inverse(this)}},function(e,t,n){var i=n(10),a=n(78),o=n(8),l=window.envDetails.isConsecutiveMeeting,s=$(".notification-modal"),r=window.ReactMessage||$(".notification-modal"),c=n(3),u=n(119),d={isEmailNotification:function(e,t){var n=(e&&e.invite_status||"").toLowerCase(),i=window.meetingInfo&&window.meetingInfo.request&&window.meetingInfo.request.status||"";return i=i.toLowerCase(),!1!==t.enabled&&!("accepted"===n&&"approved"===i)},isDeclineCommentEnabled:function(e){var t=window.meetingInfo&&window.meetingInfo.request,n=t.invite_options,i=t.users.external,a=!1,o=!1;return i=i.map(function(e){return e.uuid}),n&&("yes"===n.decline_comments_enabled&&(a=!0),window.envDetails.isConsecutiveMeeting&&n.show_options_for_external&&e&&-1!==i.indexOf(e)&&(a=o="yes"===n.show_options_for_external)),{enabled:a,showOnlyOthers:o}},cancelMeeting:function(e){var t=e.callback,n=e.cancelAll,o=void 0!==n&&n,r=l?i.currMeetingInProgress:window.meetingInfo&&window.meetingInfo.request,c=(r=r||{}).cancel_options,u=(c=void 0===c?{}:c).cancel_comments_enabled,d=c.predefined_cancel_comments,m=void 0===d?[]:d,f=c.cancel_comments_enabled_cm,h=o&&"yes"===f,p=h?[]:m;h||"yes"===u?a.show({comments:p,callback:t,type:"cancel"}):s.notificationModal({type:"confirmation",title:i18n.t("cancel_meeting_title"),body:i18n.t("cancel_meeting_confirmation"),class:"blue",done:function(){return t()}})},gotoBriefing:function(){var e=window.meetingInfo.request.briefing_uuid||window.briefing_uuid;if(void 0!==e){if("undefined"!=typeof jiffle)eventName=c.getQueryUrlParams(window.location.search).eventName,newUrl="/apex/JNBriefings?eventName=".concat(eventName,"&current_location_uuid=").concat(envDetails.current_location_uuid,"&SFDCbriefingId=").concat(e),newUrl=c.updateURI(newUrl);else{var t=document.getElementsByTagName("base")[0].href,n=c.ENDPOINTS.list_briefings_agenda.replace("{QUERY_PARAMS}","?current_location_uuid=".concat(envDetails.current_location_uuid));newUrl="".concat(t).concat(n,"/").concat(e)}window.commons.redirectPage(newUrl)}},locationProposalCallback:function(e){r.notificationModal({timeout:!0,class:"green",title:i18n.t("success"),body:e.message,dismiss:function(){return window.location.reload()}})},declineProposal:function(){event.preventDefault(),u.show({title:i18n.t("reject_location_preference_title"),proceed:i18n.t("Submit"),cancel:i18n.t("CANCEL"),successCallback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";o.rejectLocationPreferenceProposal({reject_reason:e},"locationProposalCallback")}})},removeProposal:function(e){e.preventDefault(),s.notificationModal({class:"blue",type:"confirmation",body:i18n.t("remove_location_preference_title"),title:i18n.t("confirmation_title"),cancelBtnText:i18n.t("proceed_in_notification"),doneBtnText:i18n.t("cancel_in_notification"),cancel:function(){return o.deleteLocationPreferenceProposal("locationProposalCallback")}})}};e.exports=d},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,n,i,a,o,l){var s,r=null!=t?t:e.nullContext||{};return(null!=(s=n.if.call(r,null!=t?t.show_mapped_header:t,{name:"if",hash:{},fn:e.program(2,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:2,column:2},end:{line:8,column:9}}}))?s:"")+(null!=(s=n.each.call(r,null!=t?t.mapped_rooms:t,{name:"each",hash:{},fn:e.program(7,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:9,column:2},end:{line:25,column:11}}}))?s:"")+(null!=(s=n.if.call(r,null!=t?t.show_unmapped_header:t,{name:"if",hash:{},fn:e.program(16,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:26,column:2},end:{line:32,column:9}}}))?s:"")+(null!=(s=n.each.call(r,null!=t?t.unmapped_rooms:t,{name:"each",hash:{},fn:e.program(21,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:33,column:2},end:{line:49,column:11}}}))?s:"")+(null!=(s=n.if.call(r,null!=t?t.showRoomAssignMessage:t,{name:"if",hash:{},fn:e.program(23,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:50,column:2},end:{line:55,column:9}}}))?s:"")},2:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isStaffEvent:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.program(5,a,0),data:a,loc:{start:{line:3,column:4},end:{line:7,column:11}}}))?o:""},3:function(e,t,i,o,l){return'      <div class="mapped-rooms-header grouper"><div>'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"mapped_rooms_tags_header",{name:"t",hash:{},data:l,loc:{start:{line:4,column:52},end:{line:4,column:84}}}))+"</div></div>\n"},5:function(e,t,i,o,l){return'      <div class="mapped-rooms-header grouper"><div>'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"mapped_rooms_header",{name:"t",hash:{},data:l,loc:{start:{line:6,column:52},end:{line:6,column:79}}}))+"</div></div>\n"},7:function(e,t,n,i,a,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.escapeExpression;return'    <div class="room-select-item room-item select-room-btn '+d("function"==typeof(r=null!=(r=n.hide||(null!=t?t.hide:t))?r:u)?r.call(c,{name:"hide",hash:{},data:a,loc:{start:{line:10,column:59},end:{line:10,column:67}}}):r)+" "+(null!=(s=n.if.call(c,null!=l[1]?l[1].showRoomAssignMessage:l[1],{name:"if",hash:{},fn:e.program(8,a,0,o,l),inverse:e.program(10,a,0,o,l),data:a,loc:{start:{line:10,column:68},end:{line:10,column:141}}}))?s:"")+'" data-uuid="'+d("function"==typeof(r=null!=(r=n.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:a,loc:{start:{line:10,column:154},end:{line:10,column:162}}}):r)+'">\n      <div class="room-detail" data-uuid="'+d("function"==typeof(r=null!=(r=n.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:a,loc:{start:{line:11,column:42},end:{line:11,column:50}}}):r)+'">\n        <div class="room-name">\n            <span>'+d("function"==typeof(r=null!=(r=n.name||(null!=t?t.name:t))?r:u)?r.call(c,{name:"name",hash:{},data:a,loc:{start:{line:13,column:18},end:{line:13,column:26}}}):r)+'</span>\n        </div>\n        <div class="room-detail-cont">\n'+(null!=(s=n.unless.call(c,null!=t?t.hideCapacity:t,{name:"unless",hash:{},fn:e.program(12,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:16,column:10},end:{line:18,column:21}}}))?s:"")+(null!=(s=n.if.call(c,null!=t?t.mm_only:t,{name:"if",hash:{},fn:e.program(14,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:19,column:10},end:{line:21,column:17}}}))?s:"")+"        </div>\n      </div>\n    </div>\n"},8:function(e,t,n,i,a){return"disabled-room"},10:function(e,t,n,i,a){return"js_check_room"},12:function(e,t,i,o,l){return'            <span class="room-capacity">'+e.escapeExpression(a(n(20)).call(null!=t?t:e.nullContext||{},t,{name:"tr",hash:{count:null!=t?t.capacity:t,key:"room_capacity"},data:l,loc:{start:{line:17,column:40},end:{line:17,column:86}}}))+"</span>\n"},14:function(e,t,i,o,l){return'            <span class="room-status">'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"mm_only",{name:"t",hash:{},data:l,loc:{start:{line:20,column:38},end:{line:20,column:53}}}))+"</span>\n"},16:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.isStaffEvent:t,{name:"if",hash:{},fn:e.program(17,a,0),inverse:e.program(19,a,0),data:a,loc:{start:{line:27,column:4},end:{line:31,column:11}}}))?o:""},17:function(e,t,i,o,l){return'      <div class="unmapped-rooms-header grouper"><div>'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"unmapped_rooms_tags_header",{name:"t",hash:{},data:l,loc:{start:{line:28,column:54},end:{line:28,column:88}}}))+"</div></div>\n"},19:function(e,t,i,o,l){return'      <div class="unmapped-rooms-header grouper"><div>'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"unmapped_rooms_header",{name:"t",hash:{},data:l,loc:{start:{line:30,column:54},end:{line:30,column:83}}}))+"</div></div>\n"},21:function(e,t,n,i,a,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.escapeExpression;return'    <div class="room-select-item room-item select-room-btn '+d("function"==typeof(r=null!=(r=n.hide||(null!=t?t.hide:t))?r:u)?r.call(c,{name:"hide",hash:{},data:a,loc:{start:{line:34,column:59},end:{line:34,column:67}}}):r)+" "+(null!=(s=n.if.call(c,null!=l[1]?l[1].showRoomAssignMessage:l[1],{name:"if",hash:{},fn:e.program(8,a,0,o,l),inverse:e.program(10,a,0,o,l),data:a,loc:{start:{line:34,column:68},end:{line:34,column:141}}}))?s:"")+'" data-uuid="'+d("function"==typeof(r=null!=(r=n.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:a,loc:{start:{line:34,column:154},end:{line:34,column:162}}}):r)+'">\n      <div class="room-detail" data-uuid="'+d("function"==typeof(r=null!=(r=n.uuid||(null!=t?t.uuid:t))?r:u)?r.call(c,{name:"uuid",hash:{},data:a,loc:{start:{line:35,column:42},end:{line:35,column:50}}}):r)+'">\n        <div class="room-name">\n          <span>'+d("function"==typeof(r=null!=(r=n.name||(null!=t?t.name:t))?r:u)?r.call(c,{name:"name",hash:{},data:a,loc:{start:{line:37,column:16},end:{line:37,column:24}}}):r)+'</span>\n        </div>\n        <div class="room-detail-cont">\n'+(null!=(s=n.unless.call(c,null!=t?t.hideCapacity:t,{name:"unless",hash:{},fn:e.program(12,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:40,column:10},end:{line:42,column:21}}}))?s:"")+(null!=(s=n.if.call(c,null!=t?t.mm_only:t,{name:"if",hash:{},fn:e.program(14,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:43,column:10},end:{line:45,column:17}}}))?s:"")+"        </div>\n      </div>\n    </div>\n"},23:function(e,t,n,i,a){var o;return'    <div class="room-empty-state">\n      <div class="room-empty-state-icon"></div>\n      <span>'+e.escapeExpression("function"==typeof(o=null!=(o=n.roomAssignMessage||(null!=t?t.roomAssignMessage:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"roomAssignMessage",hash:{},data:a,loc:{start:{line:53,column:12},end:{line:53,column:33}}}):o)+"</span>\n    </div>\n"},25:function(e,t,n,i,a){var o;return'  <div class="room-empty-state">\n    <div class="room-empty-state-icon"></div>\n    <span>\n'+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.showRoomAssignMessage:t,{name:"if",hash:{},fn:e.program(26,a,0),inverse:e.program(28,a,0),data:a,loc:{start:{line:60,column:6},end:{line:64,column:13}}}))?o:"")+"    </span>\n  </div>\n"},26:function(e,t,n,i,a){var o;return"        "+e.escapeExpression("function"==typeof(o=null!=(o=n.roomAssignMessage||(null!=t?t.roomAssignMessage:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"roomAssignMessage",hash:{},data:a,loc:{start:{line:61,column:8},end:{line:61,column:29}}}):o)+"\n"},28:function(e,t,i,o,l){return"        "+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"no_rooms_available",{name:"t",hash:{},data:l,loc:{start:{line:63,column:8},end:{line:63,column:34}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,o,l){var s;return null!=(s=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.hasRooms:t,{name:"if",hash:{},fn:e.program(1,a,0,o,l),inverse:e.program(25,a,0,o,l),data:a,loc:{start:{line:1,column:0},end:{line:67,column:7}}}))?s:""},useData:!0,useDepths:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,n,i,a){return" cursor-pointer remove-selected-room "},3:function(e,t,n,i,a){return"disabled-room"},5:function(e,t,i,o,l){return'        <span class="room-capacity">'+e.escapeExpression(a(n(20)).call(null!=t?t:e.nullContext||{},t,{name:"tr",hash:{count:null!=t?t.capacity:t,key:"room_capacity"},data:l,loc:{start:{line:11,column:36},end:{line:11,column:82}}}))+"</span>\n"},7:function(e,t,i,o,l){return'        <span class="room-status">'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"mm_only",{name:"t",hash:{},data:l,loc:{start:{line:14,column:34},end:{line:14,column:49}}}))+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression;return'<div class="room-item room-selected active '+(null!=(o=n.unless.call(s,null!=t?t.read_only:t,{name:"unless",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:1,column:43},end:{line:1,column:133}}}))?o:"")+'" data-uuid="'+c("function"==typeof(l=null!=(l=n.uuid||(null!=t?t.uuid:t))?l:r)?l.call(s,{name:"uuid",hash:{},data:a,loc:{start:{line:1,column:146},end:{line:1,column:154}}}):l)+'">\n  <div class="room-selected-icon">\n    <i class="jif-check"></i>\n  </div>\n  <div class="room-detail">\n    <div class="room-name">\n        <span title="'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:r)?l.call(s,{name:"name",hash:{},data:a,loc:{start:{line:7,column:21},end:{line:7,column:29}}}):l)+'">'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:r)?l.call(s,{name:"name",hash:{},data:a,loc:{start:{line:7,column:31},end:{line:7,column:39}}}):l)+'</span>\n    </div>\n    <div class="room-detail-cont">\n'+(null!=(o=n.unless.call(s,null!=t?t.hideCapacity:t,{name:"unless",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a,loc:{start:{line:10,column:6},end:{line:12,column:17}}}))?o:"")+(null!=(o=n.if.call(s,null!=t?t.mm_only:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a,loc:{start:{line:13,column:6},end:{line:15,column:13}}}))?o:"")+"    </div>\n  </div>\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var i,a,o,l,s,r,c,u=n(31),d=(i=$("#account-opportunity"),a=$(".notification-modal"),o=$("#meeting-request-container"),l=$(".js-meeting-with"),s=$("#req_page_meeting_with",o),r=$("a","li#meetingWithInfo"),c={showErrors:function(e){var e=_.flatten(_.values(e));a.notificationModal({class:"red",timeout:!0,title:i18n.t("lead_error_title"),body:e.join(", ")})}},{init:function(){"undefined"!=typeof jiffle&&(window.currentMeetingInfo=envDetails.isBookSession?window.nominationInfo:window.meetingInfo,envDetails.isConsecutiveMeeting||(i.parent().addClass("hide"),l.parent().removeClass().addClass("col-xs-4"),l.parent().next().removeClass().addClass("col-xs-4"),l.closest(".row").parent().removeClass().addClass("col-xs-12")),u.listen(function(e){var t=c[e.type];t&&t(e.data)}),"new"===mode&&!unescape(unescape($.urlParam("meeting_with")))&&window.currentMeetingInfo.request.users&&window.currentMeetingInfo.request.users.external.length>0&&function(e){if(1==e.length)s.val(e[0].company_name).trigger("change"),r.text(e[0].company_name);else{var t=[];_.forEach(e,function(e,n){t.push(e.company_name)}),_.uniq(t).length>1?(s.val("").trigger("change"),r.text("")):(s.val(t[0]).trigger("change"),r.text(t[0]))}}(window.currentMeetingInfo.request.users.external))},isLeadsMeeting:function(){var e;return"new"!==mode||_.isEmpty($.urlParam("lead_ids"))&&"leadFlow"!==$.urlParam("source")||(e=!0),_.isEmpty(meetingInfo.request.custom_fields.meeting_lead_id)||(e=!0),e||!1}});e.exports=d},,,function(e,t,n){var i=n(179),a=n(137),o=n(95),l=o.getCkEditorAPI,s=o.loadCkEditorOnDemand,r=function(){var e,t=null,o=$("#requestor-mail-modal"),r=$("#send-requestor-mail-btn"),c={mountPoint:"",isSFDC:0,isFromBookMeeting:!0,meetingRequestUuid:"",meetingRequestor:""},u={renderForm:function(e){e.payload.requestor=p().meetingRequestor,o.find("form").html(n(180)(e.payload)),t.initialiseCKEditor("ckeditor-mail-body"),o.modal({show:!0,backdrop:"static"})},mailSentSuccess:function(){o.modal("hide"),d.notificationModal({body:i18n.t("mail_sent_success_msg"),class:"green",title:i18n.t("mail_sent_success_title",{first_name:envDetails.currentUser.first_name})})}},d=window.ReactMessage||$(".notification-modal"),m=$(".notification-modal");function f(e){_.merge(c,e)}function h(){(p().isFromBookMeeting?p().isSFDC||"edit"!==mode||meetingInfo.request.requestor.uuid===envDetails.currentUser.uuid:!p().ShowRequestorEmail)||window.meetingInfo.request.is_meeting_host?r.addClass("hide"):r.removeClass("hide")}function p(){return c}function g(e){"function"==typeof u[e.action]&&u[e.action](e)}function v(){$(".modal").css("overflow","auto"),$("body").css("overflow","auto")}function y(){window.CKEDITOR?b():s(function(){t=l(window.CKEDITOR),b()})}function b(){a.getRequestorMailForm("renderForm",p().meetingRequestUuid)}function w(){var e=$("#cc_me").is(":checked"),n=!1;m.notificationModal({class:"blue",type:"confirmation",title:i18n.t("mail_confirmation_title"),body:i18n.t("send_mail_confirmation_msg",{action:i18n.t(e?"will":"wont")}),cancel:function(){$(".modal").css("overflow","auto"),$("body").css("overflow","hidden")},done:function(){n=!0},dismiss:function(){if(n){var i={body:t.getData("ckeditor-mail-body"),subject:($("#subject").val()||"").trim(),cc_me:e,meeting_uuid:p().meetingRequestUuid};a.sendRequestorMail(i,"mailSentSuccess")}}})}return{init:function(t){f(t),function(t){e=$(t.mountPoint)}(t),i.listen(g),e.on("click","#send-requestor-mail-btn",y),o.on("click","#send-mail-to-requestor",w),o.on("hide.bs.modal",v),p().isFromBookMeeting&&h()},setOptions:f,initUiForMascal:function(e){e&&_.assign(c,e),h()},showRequestorEmailButton:h}}();e.exports=r},function(e,t){function n(){return(n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}e.exports={getCkEditorAPI:function(e){return{sessionAbstractToolbar:[["Bold","Italic"],["BulletedList"],["Link"]],customFormToolbar:{toolbarGroups:[{name:"basicstyles",groups:["basicstyles"]},{name:"styles",groups:["styles"]},{name:"links",groups:["links"]},{name:"clipboard",groups:["undo"]},{name:"forms",groups:["list"]}],removeButtons:"Subscript,Superscript,Anchor,PasteFromWord,PasteText,Paste,Copy,Cut,Styles"},toolbar:[["Bold","Italic","Underline"],["Link","Unlink"],["Table"],["Undo","Redo"],["NumberedList","BulletedList"]],CKEDITOR_CONFIGS:{format_tags:"p;h1;h2;h3;pre",removeDialogTabs:"image:advanced;link:advanced",removePlugins:"elementspath,a11yHelp,about,paste",linkShowTargetTab:!1,linkShowAdvancedTab:!1,resize_enabled:!1,enterMode:e.ENTER_BR},setupEditorConfigs:function(){var t=envDetails.isMultiEventSummit?"/assets/ckeditor/":envDetails.urlPrefix+"/assets/ckeditor/";e.basePath=t,e.on("dialogDefinition",function(t){t.data.definition.resizable=e.DIALOG_RESIZE_NONE}),e.on("instanceReady",function(e){var t=e.editor;if(void 0!==t){(t.dataProcessor&&t.dataProcessor.htmlFilter).addRules({elements:{a:function(e){n(e.attributes,{target:"_blank",rel:"noopener noreferrer"})}}}),t.focus();var i=t.document.getBody(),a=t.createRange();a&&(a.moveToElementEditablePosition(i,!1),a.select())}})},onChange:function(t,n){e.instances[t].on("change",n)},initialiseCKEditor:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.onChange,a=n.forSessionAbstract,o=void 0!==a&&a,l=n.forCustomForm,s=void 0!==l&&l,r=n.placeholder;o?this.CKEDITOR_CONFIGS.toolbar=this.sessionAbstractToolbar:s?(this.CKEDITOR_CONFIGS.toolbarGroups=this.customFormToolbar.toolbarGroups,this.CKEDITOR_CONFIGS.removeButtons=this.customFormToolbar.removeButtons,this.CKEDITOR_CONFIGS.editorplaceholder=r):this.CKEDITOR_CONFIGS.toolbar=this.toolbar,e.replace(t,this.CKEDITOR_CONFIGS),this.setupEditorConfigs(),i&&this.onChange(t,i)},insertHTML:function(t,n){e.instances[t].insertHtml(n)},getData:function(t){return e.instances[t].getData()},setData:function(t,n){e.instances[t].setData(n)},setReadOnly:function(t,n){e.instances[t].setReadOnly(n)}}},loadCkEditorOnDemand:function(e){var t="/".concat(window.location.pathname.split("/")[1],"/assets/ckeditor/ckeditor.js"),n=window.envDetails.isMultiEventSummit?"/assets/ckeditor/ckeditor.js":t,i=document.createElement("script");i.src=n,i.async=!1,i.onload=e,window.document.head.appendChild(i)}}},function(e,t,n){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var a=n(3),o={setStoreVariables:function(){this.secondaryTimeZone={timeZoneId:"",timeZoneCity:"",timeZoneDisplayName:""},this.primaryTimeZone={timeZoneId:"",timeZoneCity:"",timeZoneDisplayName:""}},onGetCityTimeZone:function(e,t,n){var i=this,o={place_id:e.id,selected_date:e.selectionDate,token:window.envDetails.token,include_time_zone_full_name:!0},l=a.fetch({url:a.ENDPOINTS.google_time_zone_search,data:o});l.then(function(n){var a=n.data;a.isElePrimaryTimeZone=e.isElePrimaryTimeZone,i.trigger({type:t,data:a})}),l[l.fail?"fail":"catch"](function(e){i.trigger({type:n,data:e})})},setTimeZoneId:function(e,t){this[t].timeZoneId=e},getTimeZoneId:function(e){return this[e=e||"secondaryTimeZone"].timeZoneId},setTimeZoneCity:function(e,t){this[t].timeZoneCity=e},getTimeZoneCity:function(e){return this[e=e||"secondaryTimeZone"].timeZoneCity},setTimeZoneDisplayName:function(e,t){this[t].timeZoneDisplayName=e},getTimeZoneDisplayName:function(e){return this[e].timeZoneDisplayName},setTimeZone:function(e,t){i(this[t],e)},getTimeZone:function(e){return this[e]},getTimeZoneToBeShownOnProceedPage:function(e){var t=this.getTimeZoneCity(e),n=t&&t.split(",")[0];return n?"".concat(this.getTimeZoneDisplayName(e)," ").concat(n):"".concat(this.getTimeZoneDisplayName(e))},getTimeZoneFromMeetingInfo:function(){var e=meetingInfo.request.meeting_time_zone_city,t=e&&e.split(",")[0],n=meetingInfo.request.meeting_time_zone_offset;return t?"".concat(n," ").concat(t):"".concat(n)}};e.exports=o},function(e,t,n){var i=n(98),a=n(3),o=Reflux.createStore({init:function(){this.listenToMany(i),this.destinationActivityUuid=$.urlParam("destination_activity_uuid")||null,this.changeableMeetingTypes=[],this.isChangeableMeetingTypesFetched=!1},onFetchChangableMeetingTypes:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=a.fetch({url:a.ENDPOINTS.fetch_changable_meeting_types.replace("{meeting_uuid}",window.meetingInfo.request.uuid)});i.done(function(t){n&&(this.isChangeableMeetingTypesFetched=!0),this.changeableMeetingTypes=t.data&&t.data.activities?t.data.activities:[],this.trigger({type:e,data:t.data})}.bind(this)),i[i.fail?"fail":"catch"](function(e){this.trigger({type:t,data:e.message})}.bind(this))},getDestinationActivityUuid:function(){return this.destinationActivityUuid},getChangeableMeetingTypes:function(){return this.changeableMeetingTypes},getChangeableMeetingTypesFetchedFlag:function(){return this.isChangeableMeetingTypesFetched}});e.exports=o},function(e,t){var n=Reflux.createActions(["fetchChangableMeetingTypes"]);e.exports=n},function(e,t){var n=Reflux.createActions(["briefingDetails","getBriefingCenterLongDay"]);e.exports=n},function(e,t){var n=Reflux.createActions(["initAttachmentsComponent","uploadAttachment","getAttachments","setAttachments","removeAttachment","setJiffleFileManager"]);e.exports=n},function(e,t,n){(function(e){var i,a,o;function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
//! moment.js
o=function(){"use strict";var t,n;function i(){return t.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function s(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function d(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e,t){for(var n in t)d(t,n)&&(e[n]=t[n]);return d(t,"toString")&&(e.toString=t.toString),d(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,i){return Et(e,t,n,i,!0).utc()}function h(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function p(e){if(null==e._isValid){var t=h(e),i=n.call(t.parsedDateParts,function(e){return null!=e}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function _(e){var t=f(NaN);return null!=e?m(h(t),e):h(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var g=i.momentProperties=[];function v(e,t){var n,i,a;if(s(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),s(t._i)||(e._i=t._i),s(t._f)||(e._f=t._f),s(t._l)||(e._l=t._l),s(t._strict)||(e._strict=t._strict),s(t._tzm)||(e._tzm=t._tzm),s(t._isUTC)||(e._isUTC=t._isUTC),s(t._offset)||(e._offset=t._offset),s(t._pf)||(e._pf=h(t)),s(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)s(a=t[i=g[n]])||(e[i]=a);return e}var y=!1;function b(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,i.updateOffset(this),y=!1)}function w(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function M(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function x(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=M(t)),n}function C(e,t,n){var i,a=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),l=0;for(i=0;i<a;i++)(n&&e[i]!==t[i]||!n&&x(e[i])!==x(t[i]))&&l++;return l+o}function D(e){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return m(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,e),n){for(var a,o=[],s=0;s<arguments.length;s++){if(a="","object"===l(arguments[s])){for(var r in a+="\n["+s+"] ",arguments[0])a+=r+": "+arguments[0][r]+", ";a=a.slice(0,-2)}else a=arguments[s];o.push(a)}D(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var S,A={};function T(e,t){null!=i.deprecationHandler&&i.deprecationHandler(e,t),A[e]||(D(t),A[e]=!0)}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function I(e,t){var n,i=m({},e);for(n in t)d(t,n)&&(o(e[n])&&o(t[n])?(i[n]={},m(i[n],e[n]),m(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)d(e,n)&&!d(t,n)&&o(e[n])&&(i[n]=m({},i[n]));return i}function O(e){null!=e&&this.set(e)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,S=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)d(e,t)&&n.push(t);return n};var P={};function j(e,t){var n=e.toLowerCase();P[n]=P[n+"s"]=P[t]=e}function $(e){return"string"==typeof e?P[e]||P[e.toLowerCase()]:void 0}function q(e){var t,n,i={};for(n in e)d(e,n)&&(t=$(n))&&(i[t]=e[n]);return i}var R={};function N(e,t){R[e]=t}function F(e,t,n){var i=""+Math.abs(e),a=t-i.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+i}var U=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Y={},B={};function z(e,t,n,i){var a=i;"string"==typeof i&&(a=function(){return this[i]()}),e&&(B[e]=a),t&&(B[t[0]]=function(){return F(a.apply(this,arguments),t[1],t[2])}),n&&(B[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function H(e,t){return e.isValid()?(t=V(t,e.localeData()),Y[t]=Y[t]||function(e){var t,n,i,a=e.match(U);for(t=0,n=a.length;t<n;t++)B[a[t]]?a[t]=B[a[t]]:a[t]=(i=a[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=E(a[i])?a[i].call(t,e):a[i];return o}}(t),Y[t](e)):e.localeData().invalidDate()}function V(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(L.lastIndex=0;n>=0&&L.test(e);)e=e.replace(L,i),L.lastIndex=0,n-=1;return e}var G=/\d/,Z=/\d\d/,W=/\d{3}/,J=/\d{4}/,K=/[+-]?\d{6}/,Q=/\d\d?/,X=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,ie=/[+-]?\d{1,6}/,ae=/\d+/,oe=/[+-]?\d+/,le=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,re=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ce={};function ue(e,t,n){ce[e]=E(t)?t:function(e,i){return e&&n?n:t}}function de(e,t){return d(ce,e)?ce[e](t._strict,t._locale):new RegExp(me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,a){return t||n||i||a})))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var fe={};function he(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),r(t)&&(i=function(e,n){n[t]=x(e)}),n=0;n<e.length;n++)fe[e[n]]=i}function pe(e,t){he(e,function(e,n,i,a){i._w=i._w||{},t(e,i._w,i,a)})}function _e(e,t,n){null!=t&&d(fe,e)&&fe[e](t,n._a,n,e)}var ge=0,ve=1,ye=2,be=3,we=4,Me=5,xe=6,Ce=7,De=8;function ke(e){return Se(e)?366:365}function Se(e){return e%4==0&&e%100!=0||e%400==0}z("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),z(0,["YY",2],0,function(){return this.year()%100}),z(0,["YYYY",4],0,"year"),z(0,["YYYYY",5],0,"year"),z(0,["YYYYYY",6,!0],0,"year"),j("year","y"),N("year",1),ue("Y",oe),ue("YY",Q,Z),ue("YYYY",ne,J),ue("YYYYY",ie,K),ue("YYYYYY",ie,K),he(["YYYYY","YYYYYY"],ge),he("YYYY",function(e,t){t[ge]=2===e.length?i.parseTwoDigitYear(e):x(e)}),he("YY",function(e,t){t[ge]=i.parseTwoDigitYear(e)}),he("Y",function(e,t){t[ge]=parseInt(e,10)}),i.parseTwoDigitYear=function(e){return x(e)+(x(e)>68?1900:2e3)};var Ae,Te=Ee("FullYear",!0);function Ee(e,t){return function(n){return null!=n?(Oe(this,e,n),i.updateOffset(this,t),this):Ie(this,e)}}function Ie(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Oe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Se(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Pe(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Pe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,i=(t%(n=12)+n)%n;return e+=(t-i)/12,1===i?Se(e)?29:28:31-i%7%2}Ae=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},z("M",["MM",2],"Mo",function(){return this.month()+1}),z("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),z("MMMM",0,0,function(e){return this.localeData().months(this,e)}),j("month","M"),N("month",8),ue("M",Q),ue("MM",Q,Z),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),he(["M","MM"],function(e,t){t[ve]=x(e)-1}),he(["MMM","MMMM"],function(e,t,n,i){var a=n._locale.monthsParse(e,i,n._strict);null!=a?t[ve]=a:h(n).invalidMonth=e});var je=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,$e="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),qe="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Re(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=x(t);else if(!r(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Pe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ne(e){return null!=e?(Re(this,e),i.updateOffset(this,!0),this):Ie(this,"Month")}var Fe=re,Ue=re;function Le(){function e(e,t){return t.length-e.length}var t,n,i=[],a=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),i.push(this.monthsShort(n,"")),a.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),a.sort(e),o.sort(e),t=0;t<12;t++)i[t]=me(i[t]),a[t]=me(a[t]);for(t=0;t<24;t++)o[t]=me(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ye(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Be(e,t,n){var i=7+t-n;return-((7+Ye(e,0,i).getUTCDay()-t)%7)+i-1}function ze(e,t,n,i,a){var o,l,s=1+7*(t-1)+(7+n-i)%7+Be(e,i,a);return s<=0?l=ke(o=e-1)+s:s>ke(e)?(o=e+1,l=s-ke(e)):(o=e,l=s),{year:o,dayOfYear:l}}function He(e,t,n){var i,a,o=Be(e.year(),t,n),l=Math.floor((e.dayOfYear()-o-1)/7)+1;return l<1?i=l+Ve(a=e.year()-1,t,n):l>Ve(e.year(),t,n)?(i=l-Ve(e.year(),t,n),a=e.year()+1):(a=e.year(),i=l),{week:i,year:a}}function Ve(e,t,n){var i=Be(e,t,n),a=Be(e+1,t,n);return(ke(e)-i+a)/7}function Ge(e,t){return e.slice(t,7).concat(e.slice(0,t))}z("w",["ww",2],"wo","week"),z("W",["WW",2],"Wo","isoWeek"),j("week","w"),j("isoWeek","W"),N("week",5),N("isoWeek",5),ue("w",Q),ue("ww",Q,Z),ue("W",Q),ue("WW",Q,Z),pe(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=x(e)}),z("d",0,"do","day"),z("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),z("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),z("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),z("e",0,0,"weekday"),z("E",0,0,"isoWeekday"),j("day","d"),j("weekday","e"),j("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),ue("d",Q),ue("e",Q),ue("E",Q),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),pe(["dd","ddd","dddd"],function(e,t,n,i){var a=n._locale.weekdaysParse(e,i,n._strict);null!=a?t.d=a:h(n).invalidWeekday=e}),pe(["d","e","E"],function(e,t,n,i){t[i]=x(e)});var Ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),We="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Je="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ke=re,Qe=re,Xe=re;function et(){function e(e,t){return t.length-e.length}var t,n,i,a,o,l=[],s=[],r=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),i=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),o=this.weekdays(n,""),l.push(i),s.push(a),r.push(o),c.push(i),c.push(a),c.push(o);for(l.sort(e),s.sort(e),r.sort(e),c.sort(e),t=0;t<7;t++)s[t]=me(s[t]),r[t]=me(r[t]),c[t]=me(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+l.join("|")+")","i")}function tt(){return this.hours()%12||12}function nt(e,t){z(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function it(e,t){return t._meridiemParse}z("H",["HH",2],0,"hour"),z("h",["hh",2],0,tt),z("k",["kk",2],0,function(){return this.hours()||24}),z("hmm",0,0,function(){return""+tt.apply(this)+F(this.minutes(),2)}),z("hmmss",0,0,function(){return""+tt.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),z("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),z("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),nt("a",!0),nt("A",!1),j("hour","h"),N("hour",13),ue("a",it),ue("A",it),ue("H",Q),ue("h",Q),ue("k",Q),ue("HH",Q,Z),ue("hh",Q,Z),ue("kk",Q,Z),ue("hmm",X),ue("hmmss",ee),ue("Hmm",X),ue("Hmmss",ee),he(["H","HH"],be),he(["k","kk"],function(e,t,n){var i=x(e);t[be]=24===i?0:i}),he(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),he(["h","hh"],function(e,t,n){t[be]=x(e),h(n).bigHour=!0}),he("hmm",function(e,t,n){var i=e.length-2;t[be]=x(e.substr(0,i)),t[we]=x(e.substr(i)),h(n).bigHour=!0}),he("hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[be]=x(e.substr(0,i)),t[we]=x(e.substr(i,2)),t[Me]=x(e.substr(a)),h(n).bigHour=!0}),he("Hmm",function(e,t,n){var i=e.length-2;t[be]=x(e.substr(0,i)),t[we]=x(e.substr(i))}),he("Hmmss",function(e,t,n){var i=e.length-4,a=e.length-2;t[be]=x(e.substr(0,i)),t[we]=x(e.substr(i,2)),t[Me]=x(e.substr(a))});var at,ot=Ee("Hours",!0),lt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:$e,monthsShort:qe,week:{dow:0,doy:6},weekdays:Ze,weekdaysMin:Je,weekdaysShort:We,meridiemParse:/[ap]\.?m?\.?/i},st={},rt={};function ct(e){return e?e.toLowerCase().replace("_","-"):e}function ut(t){var n=null;if(!st[t]&&void 0!==e&&e&&e.exports)try{n=at._abbr;!function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),dt(n)}catch(e){}return st[t]}function dt(e,t){var n;return e&&((n=s(t)?ft(e):mt(e,t))?at=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),at._abbr}function mt(e,t){if(null!==t){var n,i=lt;if(t.abbr=e,null!=st[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=st[e]._config;else if(null!=t.parentLocale)if(null!=st[t.parentLocale])i=st[t.parentLocale]._config;else{if(null==(n=ut(t.parentLocale)))return rt[t.parentLocale]||(rt[t.parentLocale]=[]),rt[t.parentLocale].push({name:e,config:t}),null;i=n._config}return st[e]=new O(I(i,t)),rt[e]&&rt[e].forEach(function(e){mt(e.name,e.config)}),dt(e),st[e]}return delete st[e],null}function ft(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return at;if(!a(e)){if(t=ut(e))return t;e=[e]}return function(e){for(var t,n,i,a,o=0;o<e.length;){for(t=(a=ct(e[o]).split("-")).length,n=(n=ct(e[o+1]))?n.split("-"):null;t>0;){if(i=ut(a.slice(0,t).join("-")))return i;if(n&&n.length>=t&&C(a,n,!0)>=t-1)break;t--}o++}return at}(e)}function ht(e){var t,n=e._a;return n&&-2===h(e).overflow&&(t=n[ve]<0||n[ve]>11?ve:n[ye]<1||n[ye]>Pe(n[ge],n[ve])?ye:n[be]<0||n[be]>24||24===n[be]&&(0!==n[we]||0!==n[Me]||0!==n[xe])?be:n[we]<0||n[we]>59?we:n[Me]<0||n[Me]>59?Me:n[xe]<0||n[xe]>999?xe:-1,h(e)._overflowDayOfYear&&(t<ge||t>ye)&&(t=ye),h(e)._overflowWeeks&&-1===t&&(t=Ce),h(e)._overflowWeekday&&-1===t&&(t=De),h(e).overflow=t),e}function pt(e,t,n){return null!=e?e:null!=t?t:n}function _t(e){var t,n,a,o,l,s=[];if(!e._d){for(a=function(e){var t=new Date(i.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[ye]&&null==e._a[ve]&&function(e){var t,n,i,a,o,l,s,r;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,l=4,n=pt(t.GG,e._a[ge],He(It(),1,4).year),i=pt(t.W,1),((a=pt(t.E,1))<1||a>7)&&(r=!0);else{o=e._locale._week.dow,l=e._locale._week.doy;var c=He(It(),o,l);n=pt(t.gg,e._a[ge],c.year),i=pt(t.w,c.week),null!=t.d?((a=t.d)<0||a>6)&&(r=!0):null!=t.e?(a=t.e+o,(t.e<0||t.e>6)&&(r=!0)):a=o}i<1||i>Ve(n,o,l)?h(e)._overflowWeeks=!0:null!=r?h(e)._overflowWeekday=!0:(s=ze(n,i,a,o,l),e._a[ge]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(l=pt(e._a[ge],a[ge]),(e._dayOfYear>ke(l)||0===e._dayOfYear)&&(h(e)._overflowDayOfYear=!0),n=Ye(l,0,e._dayOfYear),e._a[ve]=n.getUTCMonth(),e._a[ye]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=a[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[be]&&0===e._a[we]&&0===e._a[Me]&&0===e._a[xe]&&(e._nextDay=!0,e._a[be]=0),e._d=(e._useUTC?Ye:function(e,t,n,i,a,o,l){var s;return e<100&&e>=0?(s=new Date(e+400,t,n,i,a,o,l),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,a,o,l),s}).apply(null,s),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[be]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(h(e).weekdayMismatch=!0)}}var gt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/Z|[+-]\d\d(?::?\d\d)?/,bt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],wt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Mt=/^\/?Date\((\-?\d+)/i;function xt(e){var t,n,i,a,o,l,s=e._i,r=gt.exec(s)||vt.exec(s);if(r){for(h(e).iso=!0,t=0,n=bt.length;t<n;t++)if(bt[t][1].exec(r[1])){a=bt[t][0],i=!1!==bt[t][2];break}if(null==a)return void(e._isValid=!1);if(r[3]){for(t=0,n=wt.length;t<n;t++)if(wt[t][1].exec(r[3])){o=(r[2]||" ")+wt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(r[4]){if(!yt.exec(r[4]))return void(e._isValid=!1);l="Z"}e._f=a+(o||"")+(l||""),At(e)}else e._isValid=!1}var Ct=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Dt(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var kt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function St(e){var t,n,i,a,o,l,s,r=Ct.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(r){var c=(t=r[4],n=r[3],i=r[2],a=r[5],o=r[6],l=r[7],s=[Dt(t),qe.indexOf(n),parseInt(i,10),parseInt(a,10),parseInt(o,10)],l&&s.push(parseInt(l,10)),s);if(!function(e,t,n){return!e||We.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(h(n).weekdayMismatch=!0,n._isValid=!1,!1)}(r[1],c,e))return;e._a=c,e._tzm=function(e,t,n){if(e)return kt[e];if(t)return 0;var i=parseInt(n,10),a=i%100;return(i-a)/100*60+a}(r[8],r[9],r[10]),e._d=Ye.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),h(e).rfc2822=!0}else e._isValid=!1}function At(e){if(e._f!==i.ISO_8601)if(e._f!==i.RFC_2822){e._a=[],h(e).empty=!0;var t,n,a,o,l,s=""+e._i,r=s.length,c=0;for(a=V(e._f,e._locale).match(U)||[],t=0;t<a.length;t++)o=a[t],(n=(s.match(de(o,e))||[])[0])&&((l=s.substr(0,s.indexOf(n))).length>0&&h(e).unusedInput.push(l),s=s.slice(s.indexOf(n)+n.length),c+=n.length),B[o]?(n?h(e).empty=!1:h(e).unusedTokens.push(o),_e(o,n,e)):e._strict&&!n&&h(e).unusedTokens.push(o);h(e).charsLeftOver=r-c,s.length>0&&h(e).unusedInput.push(s),e._a[be]<=12&&!0===h(e).bigHour&&e._a[be]>0&&(h(e).bigHour=void 0),h(e).parsedDateParts=e._a.slice(0),h(e).meridiem=e._meridiem,e._a[be]=function(e,t,n){var i;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0),t):t}(e._locale,e._a[be],e._meridiem),_t(e),ht(e)}else St(e);else xt(e)}function Tt(e){var t=e._i,n=e._f;return e._locale=e._locale||ft(e._l),null===t||void 0===n&&""===t?_({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),w(t)?new b(ht(t)):(c(t)?e._d=t:a(n)?function(e){var t,n,i,a,o;if(0===e._f.length)return h(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)o=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],At(t),p(t)&&(o+=h(t).charsLeftOver,o+=10*h(t).unusedTokens.length,h(t).score=o,(null==i||o<i)&&(i=o,n=t));m(e,n||t)}(e):n?At(e):function(e){var t=e._i;s(t)?e._d=new Date(i.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Mt.exec(e._i);null===t?(xt(e),!1===e._isValid&&(delete e._isValid,St(e),!1===e._isValid&&(delete e._isValid,i.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):a(t)?(e._a=u(t.slice(0),function(e){return parseInt(e,10)}),_t(e)):o(t)?function(e){if(!e._d){var t=q(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),_t(e)}}(e):r(t)?e._d=new Date(t):i.createFromInputFallback(e)}(e),p(e)||(e._d=null),e))}function Et(e,t,n,i,l){var s,r={};return!0!==n&&!1!==n||(i=n,n=void 0),(o(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||a(e)&&0===e.length)&&(e=void 0),r._isAMomentObject=!0,r._useUTC=r._isUTC=l,r._l=n,r._i=e,r._f=t,r._strict=i,(s=new b(ht(Tt(r))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function It(e,t,n,i){return Et(e,t,n,i,!1)}i.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Ot=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()}),Pt=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=It.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()});function jt(e,t){var n,i;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return It();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}var $t=["year","quarter","month","week","day","hour","minute","second","millisecond"];function qt(e){var t=q(e),n=t.year||0,i=t.quarter||0,a=t.month||0,o=t.week||t.isoWeek||0,l=t.day||0,s=t.hour||0,r=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Ae.call($t,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<$t.length;++i)if(e[$t[i]]){if(n)return!1;parseFloat(e[$t[i]])!==x(e[$t[i]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*c+6e4*r+1e3*s*60*60,this._days=+l+7*o,this._months=+a+3*i+12*n,this._data={},this._locale=ft(),this._bubble()}function Rt(e){return e instanceof qt}function Nt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,t){z(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),ue("Z",se),ue("ZZ",se),he(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Lt(se,e)});var Ut=/([\+\-]|\d\d)/gi;function Lt(e,t){var n=(t||"").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(Ut)||["-",0,0],a=60*i[1]+x(i[2]);return 0===a?0:"+"===i[0]?a:-a}function Yt(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(w(e)||c(e)?e.valueOf():It(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),i.updateOffset(n,!1),n):It(e).local()}function Bt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function zt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var Ht=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Vt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Gt(e,t){var n,i,a,o=e,s=null;return Rt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(o={},t?o[t]=e:o.milliseconds=e):(s=Ht.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:x(s[ye])*n,h:x(s[be])*n,m:x(s[we])*n,s:x(s[Me])*n,ms:x(Nt(1e3*s[xe]))*n}):(s=Vt.exec(e))?(n="-"===s[1]?-1:1,o={y:Zt(s[2],n),M:Zt(s[3],n),w:Zt(s[4],n),d:Zt(s[5],n),h:Zt(s[6],n),m:Zt(s[7],n),s:Zt(s[8],n)}):null==o?o={}:"object"===l(o)&&("from"in o||"to"in o)&&(a=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Yt(t,e),e.isBefore(t)?n=Wt(e,t):((n=Wt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(It(o.from),It(o.to)),(o={}).ms=a.milliseconds,o.M=a.months),i=new qt(o),Rt(e)&&d(e,"_locale")&&(i._locale=e._locale),i}function Zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Wt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Jt(e,t){return function(n,i){var a;return null===i||isNaN(+i)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=i,i=a),Kt(this,Gt(n="string"==typeof n?+n:n,i),e),this}}function Kt(e,t,n,a){var o=t._milliseconds,l=Nt(t._days),s=Nt(t._months);e.isValid()&&(a=null==a||a,s&&Re(e,Ie(e,"Month")+s*n),l&&Oe(e,"Date",Ie(e,"Date")+l*n),o&&e._d.setTime(e._d.valueOf()+o*n),a&&i.updateOffset(e,l||s))}Gt.fn=qt.prototype,Gt.invalid=function(){return Gt(NaN)};var Qt=Jt(1,"add"),Xt=Jt(-1,"subtract");function en(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function tn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=ft(e))&&(this._locale=t),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nn=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function an(){return this._locale}var on=1e3,ln=60*on,sn=60*ln,rn=3506328*sn;function cn(e,t){return(e%t+t)%t}function un(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-rn:new Date(e,t,n).valueOf()}function dn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-rn:Date.UTC(e,t,n)}function mn(e,t){z(0,[e,e.length],0,t)}function fn(e,t,n,i,a){var o;return null==e?He(this,i,a).year:(t>(o=Ve(e,i,a))&&(t=o),function(e,t,n,i,a){var o=ze(e,t,n,i,a),l=Ye(o.year,0,o.dayOfYear);return this.year(l.getUTCFullYear()),this.month(l.getUTCMonth()),this.date(l.getUTCDate()),this}.call(this,e,t,n,i,a))}z(0,["gg",2],0,function(){return this.weekYear()%100}),z(0,["GG",2],0,function(){return this.isoWeekYear()%100}),mn("gggg","weekYear"),mn("ggggg","weekYear"),mn("GGGG","isoWeekYear"),mn("GGGGG","isoWeekYear"),j("weekYear","gg"),j("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),ue("G",oe),ue("g",oe),ue("GG",Q,Z),ue("gg",Q,Z),ue("GGGG",ne,J),ue("gggg",ne,J),ue("GGGGG",ie,K),ue("ggggg",ie,K),pe(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=x(e)}),pe(["gg","GG"],function(e,t,n,a){t[a]=i.parseTwoDigitYear(e)}),z("Q",0,"Qo","quarter"),j("quarter","Q"),N("quarter",7),ue("Q",G),he("Q",function(e,t){t[ve]=3*(x(e)-1)}),z("D",["DD",2],"Do","date"),j("date","D"),N("date",9),ue("D",Q),ue("DD",Q,Z),ue("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),he(["D","DD"],ye),he("Do",function(e,t){t[ye]=x(e.match(Q)[0])});var hn=Ee("Date",!0);z("DDD",["DDDD",3],"DDDo","dayOfYear"),j("dayOfYear","DDD"),N("dayOfYear",4),ue("DDD",te),ue("DDDD",W),he(["DDD","DDDD"],function(e,t,n){n._dayOfYear=x(e)}),z("m",["mm",2],0,"minute"),j("minute","m"),N("minute",14),ue("m",Q),ue("mm",Q,Z),he(["m","mm"],we);var pn=Ee("Minutes",!1);z("s",["ss",2],0,"second"),j("second","s"),N("second",15),ue("s",Q),ue("ss",Q,Z),he(["s","ss"],Me);var _n,gn=Ee("Seconds",!1);for(z("S",0,0,function(){return~~(this.millisecond()/100)}),z(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),z(0,["SSS",3],0,"millisecond"),z(0,["SSSS",4],0,function(){return 10*this.millisecond()}),z(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),z(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),z(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),z(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),z(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),j("millisecond","ms"),N("millisecond",16),ue("S",te,G),ue("SS",te,Z),ue("SSS",te,W),_n="SSSS";_n.length<=9;_n+="S")ue(_n,ae);function vn(e,t){t[xe]=x(1e3*("0."+e))}for(_n="S";_n.length<=9;_n+="S")he(_n,vn);var yn=Ee("Milliseconds",!1);z("z",0,0,"zoneAbbr"),z("zz",0,0,"zoneName");var bn=b.prototype;function wn(e){return e}bn.add=Qt,bn.calendar=function(e,t){var n=e||It(),a=Yt(n,this).startOf("day"),o=i.calendarFormat(this,a)||"sameElse",l=t&&(E(t[o])?t[o].call(this,n):t[o]);return this.format(l||this.localeData().calendar(o,this,It(n)))},bn.clone=function(){return new b(this)},bn.diff=function(e,t,n){var i,a,o;if(!this.isValid())return NaN;if(!(i=Yt(e,this)).isValid())return NaN;switch(a=6e4*(i.utcOffset()-this.utcOffset()),t=$(t)){case"year":o=en(this,i)/12;break;case"month":o=en(this,i);break;case"quarter":o=en(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-a)/864e5;break;case"week":o=(this-i-a)/6048e5;break;default:o=this-i}return n?o:M(o)},bn.endOf=function(e){var t;if(void 0===(e=$(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?dn:un;switch(e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=sn-cn(t+(this._isUTC?0:this.utcOffset()*ln),sn)-1;break;case"minute":t=this._d.valueOf(),t+=ln-cn(t,ln)-1;break;case"second":t=this._d.valueOf(),t+=on-cn(t,on)-1}return this._d.setTime(t),i.updateOffset(this,!0),this},bn.format=function(e){e||(e=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var t=H(this,e);return this.localeData().postformat(t)},bn.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||It(e).isValid())?Gt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},bn.fromNow=function(e){return this.from(It(),e)},bn.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||It(e).isValid())?Gt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},bn.toNow=function(e){return this.to(It(),e)},bn.get=function(e){return E(this[e=$(e)])?this[e]():this},bn.invalidAt=function(){return h(this).overflow},bn.isAfter=function(e,t){var n=w(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=$(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},bn.isBefore=function(e,t){var n=w(e)?e:It(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=$(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},bn.isBetween=function(e,t,n,i){var a=w(e)?e:It(e),o=w(t)?t:It(t);return!!(this.isValid()&&a.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(a,n):!this.isBefore(a,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},bn.isSame=function(e,t){var n,i=w(e)?e:It(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=$(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},bn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},bn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},bn.isValid=function(){return p(this)},bn.lang=nn,bn.locale=tn,bn.localeData=an,bn.max=Pt,bn.min=Ot,bn.parsingFlags=function(){return m({},h(this))},bn.set=function(e,t){if("object"===l(e))for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:R[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=q(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(E(this[e=$(e)]))return this[e](t);return this},bn.startOf=function(e){var t;if(void 0===(e=$(e))||"millisecond"===e||!this.isValid())return this;var n=this._isUTC?dn:un;switch(e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=cn(t+(this._isUTC?0:this.utcOffset()*ln),sn);break;case"minute":t=this._d.valueOf(),t-=cn(t,ln);break;case"second":t=this._d.valueOf(),t-=cn(t,on)}return this._d.setTime(t),i.updateOffset(this,!0),this},bn.subtract=Xt,bn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},bn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},bn.toDate=function(){return new Date(this.valueOf())},bn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},bn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+a)},bn.toJSON=function(){return this.isValid()?this.toISOString():null},bn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},bn.unix=function(){return Math.floor(this.valueOf()/1e3)},bn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},bn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},bn.year=Te,bn.isLeapYear=function(){return Se(this.year())},bn.weekYear=function(e){return fn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},bn.isoWeekYear=function(e){return fn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},bn.quarter=bn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},bn.month=Ne,bn.daysInMonth=function(){return Pe(this.year(),this.month())},bn.week=bn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},bn.isoWeek=bn.isoWeeks=function(e){var t=He(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},bn.weeksInYear=function(){var e=this.localeData()._week;return Ve(this.year(),e.dow,e.doy)},bn.isoWeeksInYear=function(){return Ve(this.year(),1,4)},bn.date=hn,bn.day=bn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},bn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},bn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},bn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},bn.hour=bn.hours=ot,bn.minute=bn.minutes=pn,bn.second=bn.seconds=gn,bn.millisecond=bn.milliseconds=yn,bn.utcOffset=function(e,t,n){var a,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Lt(se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(a=Bt(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),o!==e&&(!t||this._changeInProgress?Kt(this,Gt(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Bt(this)},bn.utc=function(e){return this.utcOffset(0,e)},bn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Bt(this),"m")),this},bn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Lt(le,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},bn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?It(e).utcOffset():0,(this.utcOffset()-e)%60==0)},bn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},bn.isLocal=function(){return!!this.isValid()&&!this._isUTC},bn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},bn.isUtc=zt,bn.isUTC=zt,bn.zoneAbbr=function(){return this._isUTC?"UTC":""},bn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},bn.dates=k("dates accessor is deprecated. Use date instead.",hn),bn.months=k("months accessor is deprecated. Use month instead",Ne),bn.years=k("years accessor is deprecated. Use year instead",Te),bn.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),bn.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!s(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=Tt(e))._a){var t=e._isUTC?f(e._a):It(e._a);this._isDSTShifted=this.isValid()&&C(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var Mn=O.prototype;function xn(e,t,n,i){var a=ft(),o=f().set(i,t);return a[n](o,e)}function Cn(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return xn(e,t,n,"month");var i,a=[];for(i=0;i<12;i++)a[i]=xn(e,i,n,"month");return a}function Dn(e,t,n,i){"boolean"==typeof e?(r(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,r(t)&&(n=t,t=void 0),t=t||"");var a,o=ft(),l=e?o._week.dow:0;if(null!=n)return xn(t,(n+l)%7,i,"day");var s=[];for(a=0;a<7;a++)s[a]=xn(t,(a+l)%7,i,"day");return s}Mn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return E(i)?i.call(t,n):i},Mn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},Mn.invalidDate=function(){return this._invalidDate},Mn.ordinal=function(e){return this._ordinal.replace("%d",e)},Mn.preparse=wn,Mn.postformat=wn,Mn.relativeTime=function(e,t,n,i){var a=this._relativeTime[n];return E(a)?a(e,t,n,i):a.replace(/%d/i,e)},Mn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)},Mn.set=function(e){var t,n;for(n in e)E(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Mn.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||je).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},Mn.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[je.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Mn.monthsParse=function(e,t,n){var i,a,o;if(this._monthsParseExact)return function(e,t,n){var i,a,o,l=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=Ae.call(this._shortMonthsParse,l))?a:null:-1!==(a=Ae.call(this._longMonthsParse,l))?a:null:"MMM"===t?-1!==(a=Ae.call(this._shortMonthsParse,l))?a:-1!==(a=Ae.call(this._longMonthsParse,l))?a:null:-1!==(a=Ae.call(this._longMonthsParse,l))?a:-1!==(a=Ae.call(this._shortMonthsParse,l))?a:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(a=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},Mn.monthsRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||Le.call(this),e?this._monthsStrictRegex:this._monthsRegex):(d(this,"_monthsRegex")||(this._monthsRegex=Ue),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},Mn.monthsShortRegex=function(e){return this._monthsParseExact?(d(this,"_monthsRegex")||Le.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(d(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},Mn.week=function(e){return He(e,this._week.dow,this._week.doy).week},Mn.firstDayOfYear=function(){return this._week.doy},Mn.firstDayOfWeek=function(){return this._week.dow},Mn.weekdays=function(e,t){var n=a(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ge(n,this._week.dow):e?n[e.day()]:n},Mn.weekdaysMin=function(e){return!0===e?Ge(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},Mn.weekdaysShort=function(e){return!0===e?Ge(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},Mn.weekdaysParse=function(e,t,n){var i,a,o;if(this._weekdaysParseExact)return function(e,t,n){var i,a,o,l=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=Ae.call(this._weekdaysParse,l))?a:null:"ddd"===t?-1!==(a=Ae.call(this._shortWeekdaysParse,l))?a:null:-1!==(a=Ae.call(this._minWeekdaysParse,l))?a:null:"dddd"===t?-1!==(a=Ae.call(this._weekdaysParse,l))?a:-1!==(a=Ae.call(this._shortWeekdaysParse,l))?a:-1!==(a=Ae.call(this._minWeekdaysParse,l))?a:null:"ddd"===t?-1!==(a=Ae.call(this._shortWeekdaysParse,l))?a:-1!==(a=Ae.call(this._weekdaysParse,l))?a:-1!==(a=Ae.call(this._minWeekdaysParse,l))?a:null:-1!==(a=Ae.call(this._minWeekdaysParse,l))?a:-1!==(a=Ae.call(this._weekdaysParse,l))?a:-1!==(a=Ae.call(this._shortWeekdaysParse,l))?a:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(a=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},Mn.weekdaysRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(d(this,"_weekdaysRegex")||(this._weekdaysRegex=Ke),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},Mn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(d(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Qe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Mn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(d(this,"_weekdaysRegex")||et.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(d(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xe),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Mn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},Mn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},dt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===x(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),i.lang=k("moment.lang is deprecated. Use moment.locale instead.",dt),i.langData=k("moment.langData is deprecated. Use moment.localeData instead.",ft);var kn=Math.abs;function Sn(e,t,n,i){var a=Gt(t,n);return e._milliseconds+=i*a._milliseconds,e._days+=i*a._days,e._months+=i*a._months,e._bubble()}function An(e){return e<0?Math.floor(e):Math.ceil(e)}function Tn(e){return 4800*e/146097}function En(e){return 146097*e/4800}function In(e){return function(){return this.as(e)}}var On=In("ms"),Pn=In("s"),jn=In("m"),$n=In("h"),qn=In("d"),Rn=In("w"),Nn=In("M"),Fn=In("Q"),Un=In("y");function Ln(e){return function(){return this.isValid()?this._data[e]:NaN}}var Yn=Ln("milliseconds"),Bn=Ln("seconds"),zn=Ln("minutes"),Hn=Ln("hours"),Vn=Ln("days"),Gn=Ln("months"),Zn=Ln("years"),Wn=Math.round,Jn={ss:44,s:45,m:45,h:22,d:26,M:11},Kn=Math.abs;function Qn(e){return(e>0)-(e<0)||+e}function Xn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Kn(this._milliseconds)/1e3,i=Kn(this._days),a=Kn(this._months);e=M(n/60),t=M(e/60),n%=60,e%=60;var o=M(a/12),l=a%=12,s=i,r=t,c=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var m=d<0?"-":"",f=Qn(this._months)!==Qn(d)?"-":"",h=Qn(this._days)!==Qn(d)?"-":"",p=Qn(this._milliseconds)!==Qn(d)?"-":"";return m+"P"+(o?f+o+"Y":"")+(l?f+l+"M":"")+(s?h+s+"D":"")+(r||c||u?"T":"")+(r?p+r+"H":"")+(c?p+c+"M":"")+(u?p+u+"S":"")}var ei=qt.prototype;return ei.isValid=function(){return this._isValid},ei.abs=function(){var e=this._data;return this._milliseconds=kn(this._milliseconds),this._days=kn(this._days),this._months=kn(this._months),e.milliseconds=kn(e.milliseconds),e.seconds=kn(e.seconds),e.minutes=kn(e.minutes),e.hours=kn(e.hours),e.months=kn(e.months),e.years=kn(e.years),this},ei.add=function(e,t){return Sn(this,e,t,1)},ei.subtract=function(e,t){return Sn(this,e,t,-1)},ei.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=$(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Tn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(En(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},ei.asMilliseconds=On,ei.asSeconds=Pn,ei.asMinutes=jn,ei.asHours=$n,ei.asDays=qn,ei.asWeeks=Rn,ei.asMonths=Nn,ei.asQuarters=Fn,ei.asYears=Un,ei.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},ei._bubble=function(){var e,t,n,i,a,o=this._milliseconds,l=this._days,s=this._months,r=this._data;return o>=0&&l>=0&&s>=0||o<=0&&l<=0&&s<=0||(o+=864e5*An(En(s)+l),l=0,s=0),r.milliseconds=o%1e3,e=M(o/1e3),r.seconds=e%60,t=M(e/60),r.minutes=t%60,n=M(t/60),r.hours=n%24,l+=M(n/24),s+=a=M(Tn(l)),l-=An(En(a)),i=M(s/12),s%=12,r.days=l,r.months=s,r.years=i,this},ei.clone=function(){return Gt(this)},ei.get=function(e){return e=$(e),this.isValid()?this[e+"s"]():NaN},ei.milliseconds=Yn,ei.seconds=Bn,ei.minutes=zn,ei.hours=Hn,ei.days=Vn,ei.weeks=function(){return M(this.days()/7)},ei.months=Gn,ei.years=Zn,ei.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var i=Gt(e).abs(),a=Wn(i.as("s")),o=Wn(i.as("m")),l=Wn(i.as("h")),s=Wn(i.as("d")),r=Wn(i.as("M")),c=Wn(i.as("y")),u=a<=Jn.ss&&["s",a]||a<Jn.s&&["ss",a]||o<=1&&["m"]||o<Jn.m&&["mm",o]||l<=1&&["h"]||l<Jn.h&&["hh",l]||s<=1&&["d"]||s<Jn.d&&["dd",s]||r<=1&&["M"]||r<Jn.M&&["MM",r]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=+e>0,u[4]=n,function(e,t,n,i,a){return a.relativeTime(t||1,!!n,e,i)}.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},ei.toISOString=Xn,ei.toString=Xn,ei.toJSON=Xn,ei.locale=tn,ei.localeData=an,ei.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Xn),ei.lang=nn,z("X",0,0,"unix"),z("x",0,0,"valueOf"),ue("x",oe),ue("X",/[+-]?\d+(\.\d{1,3})?/),he("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),he("x",function(e,t,n){n._d=new Date(x(e))}),i.version="2.24.0",t=It,i.fn=bn,i.min=function(){return jt("isBefore",[].slice.call(arguments,0))},i.max=function(){return jt("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=f,i.unix=function(e){return It(1e3*e)},i.months=function(e,t){return Cn(e,t,"months")},i.isDate=c,i.locale=dt,i.invalid=_,i.duration=Gt,i.isMoment=w,i.weekdays=function(e,t,n){return Dn(e,t,n,"weekdays")},i.parseZone=function(){return It.apply(null,arguments).parseZone()},i.localeData=ft,i.isDuration=Rt,i.monthsShort=function(e,t){return Cn(e,t,"monthsShort")},i.weekdaysMin=function(e,t,n){return Dn(e,t,n,"weekdaysMin")},i.defineLocale=mt,i.updateLocale=function(e,t){if(null!=t){var n,i,a=lt;null!=(i=ut(e))&&(a=i._config),(n=new O(t=I(a,t))).parentLocale=st[e],st[e]=n,dt(e)}else null!=st[e]&&(null!=st[e].parentLocale?st[e]=st[e].parentLocale:null!=st[e]&&delete st[e]);return st[e]},i.locales=function(){return S(st)},i.weekdaysShort=function(e,t,n){return Dn(e,t,n,"weekdaysShort")},i.normalizeUnits=$,i.relativeTimeRounding=function(e){return void 0===e?Wn:"function"==typeof e&&(Wn=e,!0)},i.relativeTimeThreshold=function(e,t){return void 0!==Jn[e]&&(void 0===t?Jn[e]:(Jn[e]=t,"s"===e&&(Jn.ss=t-1),!0))},i.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=bn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i},"object"===l(t)&&void 0!==e?e.exports=o():void 0===(a="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=a)}).call(this,n(102)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=$("#scheduler_here"),s={},r=n(63),c={element:null,clicked:!1},u=0;function d(e){$(".unavailable-popup").length&&u!==e.target.scrollTop&&(s.notifyReact(),scheduler.unmarkTimespan(c.element)),u=e.target.scrollTop}function m(e,t,n){var i,a;return c.element=(i=e,a=t,scheduler.markTimespan({css:"resources-block-highlight",days:i,zones:a})),c.clicked=!1,function(e,t,n,i){var a=$(e.currentTarget).length?$(e.currentTarget).offset():{top:0,left:0},o=$(e.target).height(),l=e.pageX-a.left-t,s=e.pageY-a.top,r=0,c=l>n/2?"right":"left",u=s>i/2?"top":"bottom";if(o>i){var d=$(e.target).length?$(e.target).offset():{top:0,left:0};d.top<a.top&&d.top+o>=a.top+i&&(c="left",u="center",r=e.pageY-(o/2+d.top))}return{popUpPosition:"".concat(c," ").concat(u),popUpOffset:r}}(n,n.offsetX,n.currentTarget.clientWidth,n.currentTarget.clientHeight)}function f(e){e.element&&!1===e.clicked&&scheduler.unmarkTimespan(e.element)}function h(e,t,n,i){var a=g(e),o=t.availabilities.data&&(t.availabilities.success||200===t.availabilities.status),l=p("UnavailableByResource"===i?o?t.getUnavailableByResourceBlocksByDate(moment(e).format("YYYY-MM-DD")):n.getUnavailableByResourceBlocks()[moment(e).format("YYYY-MM-DD")]:o?scheduler.invertZones(t.availabilities.data.initial_availability[moment(e).format("YYYY-MM-DD")]):scheduler.invertZones(n.getInitialAvailability()[moment(e).format("YYYY-MM-DD")]),a);return[l[0],l[1]]}function p(e,t){for(var n=0;n<=e.length-2;n+=2)if(t>=e[n]&&t<=e[n+1])return[e[n],e[n+1]];return[]}function g(e){var t=moment(e);return 60*t.hours()+t.minutes()}e.exports=function(e){var t=function(e){var t=scheduler.attachEvent("onMouseMove",function(t,n){var i=e.meetingTypeStore.getActivitySettings(),o=scheduler.getActionData(n).date;if(i&&r.isDefined(i.show_summary)&&i.show_summary.toBoolean()&&window.canViewConflictedSummary)if(function(e){return e.target.className.indexOf("resource-block")>-1}(n)){f(c);var l=function(e,t){var n=g(e),i=p(t.getResourceBlocks(e),n),a=i[0],o=i[1];if(o-a<60)return[a,o];var l=Math.floor((n-a)/60),s=a+60*l,r=s+60;return r>o&&(s=(r=o)-60),[s,r]}(o,e.calendarStore),u=m(o,l,n);window.renderUnavailablePopup(c.element,function(e,t,n,i){var a=n.model,o=[];_.forEach(a.external,function(e,t){o.push(e.uuid)}),_.forEach(a.internal,function(e,t){o.push(e.uuid)});var l=i&&i.getTimeZoneId("primaryTimeZone"),s=l||window.envDetails.event.time_zone;return{user_uuid:o,end_time:t[1],start_time:t[0],date:moment(e).format("DD-MM-YYYY"),room_uuid:a.room.uuid?a.room.uuid:"",time_zone:s,activity_uuid:selectedActivityUuid}}(o,l,e.dataStore,e.onGoingSalesStore),s,a({},u))}else!1===function(e){return"trigger-pointer"===e.target.className}(n)&&f(c);if(function(e){return e.target.className.indexOf("initial-block")>-1}(n)){f(c);var l=h(o,e.calendarStore,e.calendarInitialAvailabilityStore),u=m(o,l,n);window.renderUnavailablePopup(c.element,function(e,t){var n;return n=t.isBoothTourSelected?"booth_tour_initial_availability":t.isOffsiteSelected?"offsite_initial_availability":"room_initial_availability",{unavailableType:"settings",previligedUserData:function(){return{date:moment(e).format("YYYY-MM-DD"),meetingTypeUUid:t.getActivity().uuid,selectedLocation:n}}}}(o,e.meetingTypeStore),s,a({},u))}else if(function(e){return e.target.className.indexOf("unavailable-by-resources-block")>-1}(n)){f(c);var l=h(o,e.calendarStore,e.calendarInitialAvailabilityStore,"UnavailableByResource"),u=m(o,l,n);window.renderUnavailablePopup(c.element,{unavailableType:"resources"},s,a({},u))}});return l.on("mouseleave",function(e){f(c)}),l.on("click",".resources-block-highlight",function(e){}),t}(e);return s={subscribers:[],subscribe:function(e){this.subscribers.push(e)},notifyReact:function(){this.subscribers.forEach(function(e){e()}),this.subscribers=[]},notifyCloseEvent:function(e){scheduler.unmarkTimespan(e)},notifyOpenEvent:function(){c.clicked=!0}},l.find(".dhx_cal_data").on("scroll",_.throttle(d,500)),{PubSubManager:s,event:t}}},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return'<div id="timeZoneInfo" class="prefilled-data">\n    <div class="data-line no-margin">\n    \t<b>'+r("function"==typeof(o=null!=(o=n.gmtStr||(null!=t?t.gmtStr:t))?o:s)?o.call(l,{name:"gmtStr",hash:{},data:a,loc:{start:{line:3,column:8},end:{line:3,column:18}}}):o)+'<span class="font-15">'+r("function"==typeof(o=null!=(o=n.sign||(null!=t?t.sign:t))?o:s)?o.call(l,{name:"sign",hash:{},data:a,loc:{start:{line:3,column:40},end:{line:3,column:48}}}):o)+"</span>"+r("function"==typeof(o=null!=(o=n.timeStr||(null!=t?t.timeStr:t))?o:s)?o.call(l,{name:"timeStr",hash:{},data:a,loc:{start:{line:3,column:55},end:{line:3,column:66}}}):o)+"</b>\n    </div>\n</div>"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){return'   <div class="form-group">\n      <label for="#city-for-time-zone" class="required hide">Timezone</label>\n      <div class="jn-select2">\n         <select required="" class="city-for-time-zone form-control event-model time-zone" id="city-for-time-zone" name="city_for_time_zone">\n         </select>\n      </div>\n   </div>\n   <div class="form-group timezone-gmt js-display-timezone hide"></div>\n'},3:function(e,t,n,i,a){var o;return'   <div class="timezone-label js-display-timezone font-normal">Event timezone</div>\n   <div class="form-group pull-right">\n'+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.current:t,{name:"if",hash:{},fn:e.program(4,a,0),inverse:e.program(6,a,0),data:a,loc:{start:{line:13,column:6},end:{line:17,column:13}}}))?o:"")+'      <div class="jn-select2 hide">\n         <select required="" class="form-control event-model time-zone" id="meeting-time-zone" name="time_zone">\n            <option value="American Samoa">(GMT-11:00) American Samoa</option>\n            <option value="International Date Line West">(GMT-11:00) International Date Line West</option>\n            <option value="Midway Island">(GMT-11:00) Midway Island</option>\n            <option value="Samoa">(GMT-11:00) Samoa</option>\n            <option value="Hawaii">(GMT-10:00) Hawaii</option>\n            <option value="Alaska">(GMT-09:00) Alaska</option>\n            <option value="Pacific Time (US &amp; Canada)">(GMT-08:00) Pacific Time (US &amp; Canada)</option>\n            <option value="Tijuana">(GMT-08:00) Tijuana</option>\n            <option value="Arizona">(GMT-07:00) Arizona</option>\n            <option value="Chihuahua">(GMT-07:00) Chihuahua</option>\n            <option value="Mazatlan">(GMT-07:00) Mazatlan</option>\n            <option value="Mountain Time (US &amp; Canada)">(GMT-07:00) Mountain Time (US &amp; Canada)</option>\n            <option value="Central America">(GMT-06:00) Central America</option>\n            <option value="Central Time (US &amp; Canada)">(GMT-06:00) Central Time (US &amp; Canada)</option>\n            <option value="Guadalajara">(GMT-06:00) Guadalajara</option>\n            <option value="Mexico City">(GMT-06:00) Mexico City</option>\n            <option value="Monterrey">(GMT-06:00) Monterrey</option>\n            <option value="Saskatchewan">(GMT-06:00) Saskatchewan</option>\n            <option value="Bogota">(GMT-05:00) Bogota</option>\n            <option value="Eastern Time (US &amp; Canada)">(GMT-05:00) Eastern Time (US &amp; Canada)</option>\n            <option value="Indiana (East)">(GMT-05:00) Indiana (East)</option>\n            <option value="Lima">(GMT-05:00) Lima</option>\n            <option value="Quito">(GMT-05:00) Quito</option>\n            <option value="Caracas">(GMT-04:30) Caracas</option>\n            <option value="Atlantic Time (Canada)">(GMT-04:00) Atlantic Time (Canada)</option>\n            <option value="Georgetown">(GMT-04:00) Georgetown</option>\n            <option value="La Paz">(GMT-04:00) La Paz</option>\n            <option value="Santiago">(GMT-04:00) Santiago</option>\n            <option value="Newfoundland">(GMT-03:30) Newfoundland</option>\n            <option value="Brasilia">(GMT-03:00) Brasilia</option>\n            <option value="Buenos Aires">(GMT-03:00) Buenos Aires</option>\n            <option value="Greenland">(GMT-03:00) Greenland</option>\n            <option value="Montevideo">(GMT-03:00) Montevideo</option>\n            <option value="Mid-Atlantic">(GMT-02:00) Mid-Atlantic</option>\n            <option value="Azores">(GMT-01:00) Azores</option>\n            <option value="Cape Verde Is.">(GMT-01:00) Cape Verde Is.</option>\n            <option value="Casablanca">(GMT+00:00) Casablanca</option>\n            <option value="Dublin">(GMT+00:00) Dublin</option>\n            <option value="Edinburgh">(GMT+00:00) Edinburgh</option>\n            <option value="Lisbon">(GMT+00:00) Lisbon</option>\n            <option value="London">(GMT+00:00) London</option>\n            <option value="Monrovia">(GMT+00:00) Monrovia</option>\n            <option value="UTC">(GMT+00:00) UTC</option>\n            <option value="Amsterdam">(GMT+01:00) Amsterdam</option>\n            <option value="Belgrade">(GMT+01:00) Belgrade</option>\n            <option value="Berlin">(GMT+01:00) Berlin</option>\n            <option value="Bern">(GMT+01:00) Bern</option>\n            <option value="Bratislava">(GMT+01:00) Bratislava</option>\n            <option value="Brussels">(GMT+01:00) Brussels</option>\n            <option value="Budapest">(GMT+01:00) Budapest</option>\n            <option value="Copenhagen">(GMT+01:00) Copenhagen</option>\n            <option value="Ljubljana">(GMT+01:00) Ljubljana</option>\n            <option value="Madrid">(GMT+01:00) Madrid</option>\n            <option value="Paris">(GMT+01:00) Paris</option>\n            <option value="Prague">(GMT+01:00) Prague</option>\n            <option value="Rome">(GMT+01:00) Rome</option>\n            <option value="Sarajevo">(GMT+01:00) Sarajevo</option>\n            <option value="Skopje">(GMT+01:00) Skopje</option>\n            <option value="Stockholm">(GMT+01:00) Stockholm</option>\n            <option value="Vienna">(GMT+01:00) Vienna</option>\n            <option value="Warsaw">(GMT+01:00) Warsaw</option>\n            <option value="West Central Africa">(GMT+01:00) West Central Africa</option>\n            <option value="Zagreb">(GMT+01:00) Zagreb</option>\n            <option value="Athens">(GMT+02:00) Athens</option>\n            <option value="Bucharest">(GMT+02:00) Bucharest</option>\n            <option value="Cairo">(GMT+02:00) Cairo</option>\n            <option value="Harare">(GMT+02:00) Harare</option>\n            <option value="Helsinki">(GMT+02:00) Helsinki</option>\n            <option value="Istanbul">(GMT+02:00) Istanbul</option>\n            <option value="Jerusalem">(GMT+02:00) Jerusalem</option>\n            <option value="Kyiv">(GMT+02:00) Kyiv</option>\n            <option value="Pretoria">(GMT+02:00) Pretoria</option>\n            <option value="Riga">(GMT+02:00) Riga</option>\n            <option value="Sofia">(GMT+02:00) Sofia</option>\n            <option value="Tallinn">(GMT+02:00) Tallinn</option>\n            <option value="Vilnius">(GMT+02:00) Vilnius</option>\n            <option value="Baghdad">(GMT+03:00) Baghdad</option>\n            <option value="Kaliningrad">(GMT+03:00) Kaliningrad</option>\n            <option value="Kuwait">(GMT+03:00) Kuwait</option>\n            <option value="Minsk">(GMT+03:00) Minsk</option>\n            <option value="Nairobi">(GMT+03:00) Nairobi</option>\n            <option value="Riyadh">(GMT+03:00) Riyadh</option>\n            <option value="Tehran">(GMT+03:30) Tehran</option>\n            <option value="Abu Dhabi">(GMT+04:00) Abu Dhabi</option>\n            <option value="Baku">(GMT+04:00) Baku</option>\n            <option value="Moscow">(GMT+04:00) Moscow</option>\n            <option value="Muscat">(GMT+04:00) Muscat</option>\n            <option value="Samara">(GMT+04:00) Samara</option>\n            <option value="St. Petersburg">(GMT+04:00) St. Petersburg</option>\n            <option value="Tbilisi">(GMT+04:00) Tbilisi</option>\n            <option value="Volgograd">(GMT+04:00) Volgograd</option>\n            <option value="Yerevan">(GMT+04:00) Yerevan</option>\n            <option value="Kabul">(GMT+04:30) Kabul</option>\n            <option value="Islamabad">(GMT+05:00) Islamabad</option>\n            <option value="Karachi">(GMT+05:00) Karachi</option>\n            <option value="Tashkent">(GMT+05:00) Tashkent</option>\n            <option value="Chennai">(GMT+05:30) Chennai</option>\n            <option value="Kolkata">(GMT+05:30) Kolkata</option>\n            <option value="Mumbai">(GMT+05:30) Mumbai</option>\n            <option value="New Delhi">(GMT+05:30) New Delhi</option>\n            <option value="Sri Jayawardenepura">(GMT+05:30) Sri Jayawardenepura</option>\n            <option value="Kathmandu">(GMT+05:45) Kathmandu</option>\n            <option value="Almaty">(GMT+06:00) Almaty</option>\n            <option value="Astana">(GMT+06:00) Astana</option>\n            <option value="Dhaka">(GMT+06:00) Dhaka</option>\n            <option value="Ekaterinburg">(GMT+06:00) Ekaterinburg</option>\n            <option value="Rangoon">(GMT+06:30) Rangoon</option>\n            <option value="Bangkok">(GMT+07:00) Bangkok</option>\n            <option value="Hanoi">(GMT+07:00) Hanoi</option>\n            <option value="Jakarta">(GMT+07:00) Jakarta</option>\n            <option value="Novosibirsk">(GMT+07:00) Novosibirsk</option>\n            <option value="Beijing">(GMT+08:00) Beijing</option>\n            <option value="Chongqing">(GMT+08:00) Chongqing</option>\n            <option value="Hong Kong">(GMT+08:00) Hong Kong</option>\n            <option value="Krasnoyarsk">(GMT+08:00) Krasnoyarsk</option>\n            <option value="Kuala Lumpur">(GMT+08:00) Kuala Lumpur</option>\n            <option value="Perth">(GMT+08:00) Perth</option>\n            <option value="Singapore">(GMT+08:00) Singapore</option>\n            <option value="Taipei">(GMT+08:00) Taipei</option>\n            <option value="Ulaanbaatar">(GMT+08:00) Ulaanbaatar</option>\n            <option value="Urumqi">(GMT+08:00) Urumqi</option>\n            <option value="Irkutsk">(GMT+09:00) Irkutsk</option>\n            <option value="Osaka">(GMT+09:00) Osaka</option>\n            <option value="Sapporo">(GMT+09:00) Sapporo</option>\n            <option value="Seoul">(GMT+09:00) Seoul</option>\n            <option value="Tokyo">(GMT+09:00) Tokyo</option>\n            <option value="Adelaide">(GMT+09:30) Adelaide</option>\n            <option value="Darwin">(GMT+09:30) Darwin</option>\n            <option value="Brisbane">(GMT+10:00) Brisbane</option>\n            <option value="Canberra">(GMT+10:00) Canberra</option>\n            <option value="Guam">(GMT+10:00) Guam</option>\n            <option value="Hobart">(GMT+10:00) Hobart</option>\n            <option value="Melbourne">(GMT+10:00) Melbourne</option>\n            <option value="Port Moresby">(GMT+10:00) Port Moresby</option>\n            <option value="Sydney">(GMT+10:00) Sydney</option>\n            <option value="Yakutsk">(GMT+10:00) Yakutsk</option>\n            <option value="New Caledonia">(GMT+11:00) New Caledonia</option>\n            <option value="Solomon Is.">(GMT+11:00) Solomon Is.</option>\n            <option value="Vladivostok">(GMT+11:00) Vladivostok</option>\n            <option value="Auckland">(GMT+12:00) Auckland</option>\n            <option value="Fiji">(GMT+12:00) Fiji</option>\n            <option value="Kamchatka">(GMT+12:00) Kamchatka</option>\n            <option value="Magadan">(GMT+12:00) Magadan</option>\n            <option value="Marshall Is.">(GMT+12:00) Marshall Is.</option>\n            <option value="Wellington">(GMT+12:00) Wellington</option>\n            <option value="Chatham Is.">(GMT+12:45) Chatham Is.</option>\n            <option value="Nuku\'alofa">(GMT+13:00) Nuku\'alofa</option>\n            <option value="Tokelau Is.">(GMT+13:00) Tokelau Is.</option>\n         </select>\n      </div>\n      <div class="selected-timezone js_tooltip" title="test" data-placement="bottom">test</div>\n   </div>\n'},4:function(e,t,n,i,a){return'      <label for="#meeting-time-zone" class="required hide">Event timezone</label>\n'},6:function(e,t,n,i,a){return'      <label for="#meeting-time-zone" class="required">Timezone</label>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.book_meeting:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:1,column:0},end:{line:172,column:7}}}))?o:""},useData:!0})},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l,s,r,c,u,d,m,f,h=n(85),p=(n(3),l=$("#scheduler_here"),s=$("#legend_expand"),r=$("#legend_view"),c=$("#legend_close"),u=function(){var e={trigger:"hover",placement:"top",container:".iris-bootstrap"};l.find(".primary-timezone").tooltip(a({title:"".concat(window.envDetails.event.timezone_gmt_offset,", ").concat(window.envDetails.event.time_zone_display_name)},e)),l.find(".secondary-timezone").tooltip(a({title:"Timezone"},e))},d=function(){s.removeClass("hide"),r.addClass("hide")},m=function(){s.addClass("hide"),r.removeClass("hide")},f=function(){if("new"!==window.mode||"mascal"!==$.urlParam("from"))return window.meetingInfo.request.view_in_timezone;var e=$.urlParam("start_time"),t=$.urlParam("end_time"),n={endDate:moment(decodeURI(t)).format("YYYY-MM-DDThh:mm:ss"),startDate:moment(decodeURI(e)).format("YYYY-MM-DDThh:mm:ss")};if(!_.isEmpty(window.envDetails.secTimeZoneUserPreference.view_in_timezone))return{time:n,timezone:window.envDetails.secTimeZoneUserPreference.view_in_timezone.timezone};var i=moment.tz.guess();return envDetails.event.timezone_gmt_offset!=="GMT ".concat(moment.tz(i).format("Z"))?{time:n,timezone:{cityName:"".concat(moment.tz(i).format("z"),", GMT ").concat(moment.tz(i).format("Z"),", ").concat(i),timeZoneId:i}}:void 0},{init:function(){r.on("click",d),c.on("click",m),!window.isOngoingSales&&l.find(".primary-timezone").text("".concat(window.envDetails.event.timezone_gmt_offset,", ").concat(window.envDetails.event.time_zone_display_name)),selectedPrimaryZone=envDetails.primaryTimezonePreference,$("#save-timezone").on("click",function(){return $(changeTimezoneModal).modal("hide")})},initViewInTimezone:function(e,t,n,i){if(u(),window.envDetails.showOtherTimezonesAtCalendar){h.init({timeZoneChangeCallback:function(t){e.setViewInTimezoneInfo(t,"timezone")},primaryTimeZoneChangeCallback:function(t){e.setPrimaryTimezoneInfo(t,"timezone")},isExternalWidget:!1,CalendarAvailabilityStore:n,displayTimeZoneField:$(),Store:t,isElePrimaryTimeZone:!1,shouldUpdateTimezoneInStore:!0,timeZoneCityField:$(".secondary-timezone-select"),timeZoneCityContainer:"#select2-city-for-time-zone-container",primaryTimeZoneCityField:$(".primary-timezone-select"),primaryTimeZoneCityContainer:"#select2-primary-city-for-time-zone-container",bmPage:i});var a=f();a&&(a.isElePrimaryTimeZone=!1),h.setViewInTimeZoneField(a||{},e)}},initPrimaryTimezone:function(e,t,n,i){u(),h.init({primaryTimeZoneChangeCallback:function(t){e.setPrimaryTimezoneInfo(t,"timezone")},timeZoneChangeCallback:function(t){e.setViewInTimezoneInfo(t,"timezone")},isExternalWidget:!1,CalendarAvailabilityStore:n,displayTimeZoneField:$(),Store:t,isElePrimaryTimeZone:!0,shouldUpdateTimezoneInStore:!0,primaryTimeZoneCityField:$(".primary-timezone-select"),primaryTimeZoneCityContainer:"#select2-primary-city-for-time-zone-container",timeZoneCityField:$(".secondary-timezone-select"),timeZoneCityContainer:"#select2-city-for-time-zone-container",bmPage:i});var a=meetingInfo.request.primaryTimezoneInfo||{};a&&(a.isElePrimaryTimeZone=!0),h.setPrimaryTimeZoneField(a||{},e)}});e.exports=p},function(e,t,n){var i=n(68),a=n(3),o=n(108),l=Reflux.createStore({init:function(){this.listenToMany(i)},mixins:[o],onFetchUserFormRule:function(e){var t=a.fetch({url:a.ENDPOINTS.fetch_user_form_rules,prefix:a.ENDPOINTS.portal});t.then(function(t){var n={internal:[],external:[]};if(t.data instanceof Array){var i=_.groupBy(t.data,"type");n.internal=this.processData(i.InternalUserFormField),n.external=this.processData(i.ExternalUserFormField)}this.onFetchProfileCustomForm(e,n)}.bind(this)),t[t.fail?"fail":"catch"](function(t){this.onFetchProfileCustomForm(e,{internal:[],external:[]})}.bind(this))},processData:function(e){var t=[];return e instanceof Array&&(t=e.map(function(e){return e.field_info.field_name=e.field_name,e.field_info})),t},onFetchProfileCustomForm:function(e,t){var n=a.fetch({url:a.ENDPOINTS.fetch_portal_custom_form,prefix:a.ENDPOINTS.portal});n.then(function(n){var i=_.groupBy(n.data,"type"),a=_.groupBy(i.UserForm,"name"),o={};_.forEach(a,function(e,t){o[t]=_.head(e).fields}),"undefined"!=typeof jiffle?this.processSfdcFields(e,{standardFields:t,customFields:o}):this.trigger({type:e,standardFields:t,customFields:o})}.bind(this)),n[n.fail?"fail":"catch"](function(n){this.trigger({type:e,standardFields:t,customFields:{internal_custom_form:[],external_custom_form:[]}})}.bind(this))},onFetchModeOfAttendanceWithUser:function(e,t){a.fetch({url:"".concat(a.ENDPOINTS.fetch_moa_info,"?current_location_uuid=").concat(window.envDetails.current_location_uuid,"&user_uuid=").concat(t)}).then(function(t){this.trigger({data:{apiResponse:t.data},type:e})}.bind(this))},onFetchModeOfAttendance:function(e){a.fetch({url:"".concat(a.ENDPOINTS.fetch_moa_info,"?current_location_uuid=").concat(window.envDetails.current_location_uuid)}).then(function(t){this.trigger({data:{apiResponse:t.data},type:e})}.bind(this))}});e.exports=l},function(e,t,n){var i=n(3),a={processSfdcFields:function(e,t){var n=t.customFields,a=t.standardFields,o=_.cloneDeep(n.external_custom_form),l=_.cloneDeep(a.external),s=[];[].push.apply(s,l),[].push.apply(s,o),envDetails.extatt_custom_field_mappings=this.getSFDCFieldMappings(o);var r=i.fetch({url:i.ENDPOINTS.fetch_external_user_form_fields,data:this.getSFDCRequestObj(s)});r.then(function(t){var i=this.processMappingMatrix(t,o);a.external=l,n.external_custom_form=o,this.trigger({type:e,standardFields:a,customFields:n,sfdcDefaults:i})}.bind(this)),r[r.fail?"fail":"catch"](function(t){this.trigger({type:e,standardFields:a,customFields:n})}.bind(this))},processMappingMatrix:function(e,t){var n={};return _.forEach(t,function(t){var i=e.mapped_fields[t.field_name];if(i){var a=i.value;"textfield"===t.type&&(a=""===i.value?t.values:i.value),t.values=i.prefill,n[t.field_name]=a}}),n},getSFDCRequestObj:function(e){var t={mapped_fields:{}};return _.forEach(e,function(e){e.integration_field&&e.integration_field.uuid&&(t.mapped_fields[e.field_name]={value:e.values||"",prefill:"",integration_field_uuid:e.integration_field.uuid})}),t},getSFDCFieldMappings:function(e){var t={};return _.forEach(e,function(e){e.integration_field&&e.integration_field.uuid&&(t[e.integration_field.uuid]=e.field_name)}),t}};e.exports=a},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,n,i,a){return" hide "},3:function(e,t,n,i,a){return"required"},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.lambda,u=e.escapeExpression;return'<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:23},end:{line:1,column:75}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:2,column:16},end:{line:2,column:73}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.display_name:s,t))+'</label>\n  <input type="email" name="email" class="form-control"\n  placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:4,column:49},end:{line:4,column:106}}}))?s:"")+'>\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:8,column:23},end:{line:8,column:80}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:9,column:16},end:{line:9,column:78}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.display_name:s,t))+'</label>\n  <input type="text" name="first_name" class="form-control"\n  placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:11,column:54},end:{line:11,column:116}}}))?s:"")+'>\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:15,column:23},end:{line:15,column:79}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:16,column:16},end:{line:16,column:77}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.display_name:s,t))+'</label>\n  <input type="text" name="last_name" class="form-control"\n  placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:18,column:53},end:{line:18,column:114}}}))?s:"")+'>\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:22,column:23},end:{line:22,column:80}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:23,column:16},end:{line:23,column:78}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.display_name:s,t))+'</label>\n  <input type="text" name="contact_no" class="form-control" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:24,column:112},end:{line:24,column:174}}}))?s:"")+'>\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:28,column:23},end:{line:28,column:82}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:29,column:16},end:{line:29,column:80}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.display_name:s,t))+'</label>\n  <input type="text" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:30,column:21},end:{line:30,column:85}}}))?s:"")+' name="company_name" class="form-control" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.placeholder:s,t))+'" value="">\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:34,column:23},end:{line:34,column:75}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:35,column:16},end:{line:35,column:73}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.display_name:s,t))+'</label>\n  <input type="text" name="title" class="form-control" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:36,column:102},end:{line:36,column:159}}}))?s:"")+'>\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.help_text:s,t))+"</span>\n</div>\n\n"+(null!=(s=e.invokePartial(n(69),t,{name:"_mode_of_attendance",data:l,helpers:i,partials:o,decorators:e.decorators}))?s:"")},usePartial:!0,useData:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,n,i,a){return" hide "},3:function(e,t,n,i,a){return"required"},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.lambda,u=e.escapeExpression;return'\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:2,column:23},end:{line:2,column:75}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:3,column:16},end:{line:3,column:73}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.display_name:s,t))+'</label>\n  <input type="email" id="email" name="email" class="form-control"\n  placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:5,column:49},end:{line:5,column:106}}}))?s:"")+'>\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.help_text:s,t))+'</span>\n</div>\n\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.alias_users:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:10,column:23},end:{line:10,column:81}}}))?s:"")+'">\n  <label class="control-label '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.alias_users:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:11,column:30},end:{line:11,column:93}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.alias_users:s)?s.display_name:s,t))+'</label>\n  <input type="text" id="aliasEmail" name="alias_users" class="form-control"\n  placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.alias_users:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.alias_users:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:13,column:55},end:{line:13,column:118}}}))?s:"")+'>\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.alias_users:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:17,column:23},end:{line:17,column:80}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:18,column:16},end:{line:18,column:78}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.display_name:s,t))+'</label>\n  <input type="text" id="first_name" name="first_name" class="form-control"\n  placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:20,column:54},end:{line:20,column:116}}}))?s:"")+'>\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:24,column:23},end:{line:24,column:79}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:25,column:16},end:{line:25,column:77}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.display_name:s,t))+'</label>\n  <input type="text" id="last_name" name="last_name" class="form-control"\n  placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:27,column:53},end:{line:27,column:114}}}))?s:"")+'>\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:31,column:23},end:{line:31,column:80}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:32,column:16},end:{line:32,column:78}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.display_name:s,t))+'</label>\n  <input type="text" id="contact_no" name="contact_no" class="form-control" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:33,column:128},end:{line:33,column:190}}}))?s:"")+'>\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:37,column:23},end:{line:37,column:82}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:38,column:16},end:{line:38,column:80}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.display_name:s,t))+'</label>\n  <input type="text" id="company_name" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:39,column:39},end:{line:39,column:103}}}))?s:"")+' name="company_name" class="form-control" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.placeholder:s,t))+'" value="">\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:43,column:23},end:{line:43,column:75}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:44,column:16},end:{line:44,column:73}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.display_name:s,t))+'</label>\n  <input type="text" id="title" name="title" class="form-control" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:45,column:113},end:{line:45,column:170}}}))?s:"")+'>\n  <span class="jn-help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.help_text:s,t))+"</span>\n</div>\n\n"+(null!=(s=e.invokePartial(n(69),t,{name:"_mode_of_attendance",data:l,helpers:i,partials:o,decorators:e.decorators}))?s:"")},usePartial:!0,useData:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.lambda,u=e.escapeExpression;return'        <div class="form-group js-name-input inline hide">\n          <label class="inline '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:13,column:31},end:{line:13,column:93}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.display_name:s,t))+'</label>\n          <input type="text" class="form-control inline user-field edit-field" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:14,column:79},end:{line:14,column:141}}}))?s:"")+' value="'+u(c(null!=(s=null!=t?t.userDetails:t)?s.first_name:s,t))+'" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.placeholder:s,t))+'" name="first_name" id="first_name">\n          <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.help_text:s,t))+"</span>\n        </div>\n"},2:function(e,t,n,i,a){return"required"},4:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.lambda,u=e.escapeExpression;return'        <div class="form-group js-name-input inline hide">\n          <label class="inline '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:20,column:31},end:{line:20,column:92}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.display_name:s,t))+'</label>\n          <input type="text" class="form-control inline edit-field" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:21,column:68},end:{line:21,column:129}}}))?s:"")+' value="'+u(c(null!=(s=null!=t?t.userDetails:t)?s.last_name:s,t))+'" name="last_name" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.placeholder:s,t))+'" id="last_name">\n          <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.help_text:s,t))+"</span>\n        </div>\n"},6:function(e,t,n,i,a){var o;return" "+e.escapeExpression(e.lambda(null!=(o=null!=t?t.userDetails:t)?o.first_name:o,t))+" "},8:function(e,t,n,i,a){var o;return" "+e.escapeExpression(e.lambda(null!=(o=null!=t?t.userDetails:t)?o.last_name:o,t))+" "},10:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.lambda,u=e.escapeExpression;return'      <div class="form-group js-email-label inline hide">\n        <label class="inline '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:35,column:29},end:{line:35,column:86}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.display_name:s,t))+'</label>\n        <input name="email" id="email" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:36,column:39},end:{line:36,column:96}}}))?s:"")+' type="text" class="form-control inline edit-field" value="'+u(c(null!=(s=null!=t?t.userDetails:t)?s.email:s,t))+'">\n        <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.help_text:s,t))+"</span>\n      </div>\n"},12:function(e,t,n,i,a){return" hide "},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.lambda,u=e.escapeExpression;return'<div class="scroll-x">\n  <div class="pull-left">\n    <div class="form-group inline">\n      <div class="user-profile-jif">\n       <i class="jif-user-circle-o jif-light-grey"></i>\n      </div>\n    </div>\n  </div>\n  <div class="pull-left">\n    <div class="form-group-display">\n'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.show:s,{name:"isTrue",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:11,column:6},end:{line:17,column:17}}}))?s:"")+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.show:s,{name:"isTrue",hash:{},fn:e.program(4,l,0),inverse:e.noop,data:l,loc:{start:{line:18,column:6},end:{line:24,column:17}}}))?s:"")+'      <label class="text-lg js-name-label user-label">\n      '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.show:s,{name:"isTrue",hash:{},fn:e.program(6,l,0),inverse:e.noop,data:l,loc:{start:{line:26,column:6},end:{line:26,column:83}}}))?s:"")+"\n      "+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.show:s,{name:"isTrue",hash:{},fn:e.program(8,l,0),inverse:e.noop,data:l,loc:{start:{line:27,column:6},end:{line:27,column:81}}}))?s:"")+'</label>\n      <a href="javascript:void(0)" class="edit-user js-name-label user-name-edit">\n        <i class="jif-pencil jif-blue jif-18"></i>\n      </a>\n    </div>\n    <div class="form-group-display">\n'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.show:s,{name:"isTrue",hash:{},fn:e.program(10,l,0),inverse:e.noop,data:l,loc:{start:{line:33,column:6},end:{line:39,column:17}}}))?s:"")+'      <span name="email" id="email-field" class="text-lowercase">'+u(c(null!=(s=null!=t?t.userDetails:t)?s.email:s,t))+'</span>\n      <a href="javascript:void(0)" class="hide">\n        <i class="jif-pencil jif-blue jif-18"></i>\n      </a>\n    </div>\n  </div>\n</div>\n\n<div class="row">\n  <div class="col-md-5">\n    <div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.alias_users:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l,loc:{start:{line:50,column:27},end:{line:50,column:85}}}))?s:"")+'" data-form-i18n="alias_email">\n      <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.alias_users:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:51,column:20},end:{line:51,column:83}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.alias_users:s)?s.display_name:s,t))+'</label>\n      <input type="text" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.alias_users:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:52,column:25},end:{line:52,column:88}}}))?s:"")+' id="aliasEmail" name="alias_email" class="form-control" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.alias_users:s)?s.placeholder:s,t))+'"\n       value="'+u(a(n(112)).call(r,null!=(s=null!=t?t.userDetails:t)?s.alias_users:s,{name:"alias_users",hash:{},data:l,loc:{start:{line:53,column:14},end:{line:53,column:53}}}))+'">\n       <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.alias_users:s)?s.help_text:s,t))+'</span>\n    </div>\n    <div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l,loc:{start:{line:56,column:27},end:{line:56,column:84}}}))?s:"")+'" data-form-i18n="phone">\n      <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:57,column:20},end:{line:57,column:82}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.display_name:s,t))+'</label>\n      <input type="text" id="contact_no" name="contact_no" class="form-control edit-field" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:58,column:143},end:{line:58,column:205}}}))?s:"")+' value="'+u(c(null!=(s=null!=t?t.userDetails:t)?s.contact_no:s,t))+'">\n      <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.help_text:s,t))+'</span>\n    </div>\n    <div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l,loc:{start:{line:61,column:27},end:{line:61,column:79}}}))?s:"")+'" data-form-i18n="title">\n      <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:62,column:20},end:{line:62,column:77}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.display_name:s,t))+'</label>\n      <input type="text" id="title" name="title" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:63,column:49},end:{line:63,column:106}}}))?s:"")+' class="form-control edit-field" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.placeholder:s,t))+'" value="'+u(c(null!=(s=null!=t?t.userDetails:t)?s.title:s,t))+'">\n      <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.help_text:s,t))+'</span>\n    </div>\n    <div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l,loc:{start:{line:66,column:27},end:{line:66,column:86}}}))?s:"")+'" data-form-i18n="company">\n      <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:67,column:20},end:{line:67,column:84}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.display_name:s,t))+'</label>\n      <input type="text" id="company_name" name="company_name" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:68,column:63},end:{line:68,column:127}}}))?s:"")+' class="form-control edit-field" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.placeholder:s,t))+'" value="'+u(c(null!=(s=null!=t?t.userDetails:t)?s.company_name:s,t))+'">\n      <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.help_text:s,t))+"</span>\n    </div>\n  </div>\n</div>"},useData:!0})},function(e,t){e.exports=function(e){return e&&e.email&&e.email.length>0?new Handlebars.SafeString(e.email.join(",")):""}},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,n,i,a){return" hide "},3:function(e,t,n,i,a){return"required"},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.lambda,u=e.escapeExpression;return'<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:23},end:{line:1,column:75}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:2,column:16},end:{line:2,column:73}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.display_name:s,t))+'</label>\n  <input type="email" id="email" name="email" class="form-control"\n  placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:4,column:49},end:{line:4,column:106}}}))?s:"")+'>\n  <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.email:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:8,column:23},end:{line:8,column:80}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:9,column:16},end:{line:9,column:78}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.display_name:s,t))+'</label>\n  <input type="text" id="first_name" name="first_name" class="form-control"\n  placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:11,column:54},end:{line:11,column:116}}}))?s:"")+'>\n  <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.first_name:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:15,column:23},end:{line:15,column:79}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:16,column:16},end:{line:16,column:77}}}))?s:"")+' control-label">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.display_name:s,t))+'</label>\n  <input type="text" id="last_name" name="last_name" class="form-control"\n  placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:18,column:53},end:{line:18,column:114}}}))?s:"")+'>\n  <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.last_name:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:22,column:23},end:{line:22,column:80}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:23,column:16},end:{line:23,column:78}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.display_name:s,t))+'</label>\n  <input type="text" id="contact_no" name="contact_no" class="form-control" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:24,column:128},end:{line:24,column:190}}}))?s:"")+'>\n  <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.contact_no:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:28,column:23},end:{line:28,column:82}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:29,column:16},end:{line:29,column:80}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.display_name:s,t))+'</label>\n  <input type="text" id="company_name" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:30,column:39},end:{line:30,column:103}}}))?s:"")+' name="company_name" class="form-control" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.placeholder:s,t))+'" value="">\n  <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.company_name:s)?s.help_text:s,t))+'</span>\n</div>\n\n<div class="form-group '+(null!=(s=a(n(4)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.show:s,{name:"isFalse",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:34,column:23},end:{line:34,column:75}}}))?s:"")+'">\n  <label class="'+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:35,column:16},end:{line:35,column:73}}}))?s:"")+'">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.display_name:s,t))+'</label>\n  <input type="text" id="title" name="title" class="form-control" placeholder="'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.placeholder:s,t))+'" '+(null!=(s=a(n(1)).call(r,null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.mandatory:s,{name:"isTrue",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:36,column:113},end:{line:36,column:170}}}))?s:"")+'>\n  <span class="help-block form-builder-help-block">'+u(c(null!=(s=null!=(s=null!=t?t.formLabels:t)?s.title:s)?s.help_text:s,t))+"</span>\n</div>"},useData:!0})},function(e,t,n){e.exports={handleContextSearchIcon:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"internal",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;"internal"===e?(t.removeClass("hide"),n.addClass("hide")):(t.addClass("hide"),n.removeClass("hide"))},toggleSearchClearIcon:function(e){var t=e.selectedTab,n=void 0===t?"internal":t,i=e.searchText,a=e.contextualSearchFieldInternalIcon,o=e.contextualSearchFieldExternalIcon;"external"===n?i?o.removeClass("jif-iris-search").addClass("jif-iris-cancel-thin"):o.removeClass("jif-iris-cancel-thin").addClass("jif-iris-search"):i?a.removeClass("jif-iris-search").addClass("jif-iris-cancel-thin"):a.removeClass("jif-iris-cancel-thin").addClass("jif-iris-search")},displayNoResultsTemplate:function(e){var t=e.show_add_btn,i=e.support_email,a=e.user_label,o=e.is_search_result,l=e.hide_btn_adim_text,s=void 0!==l&&l;return n(115)({show_add_btn:t,support_email:i,user_label:a,is_search_result:o,hide_btn_adim_text:s})},sortAttendees:function(e){var t=e.attendees;return _.orderBy(t,["available",function(e){return e.first_name.toLowerCase()}],["desc","asc"])},sortAttendeeByHiphen:function(e){return _.sortBy(e,function(e){var t=e.first_name,n=e.last_name;return"-"===t&&"-"===n?1:0})}}},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){return" no-search-result "},3:function(e,t,n,i,a){return" no-event-users "},5:function(e,t,n,i,a){var o;return" <span>"+e.escapeExpression("function"==typeof(o=null!=(o=n.user_label||(null!=t?t.user_label:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"user_label",hash:{},data:a,loc:{start:{line:4,column:39},end:{line:4,column:53}}}):o)+" not found</span> "},7:function(e,t,n,i,a){var o;return' <span>No <span class="text-lowercase">'+e.escapeExpression("function"==typeof(o=null!=(o=n.user_label||(null!=t?t.user_label:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"user_label",hash:{},data:a,loc:{start:{line:4,column:118},end:{line:4,column:132}}}):o)+"</span> added</span> "},9:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression;return'            <button class="btn blue-btn js_tooltip '+(null!=(o=n.if.call(s,null!=t?t.hide_btn_adim_text:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a,loc:{start:{line:6,column:51},end:{line:6,column:90}}}))?o:"")+'" title="'+c("function"==typeof(l=null!=(l=n.user_label||(null!=t?t.user_label:t))?l:r)?l.call(s,{name:"user_label",hash:{},data:a,loc:{start:{line:6,column:99},end:{line:6,column:113}}}):l)+'" id="attendee-addbtn_user" data-target="#add-attendee-modal" data-toggle="modal" >Add '+c("function"==typeof(l=null!=(l=n.user_label||(null!=t?t.user_label:t))?l:r)?l.call(s,{name:"user_label",hash:{},data:a,loc:{start:{line:6,column:200},end:{line:6,column:214}}}):l)+"</button>\n"},10:function(e,t,n,i,a){return" hide "},12:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression;return'            <p class="'+(null!=(o=n.if.call(s,null!=t?t.hide_btn_adim_text:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a,loc:{start:{line:8,column:22},end:{line:8,column:61}}}))?o:"")+' no-users-info">Please contact <a href="mailto:'+c("function"==typeof(l=null!=(l=n.support_email||(null!=t?t.support_email:t))?l:r)?l.call(s,{name:"support_email",hash:{},data:a,loc:{start:{line:8,column:108},end:{line:8,column:125}}}):l)+'" target="_top">'+c("function"==typeof(l=null!=(l=n.support_email||(null!=t?t.support_email:t))?l:r)?l.call(s,{name:"support_email",hash:{},data:a,loc:{start:{line:8,column:141},end:{line:8,column:158}}}):l)+"</a> to add the "+c("function"==typeof(l=null!=(l=n.user_label||(null!=t?t.user_label:t))?l:r)?l.call(s,{name:"user_label",hash:{},data:a,loc:{start:{line:8,column:174},end:{line:8,column:188}}}):l)+".</p> \n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{};return"<div class='no-users-found "+(null!=(o=n.if.call(l,null!=t?t.is_search_result:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:1,column:27},end:{line:1,column:100}}}))?o:"")+'\'>\n    <div class="section-actions">\n        <div class="no-users-img"></div>\n        '+(null!=(o=n.if.call(l,null!=t?t.is_search_result:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.program(7,a,0),data:a,loc:{start:{line:4,column:8},end:{line:4,column:160}}}))?o:"")+" \n"+(null!=(o=n.if.call(l,null!=t?t.show_add_btn:t,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.program(12,a,0),data:a,loc:{start:{line:5,column:8},end:{line:9,column:15}}}))?o:"")+"    </div>\n</div>"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r="function",c=e.escapeExpression;return'<div class="col-sm-10 col-sm-offset-1" data-uuid="'+c(typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:s)===r?o.call(l,{name:"name",hash:{},data:a,loc:{start:{line:3,column:50},end:{line:3,column:58}}}):o)+'">\n  <div class="checkbox">\n    <input type="checkbox" id="'+c(typeof(o=null!=(o=n.uuid||(null!=t?t.uuid:t))?o:s)===r?o.call(l,{name:"uuid",hash:{},data:a,loc:{start:{line:5,column:31},end:{line:5,column:39}}}):o)+"\" class='filter-checkbox' data-uuid='"+c(typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:s)===r?o.call(l,{name:"name",hash:{},data:a,loc:{start:{line:5,column:76},end:{line:5,column:84}}}):o)+"'>\n    <label for=\""+c(typeof(o=null!=(o=n.uuid||(null!=t?t.uuid:t))?o:s)===r?o.call(l,{name:"uuid",hash:{},data:a,loc:{start:{line:6,column:16},end:{line:6,column:24}}}):o)+'">'+c(typeof(o=null!=(o=n.display_name||(null!=t?t.display_name:t))?o:s)===r?o.call(l,{name:"display_name",hash:{},data:a,loc:{start:{line:6,column:26},end:{line:6,column:42}}}):o)+"</label>\n  </div>\n</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,i,a,o){var l,s,r=null!=t?t:e.nullContext||{};return'<div class="col-sm-12"><h5>'+e.escapeExpression((s=n(0),s&&(s.__esModule?s.default:s)).call(r,"role",{name:"t",hash:{},data:o,loc:{start:{line:1,column:27},end:{line:1,column:39}}}))+"</h5></div>\n"+(null!=(l=i.each.call(r,null!=t?t.roles:t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:0},end:{line:9,column:9}}}))?l:"")},useData:!0})},function(e,t,n){var i=n(153),a=n(202),o=n(63),l=function(){var e,t=$("#meeting-notes"),l=$(".notification-modal"),s=$("#fetch-more-notes"),r={entityUuid:"",fetchUrl:"",createUrl:"",mountPoint:""},c={listNotes:function(t){var i=n(203)(function(e){return{headerLabel:i18n.t("note_label",{type:i18n.t("add_note")}),buttonLabel:i18n.t("create"),action:"create",notes:e,visibility:[{name:"mms",displayName:"Meeting Managers",value:!0,disabled:!o.isJmmOrAbove()},{name:"public",displayName:"Public",value:!1}]}}(t));e.html(i)},SuccessNoteCreation:function(e){l.notificationModal({body:i18n.t("note_create_success"),title:i18n.t("success_header"),type:"notification",class:"green",dismiss:function(){u(),t.animate({scrollTop:0},"fast")}})},SuccessNoteUpdation:function(e){l.notificationModal({body:i18n.t("note_update_success"),title:i18n.t("success_header"),type:"notification",class:"green",dismiss:function(){u(),t.animate({scrollTop:0},"fast")}})},onDeleteSuccess:function(e){l.notificationModal({body:e,title:i18n.t("success_header"),type:"notification",class:"green",dismiss:function(){u()}})},onDeleteFailure:function(){l.notificationModal({body:data.message,title:i18n.t("failure_header"),type:"notification",class:"red",dismiss:function(){u()}})}};function u(){var e=m().fetchUrl;i.listNotes(e,1)}var d=function(){a.getCurrentPage()<=a.getTotalPageCount()&&i.listNotes(m().fetchUrl,a.getCurrentPage())};function m(){return r}function f(){$(this).siblings("ul.note-vis-to").toggle()}function h(t){t.preventDefault(),t.stopPropagation();var n=w("create");b(n.note)&&(e.find("#js-create-note-content").val(""),i.createNote(n))}function p(t){g();var i=$(t.currentTarget).data("uuid"),o=$(t.currentTarget).parents().find("#note_"+i).text(),l=n(155)({headerLabel:i18n.t("note_label",{type:i18n.t("edit")}),buttonLabel:i18n.t("update"),action:"update",note_data:o,visibility:a.getNoteVisibilty(i),uuid:i});a.setCurrentEditableNoteUuid(i),$(t.currentTarget).parents(".jn-c-note-block").replaceWith(l),e.find("#js-note-update-module textarea").focusToEnd()}function g(){var t=a.getNoteUuid();if(t){var i=a.getNoteDetails(t),o=n(154)(i);e.find("#js-note-update-module").replaceWith(o)}}function v(t){t.preventDefault(),t.stopPropagation();var n=w("update"),o=a.getNoteUuid(),l=a.getNoteUrl(o).update;_.merge(n,{updateUrl:l}),b(n.note)&&(e.find("#js-update-note-content").val(""),i.updateNote(n))}function y(e){e.preventDefault(),e.stopPropagation();var t=$(e.currentTarget).data("uuid"),n=a.getNoteUrl(t).destroy,o=!1;l.notificationModal({type:"confirmation",class:"blue",title:i18n.t("delete_confirm_heder"),body:i18n.t("delete_confirm_body"),done:function(){o=!0},dismiss:function(){o&&i.deleteNote(n,"onDeleteSuccess","onDeleteFailure")}})}function b(e){return _.trim(e).length>0}function w(t){return{note:e.find("#js-"+t+"-note-content").val(),createUrl:m().createUrl,visibility:M(t)}}function M(e){var t=[];return $("#visibleTo"+e).find(".vis-note:checked~label").each(function(e,n){t.push($(n).text())}),t}return $.fn.focusToEnd=function(){return this.each(function(){var e=$(this).val();$(this).trigger("focus").val("").val(e)})},{init:function(t){!function(e){_.merge(r,e)}(t),function(t){e=$(t.mountPoint)}(t),a.listen(function(e){var t=e.action,n=c[t];_.isFunction(n)&&n(e.data)}),e.on("click","#js-create-note",h),e.on("click","#js-edit-note",p),e.on("click",".close-edit-note",g),e.on("click","#js-update-note",v),e.on("click","#js-delete-note",y),e.on("click",".note-visibility",f),$(document).on("appear","#fetch-more-notes",d),$(document).on("click",function(e){$(e.target).is(":not(.multiselect-close *)")&&$(e.currentTarget).find(".note-vis-to").hide()}),u(),s.appear()}}}();e.exports=l},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r="function",c=e.escapeExpression;return'\t<li>\n      <div class="activity" id="'+c(typeof(o=null!=(o=n.uuid||(null!=t?t.uuid:t))?o:s)===r?o.call(l,{name:"uuid",hash:{},data:a,loc:{start:{line:3,column:32},end:{line:3,column:40}}}):o)+'" data-url="'+c(typeof(o=null!=(o=n.meeting_url||(null!=t?t.meeting_url:t))?o:s)===r?o.call(l,{name:"meeting_url",hash:{},data:a,loc:{start:{line:3,column:52},end:{line:3,column:67}}}):o)+'" data-redirect-url="'+c(typeof(o=null!=(o=n.redirect_url||(null!=t?t.redirect_url:t))?o:s)===r?o.call(l,{name:"redirect_url",hash:{},data:a,loc:{start:{line:3,column:88},end:{line:3,column:104}}}):o)+'" data-template-url="'+c(typeof(o=null!=(o=n.template_url||(null!=t?t.template_url:t))?o:s)===r?o.call(l,{name:"template_url",hash:{},data:a,loc:{start:{line:3,column:125},end:{line:3,column:141}}}):o)+'" data-activity-source="'+c(typeof(o=null!=(o=n.source||(null!=t?t.source:t))?o:s)===r?o.call(l,{name:"source",hash:{},data:a,loc:{start:{line:3,column:165},end:{line:3,column:175}}}):o)+'">\n        <div class="activity-icon">\n          <i class="'+c(typeof(o=null!=(o=n.icon_url||(null!=t?t.icon_url:t))?o:s)===r?o.call(l,{name:"icon_url",hash:{},data:a,loc:{start:{line:5,column:20},end:{line:5,column:32}}}):o)+' jif-dark-grey jif-34"></i>\n        </div>\n        <div class="activity-name">\n        \t<div title="'+c(typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:s)===r?o.call(l,{name:"name",hash:{},data:a,loc:{start:{line:8,column:21},end:{line:8,column:29}}}):o)+'">'+c(typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:s)===r?o.call(l,{name:"name",hash:{},data:a,loc:{start:{line:8,column:31},end:{line:8,column:39}}}):o)+"</div>\n        </div>\n      </div>\n    </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return null!=(o=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.meetingTypes:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:12,column:9}}}))?o:""},useData:!0})},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){var e=$(".reason-modal"),t={successCallback:function(){},dismissCallback:function(){}},i=n(208);function o(n){if(n.preventDefault(),"function"==typeof t.successCallback){var i=e.find("#reason").val();t.successCallback(i)}s()}function l(e){e.preventDefault(),"function"==typeof t.dismissCallback&&t.dismissCallback(),s()}function s(){e.modal("hide")}return{init:function(){e.on("click",".proceed",o),e.on("click",".cancel",l)},show:function(n){t=a(a({},t),n);var o=i(n);e.find(".modal-content").html(o),e.modal("show")}}}();e.exports=l},function(e,t){e.exports=function(e,t){return!1!==e?t.fn(this):t.inverse(this)}},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.escapeExpression,u=e.hooks.helperMissing;return'\t<div class="selected-title">\n\t  '+c(a(n(0)).call(r,"selected_location",{name:"t",hash:{},data:l,loc:{start:{line:3,column:3},end:{line:3,column:28}}}))+'\n\t</div>\n\t<span class="blue" title="'+c("function"==typeof(s=null!=(s=i.name||(null!=t?t.name:t))?s:u)?s.call(r,{name:"name",hash:{},data:l,loc:{start:{line:5,column:27},end:{line:5,column:35}}}):s)+'">'+c("function"==typeof(s=null!=(s=i.name||(null!=t?t.name:t))?s:u)?s.call(r,{name:"name",hash:{},data:l,loc:{start:{line:5,column:37},end:{line:5,column:45}}}):s)+'</span><br/>\n\t<span title="'+c("function"==typeof(s=null!=(s=i.address||(null!=t?t.address:t))?s:u)?s.call(r,{name:"address",hash:{},data:l,loc:{start:{line:6,column:14},end:{line:6,column:25}}}):s)+'">'+c("function"==typeof(s=null!=(s=i.address||(null!=t?t.address:t))?s:u)?s.call(r,{name:"address",hash:{},data:l,loc:{start:{line:6,column:27},end:{line:6,column:38}}}):s)+"</span>\n"},3:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.escapeExpression,u=e.hooks.helperMissing;return'\t<div class="selected-title">\n\t\t'+c(a(n(0)).call(r,"selected_location",{name:"t",hash:{},data:l,loc:{start:{line:9,column:2},end:{line:9,column:27}}}))+'\n\t</div>\n\t<span class="blue two-line-ellipsis" title="'+c("function"==typeof(s=null!=(s=i.name||(null!=t?t.name:t))?s:u)?s.call(r,{name:"name",hash:{},data:l,loc:{start:{line:11,column:45},end:{line:11,column:53}}}):s)+'">'+c("function"==typeof(s=null!=(s=i.name||(null!=t?t.name:t))?s:u)?s.call(r,{name:"name",hash:{},data:l,loc:{start:{line:11,column:55},end:{line:11,column:63}}}):s)+'</span><br/>\n\t<span class="blue two-line-ellipsis small" title="'+c("function"==typeof(s=null!=(s=i.room_name||(null!=t?t.room_name:t))?s:u)?s.call(r,{name:"room_name",hash:{},data:l,loc:{start:{line:12,column:51},end:{line:12,column:64}}}):s)+'">'+c("function"==typeof(s=null!=(s=i.room_name||(null!=t?t.room_name:t))?s:u)?s.call(r,{name:"room_name",hash:{},data:l,loc:{start:{line:12,column:66},end:{line:12,column:79}}}):s)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.offsite:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(3,a,0),data:a,loc:{start:{line:1,column:0},end:{line:13,column:7}}}))?o:""},useData:!0})},function(e,t){e.exports=function(){var e=arguments[0],t=arguments[1]||arguments[2]||arguments[3]&&arguments[4]||arguments[5]||arguments[6]||arguments[7];t=e&&t;var n=_.last(arguments);return t?n.fn(this):n.inverse(this)}},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression;return'  <span class="blue">'+u("function"==typeof(s=null!=(s=i.start_time||(null!=t?t.start_time:t))?s:c)?s.call(r,{name:"start_time",hash:{},data:l,loc:{start:{line:6,column:21},end:{line:6,column:35}}}):s)+" "+u(a(n(0)).call(r,"TO",{name:"t",hash:{},data:l,loc:{start:{line:6,column:36},end:{line:6,column:46}}}))+" "+u("function"==typeof(s=null!=(s=i.end_time||(null!=t?t.end_time:t))?s:c)?s.call(r,{name:"end_time",hash:{},data:l,loc:{start:{line:6,column:47},end:{line:6,column:59}}}):s)+'</span><br/>\n  <span class="break-word">'+u("function"==typeof(s=null!=(s=i.event_date||(null!=t?t.event_date:t))?s:c)?s.call(r,{name:"event_date",hash:{},data:l,loc:{start:{line:7,column:27},end:{line:7,column:41}}}):s)+"</span>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{};return'<div class="selected-title">\n    '+e.escapeExpression(a(n(0)).call(r,"selected_time",{name:"t",hash:{},data:l,loc:{start:{line:2,column:4},end:{line:2,column:25}}}))+"\n</div>\n\n"+(null!=(s=i.if.call(r,null!=t?t.display:t,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:5,column:0},end:{line:8,column:7}}}))?s:"")},useData:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l){var s;return"\t<p>"+(null!=(s=a(n(19)).call(null!=t?t:e.nullContext||{},null!=(s=null!=t?t.configs:t)?s.consecutive_meeting_instructions_body:s,{name:"i18nSafeString",hash:{},data:l,loc:{start:{line:5,column:4},end:{line:5,column:70}}}))?s:"")+"</p>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{};return'<div class="instruction-header">'+(null!=(s=a(n(19)).call(r,null!=(s=null!=t?t.configs:t)?s.book_meeting_instructions_header:s,{name:"i18nSafeString",hash:{},data:l,loc:{start:{line:1,column:32},end:{line:1,column:93}}}))?s:"")+'</div>\n<div class="instruction-body">\n\t<p>'+(null!=(s=a(n(19)).call(r,null!=(s=null!=t?t.configs:t)?s.book_meeting_instructions_body:s,{name:"i18nSafeString",hash:{},data:l,loc:{start:{line:3,column:4},end:{line:3,column:63}}}))?s:"")+"</p>\n"+(null!=(s=i.if.call(r,null!=t?t.isConsecutiveMeeting:t,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:4,column:1},end:{line:6,column:8}}}))?s:"")+'</div>\n<label for="ac-1" class="instruction-close">\n<i class="jif-iris-cancel-thin"></i>\n</label>\n'},useData:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression;return'<div class="room-item room-selected active js-remove-selected-nonjmm-mstRoom unselect-enable cursor-pointer">\n  <div class="room-selected-icon">\n    <i class="jif-check"></i>\n  </div>\n  <div class="room-detail">\n    <div class="room-name">\n        <span title="'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:r)?l.call(s,{name:"name",hash:{},data:a,loc:{start:{line:8,column:21},end:{line:8,column:29}}}):l)+'">'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:r)?l.call(s,{name:"name",hash:{},data:a,loc:{start:{line:8,column:31},end:{line:8,column:39}}}):l)+"</span>\n    </div>\n"+(null!=(o=n.if.call(s,null!=t?t.showRoomDetails:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:10,column:4},end:{line:19,column:11}}}))?o:"")+"  </div>\n  </div>\n</div>\n"},2:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{};return'    <div class="room-detail-cont">\n'+(null!=(o=n.if.call(l,null!=t?t.capacity:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:12,column:6},end:{line:14,column:13}}}))?o:"")+(null!=(o=n.if.call(l,null!=t?t.mm_only:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a,loc:{start:{line:15,column:6},end:{line:17,column:13}}}))?o:"")+"    </div>\n"},3:function(e,t,i,o,l){return'        <span class="room-capacity">'+e.escapeExpression(a(n(20)).call(null!=t?t:e.nullContext||{},t,{name:"tr",hash:{count:null!=t?t.capacity:t,key:"room_capacity"},data:l,loc:{start:{line:13,column:36},end:{line:13,column:82}}}))+"</span>\n"},5:function(e,t,i,o,l){return'        <span class="room-status">'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"mm_only",{name:"t",hash:{},data:l,loc:{start:{line:16,column:34},end:{line:16,column:49}}}))+"</span>\n"},7:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression;return'<div class="room-selected active '+(null!=(o=n.if.call(s,null!=t?t.isBoothTour:t,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.program(10,a,0),data:a,loc:{start:{line:24,column:33},end:{line:24,column:102}}}))?o:"")+" "+(null!=(o=n.if.call(s,null!=t?t.isBoothTour:t,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:24,column:103},end:{line:24,column:160}}}))?o:"")+" "+(null!=(o=n.if.call(s,null!=t?t.isMstEditFlow:t,{name:"if",hash:{},fn:e.program(14,a,0),inverse:e.noop,data:a,loc:{start:{line:24,column:161},end:{line:24,column:204}}}))?o:"")+'">\n  <div class="room-selected-icon">\n    <i class="jif-check"></i>\n  </div>\n\t<div class="offsite-detail">\n\t\t<div class="type-title text-ellipsis">'+c("function"==typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:r)?l.call(s,{name:"name",hash:{},data:a,loc:{start:{line:29,column:40},end:{line:29,column:48}}}):l)+'</div>\n\t\t<div class="type-detail">\n\t\t\t<span class="boothtour-address">ADDRESS</span>\n\t\t\t<span class="boothtour-detail">'+c("function"==typeof(l=null!=(l=n.address||(null!=t?t.address:t))?l:r)?l.call(s,{name:"address",hash:{},data:a,loc:{start:{line:32,column:34},end:{line:32,column:45}}}):l)+'</span>\n\t\t</div>\n\t</div>\n\t<i class="jif-iris-boothtour booth-tour-icon js_tooltip" title="'+c("function"==typeof(l=null!=(l=n.boothTourCustomLabel||(null!=t?t.boothTourCustomLabel:t))?l:r)?l.call(s,{name:"boothTourCustomLabel",hash:{},data:a,loc:{start:{line:35,column:65},end:{line:35,column:89}}}):l)+'" data-placement="left"></i>\n'+(null!=(o=n.unless.call(s,null!=t?t.isBoothTour:t,{name:"unless",hash:{},fn:e.program(16,a,0),inverse:e.noop,data:a,loc:{start:{line:36,column:1},end:{line:41,column:12}}}))?o:"")+"</div>\n"},8:function(e,t,n,i,a){return" booth-tour-item "},10:function(e,t,n,i,a){return" selected-offsite "},12:function(e,t,n,i,a){return" js-remove-selected-booth-tour "},14:function(e,t,n,i,a){return" edit-disabled "},16:function(e,t,i,o,l){return'\t<div class="icon-box btn-reset edit-offsite">\n\t\t<i class="jif-pencil"></i>\n\t\t<div class="font-10">'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"edit",{name:"t",hash:{},data:l,loc:{start:{line:39,column:23},end:{line:39,column:35}}}))+"</div>\n\t</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.mstNonJmm:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.program(7,a,0),data:a,loc:{start:{line:1,column:0},end:{line:43,column:7}}}))?o:""},useData:!0})},function(e,t,n){var i=n(62),a=n(17),o=n(31),l=function(){var e,t=$("#account-opportunity"),n=$(".js-meeting-with"),l=t.find("#select_account"),s=t.find("#select_opportunity"),r=$(".notification-modal"),c={showErrors:m,showdefaultdetails:function(e){h(e.account_id,e.name);var t=0!=e.opportunities.length?e.opportunities[0]:null;t&&t.opportunity_id===a.selectedOpportunity.id?(v(t.opportunity_id,t.name),a.updateOpptySelection(t.opportunity_id,t.name)):v()}};function u(){$(s).closest(".opportunity").parent().addClass("hide"),$(t).parent().removeClass().addClass("col-xs-3"),$(t).find(".account").parent().removeClass().addClass("col-xs-12")}function d(e,t){a.updateAccountSelection(e,t),"undefined"!=typeof jiffle&&i.refreshContactList()}function m(e){e=_.flatten(_.values(e));r.notificationModal({class:"red",timeout:!0,title:i18n.t("account_oppty_error_title"),body:e.join(", ")})}function f(e,t){h("-1",e),v("-1",t);var n=window.currentMeetingInfo.request.custom_fields;n.meeting_account_id&&a.updateAccountSelection(n.meeting_account_id,e),n.meeting_opportunity_id&&a.updateOpptySelection(n.meeting_opportunity_id,t),"edit"===window.currentMeetingInfo.request.mode&&(l.prop("disabled",!0),_.isEmpty(n.meeting_account_id)&&s.prop("disabled",!0))}function h(e,t,n){var i={type:"account",placeholder:envDetails.sfdcCustomLabels.account_placeholder};e&&t&&(i.initSelection=function(n,i){n.html($("<option/>").val(e).text(t)),i({id:e,text:t})}),$("a","li#meetingWithInfo").text(t);l.select2(y(i));$("#meeting_with").val(t).prop("disabled",window.Boolean(t)),$("#req_page_meeting_with").val(t).prop("disabled",window.Boolean(t)),n&&(d(e,t),p(e,t))}function p(e,t){$("#meeting_account_id").val(e),$("#meeting_with").val(t).prop("disabled",window.Boolean(t)),$("#req_page_meeting_with").val(t).prop("disabled",window.Boolean(t))}function g(e){$("#meeting_opportunity_id").val(e)}function v(e,t){var n={type:"opportunity",placeholder:envDetails.sfdcCustomLabels.opportunity_placeholder};e&&t&&(n.initSelection=function(n,i){n.html($("<option/>").val(e).text(t)),i({id:e,text:t})}),s.find("option").remove(),s.select2(y(n))}function y(e){var t={allowClear:!0,minimumInputLength:3,placeholder:e.placeholder};return t.ajax={data:function(e){return{id:"-",name:e.term,account_id:a.selectedAccount.id||"",opportunity_id:a.selectedOpportunity.id||"",originate:envDetails.event.event_system_name,activity_uuid:window.selectedActivityUuid}},delay:256,transport:function(t,n,i){var o;return(o="account"==e.type?a.onFetchAccounts(t.data):a.onFetchOppoprunity(t.data)).then(n),o[o.fail?"fail":"catch"](i),o},processResults:function(t){var n="storeAccountDetails",i="accounts",o="account_id",l=[];"account"!==e.type&&(n="storeOpptyDetails",i="opportunities",o="opportunity_id");var s=t.data&&t.data[i]||[];return a[n](s),s.length&&(l=s.map(function(e){return{id:e[o],text:e.name}})),{results:l}}},e.initSelection&&(t.initSelection=e.initSelection),t}return{init:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e=l.consecutiveMeetingsMainStore,"undefined"!=typeof jiffle||envDetails.bookMeetingWithAccOpp){if(window.currentMeetingInfo=envDetails.isBookSession?window.nominationInfo:window.meetingInfo,"undefined"==typeof jiffle&&(window.currentMeetingInfo.request.mode=window.mode),t.parent().removeClass("hide"),n.parent().addClass("hide"),[o,a].forEach(function(e){e.listen(function(e){var t=c[e.type];t&&t(e.data)})}),"edit"===window.currentMeetingInfo.request.mode||"new"===window.currentMeetingInfo.request.mode&&window.currentMeetingInfo.meetingUUID){var s,r="",_="",y=window.currentMeetingInfo.request.custom_fields;y.meeting_opportunity_id?((s=a.onFetchOppoprunity({opportunity_id:y.meeting_opportunity_id,name:"",originate:envDetails.event.event_system_name})).then(function(e){data=e.data,opportunity=data&&data.opportunities&&data.opportunities.length&&data.opportunities[0]||{},r=opportunity.name,f(_=opportunity.account&&opportunity.account.name,r)}),s[s.fail?"fail":"catch"](function(e){m(e.responseJSON.errors)})):y.meeting_account_id?((s=a.onFetchAccounts({account_id:y.meeting_account_id,name:"",originate:envDetails.event.event_system_name})).then(function(e){r="No Selection",_=e.data&&e.data.accounts&&e.data.accounts.length&&e.data.accounts[0].name||"",envDetails.isConsecutiveMeeting&&a.setSelectedAccount(e.data.accounts[0]),f(_,r)}),s[s.fail?"fail":"catch"](function(e){m(e.responseJSON.errors)})):f(_=window.meetingInfo.request.meeting_with||"No Selection",r="No Selection")}else a.selectedAccount.id?i.fetchAccount():(h(),v());var b,w,M,x,C,D,k,S;t.on("change","#select_account",function(t){var n=$(this).find("option:selected"),i=n.val()||"",o=n.text()||"";v(),g(""),a.updateOpptySelection("",""),$("a","li#meetingWithInfo").text(o),d(i,o),p(i,o),envDetails.isConsecutiveMeeting&&e&&e.updateSFDCValues()}),t.on("change","#select_opportunity",function(e){var t=$(this).find("option:selected"),n=t.val()||"",i=t.text()||"";if(a.updateOpptySelection(n,i),g(n),t.length&&!a.selectedAccount.id){var o=a.getAccountInfo(t.val())||{};h(o.account.account_id,o.account&&o.account.name,!0)}}),"undefined"!=typeof jiffle&&(b=window.location.search,w=new RegExp("[?&]accid=([^&#]*)").exec(b),M=new RegExp("[?&]oppid=([^&#]*)").exec(b),x=new RegExp("[?&]lead_ids=([^&#]*)").exec(b),C=window.currentMeetingInfo,"edit"===(D=C&&C.request).mode?envDetails.hideOpportunityInAccountsFlow&&!D.custom_fields.meeting_opportunity_id&&u():w&&envDetails.hideOpportunityInAccountsFlow&&!M?u():envDetails.hideOpportunityInJNMeetingFlow&&!(w||M||x)&&u()),k=envDetails.sfdcCustomLabels&&envDetails.sfdcCustomLabels.account_label,S=envDetails.sfdcCustomLabels&&envDetails.sfdcCustomLabels.opportunity_label,t.find(".account").find("label").text(k).attr("title",k),t.find(".opportunity").find("label").text(S).attr("title",S),t.tooltip({trigger:"hover",selector:".js_tooltip"})}}}}();e.exports=l},function(e,t,n){var i=n(82),a=n(128),o=n(12),l=function(){var e,t,l,s=$(".copy-customer-info"),r=$(".js-meeting-search"),c=$(".import-customer-info"),u="hh:mm A",d="ddd, MMM D, YYYY",m="YYYY-MM-DD HH:mm A",f=$(".notification-modal"),h=$("#copy_customer_info_modal"),p=$("#copy_meeting_list"),g=$("#dynamic_form"),v=!0;var y={onFetchMeetingsSuccess:function(t){i=t,_.forEach(i,function(e){e.startTime=moment(e.start_time,m).format(u),e.endTime=moment(e.end_time,m).format(u),e.meetingDate=moment(e.start_time,m).format(d)});var i;var o=n(130)({meetingList:t,showParticipants:a.getCopyAttendeeState()});p.html(o),h.modal({backdrop:"static"}),h.find("form").on("submit",function(){return!1}),e&&$("#meetingCard_"+e).prop("checked",!0)},onFetchFieldsSuccess:function(e){j(),_.isArray(e.data.results)&&g.formRenderer().copyValues(e.data.results)},showNoMeetingNotif:function(){var e=a.getCopyAttendeeState()?i18n.t("no_meetings_to_copy_attendee"):i18n.t("no_meetings_to_copy_body");f.notificationModal({type:"notification",class:"red",title:i18n.t("no_meetings_to_copy_title"),body:e})},showErrorMessage:function(){f.notificationModal({type:"notification",class:"red",title:i18n.t("failure"),body:i18n.t("something_went_wrong")})},onFetchMeetingAttendeesSuccess:function(e){j();var t=_.groupBy(e.data.items,"user_type");t.internal=t.internal||[],t.external=t.external||[],o.copyAttendees(t)},onCopyAttendees:function(e){var n=e.internalCount,i=e.externalCount,l=e.hasCurrUser;if(n||i){if(l){o.updateAreYouAttending("yes"),$("#attend-meeting-yes").prop("checked",!0),$("a","#attendingStatus").html(i18n.t("you_are_attending"));var s=envDetails.currentUser.first_name+" "+envDetails.currentUser.last_name+", ";$("#logged-in-user-label").text(s),$("div.blue-container").slideUp(),$("#attendingStatus").find(".jif-dropright-filled").removeClass("hide").next().addClass("hide")}$("#attendee-label").closest(".header-right").removeClass("hide");var r=_.find(scheduler._events,function(e){return"existing-briefing-meeting"!=e.type});r&&scheduler.deleteEvent(r.id)}!function(e){var n=a.getInternalParticipantsCount(),i=a.getExternalParticipantsCount(),o=e.internalCount,l=e.externalCount,s=o+" out of "+n+" internal attendee(s) have been copied.",r=l+" out of "+i+" external attendee(s) have been copied.";1==t.isInternalAttendeesHidden()&&(e.hasCurrUser&&0!=o||(s=""));(t.isExternalAttendeesHidden()||window.isEBCEvent)&&(r="");var c="";s&&(c+=s+"<br>");r&&(c+=r);f.notificationModal({type:"notification",class:"green",title:i18n.t("success"),body:c})}(e)}};function b(){var e=_.find($("input[type='radio'][name='meetingCard']"),function(e){return $(e).is(":checked")});return $(e).data("uuid")}function w(){if(b())if(a.getCopyAttendeeState())a.resetParticipantsCount(),i.fetchMeetingAttendees(C());else{var e=!1;f.notificationModal({type:"confirmation",class:"blue",body:i18n.t($("#meetingCard_"+b()).data("activity-uuid")===(envDetails.isConsecutiveMeeting?selectedConsecutiveUuid:selectedActivityUuid)?"confirmation_for_import_customer_info":"confirmation_for_import_customer_info_for_cross_meeting_type",{meetingWithLabel:$("#meeting_with").closest(".form-group").find("label").text()}),title:i18n.t("are_you_sure"),done:function(){e=!0},dismiss:function(){e&&i.fetchFields(C()),M()}})}else f.notificationModal({type:"notification",class:"yellow",title:(t=a.getCopyAttendeeState()?i18n.t("copy_attendees"):i18n.t("copy_details"),i18n.t("pls_select_meeting_title",{info:t})),body:x(),dismiss:function(){M()}});var t}function M(){$("body").addClass("modal-open")}function x(){var e=a.getCopyAttendeeState()?i18n.t("copy_attendees"):i18n.t("copy_customer_info");return i18n.t("pls_select_meeting_body",{info:e})}function C(){var e={};return _.extend(e,T(),E(),{selected_resource_uuid:b()}),a.getCopyAttendeeState()&&(_.extend(e,function(){var e={topic_uuid:""};if(envDetails.topicManagementEnabled&&envDetails.topicUserMappingEnabled)if("undefined"!=typeof topic_uuid)e.topic_uuid=topic_uuid;else if("new"===mode){var t=$("#topic_management").val();"-"===t&&(t=""),e.topic_uuid=t}else e.topic_uuid=meetingInfo.request.topic_uuid;return e}(),D(),{ignore_activity:!0,user_type:"internal"}),envDetails.isConsecutiveMeeting&&_.extend(e,l.getRemainingMeetingsData(),{activity_uuid:selectedActivityUuid})),e}function D(){var e=envDetails.isBookSessionEdit&&envDetails.isBookSessionEdit()?"nomination":"meeting";return{meeting_request:"edit"==mode?window[e+"Info"].request.uuid:""}}function k(){var t=$(this).val();e=b(),i.searchMeetings(A(),t)}function S(){a.setCopyAttendeeState($(this).hasClass("js-copy-attendee")),v=!0,I()}function A(){var e={};return _.extend(e,T(),function(){if(envDetails.isBookSession&&envDetails.isBookSession())return{uuid:nominationInfo.request.uuid};if(envDetails.isConsecutiveMeeting)return{uuid:envDetails.consecutive_meeting_uuid};if(meetingInfo&&meetingInfo.request)return{uuid:meetingInfo.request.uuid}}(),E(),D()),e}function T(){return{activity_uuid:envDetails.isConsecutiveMeeting?selectedConsecutiveUuid:selectedActivityUuid}}function E(){if(envDetails.isBookSession&&envDetails.isBookSession()){var e=_.find($("input[name='sessionCard']"),function(e){return $(e).prop("checked")});return{additional_params:{session_uuid:$(e).data("uuid")}}}return{additional_params:{}}}function I(){a.getCurrentPage()<=a.getTotalPageCount()&&v&&(e=b(),i.fetchMeetings(A(),a.getCurrentPage()))}function O(){p.scrollTop(0,0),r.val(""),e="",v=!1,$("input[type='radio'][name='meetingCard']").prop("checked",!1),a.setCurrentPage(1),a.setTotalPageCount(1),a.resetMeetingList(),a.resetFilter(),a.setCopyAttendeeState(!1)}function P(){var e=a.getCopyAttendeeState()?i18n.t("copy_attendees"):i18n.t("copy_information");h.find(".js-copy-model-header").html(i18n.t("select_meeting_you_want_to_copy",{info:e})),h.find(".js-copy-model-note").html(i18n.t("above_meetings_are_in_event_timezone",{timezone:envDetails.event.time_zone_name}))}function j(){h.modal("hide")}return{init:function(e,n){t=e,l=n,"view"===mode||$("#sf-jiffle-now").length||mapping_module||window.meetingInfo&&window.meetingInfo.request.is_meeting_host?s.addClass("hide"):(a.listen(function(e){var t=y[e.type];t&&t(e.data)}),t&&t.listen(function(e){var t=y[e.type];t&&t(e)}),s.on("click",S),h.on("hide.bs.modal",O),h.on("show.bs.modal",P),r.on("keyup",_.debounce(k,500)),c.on("click",w),p.infiniteScroll({offset:200,callback:I}))}}}();e.exports=l},function(e,t,n){var i=n(82),a=n(3),o=n(129),l=Reflux.createStore({init:function(){this.listenToMany(i),this.meetings=[],this.initPaginationEntities()},mixins:[o],onFetchMeetings:function(e,t,n){if(0==this.getFetchState()){this.updateFetchState(!0),_.extend(e,{page:t,per_page:n||this.per_page_meeting_count,filters:this.filters});var i=this.getCopyAttendeeState()?a.ENDPOINTS.fetch_meeting_list_copy_attendee:a.ENDPOINTS.fetch_meeting_list_customer_info,o=a.fetch({url:i,data:e});o.then(function(e){this.meetings=this.meetings.concat(e.data.meeting_requests),this.updateFetchState(!1),this.meetings.length||!_.isEmpty(this.filters.search)?(this.setCurrentPage(this.getCurrentPage()+1),this.updateTotalMeetingCount(e.data.total_entries),this.setTotalPageCount(Math.ceil(e.data.total_entries/this.per_page_meeting_count)),this.trigger({type:"onFetchMeetingsSuccess",data:this.meetings})):this.trigger({type:"showNoMeetingNotif",data:e})}.bind(this)),o[o.fail?"fail":"catch"](function(){this.updateFetchState(!1),this.trigger({type:"showErrorMessage"})}.bind(this))}},onFetchFields:function(e){var t=a.fetch({url:a.ENDPOINTS.fetch_customer_info_values,data:e});t.then(function(e){this.trigger({type:"onFetchFieldsSuccess",data:e})}.bind(this)),t[t.fail?"fail":"catch"](function(){this.trigger({type:"showErrorMessage"})}.bind(this))},onFetchMeetingAttendees:function(e){var t=a.fetch({url:a.ENDPOINTS.fetch_meeting_attendee,data:e});t.then(function(e){this.setInternalParticipantsCount(e.data.internal_participant_count),this.setExternalParticipantsCount(e.data.external_participant_count),this.trigger({type:"onFetchMeetingAttendeesSuccess",data:e})}.bind(this)),t[t.fail?"fail":"catch"](function(){this.trigger({type:"showErrorMessage"})}.bind(this))}});e.exports=l},function(e,t){e.exports={initPaginationEntities:function(){this.current_page=1,this.total_pages=1,this.fetching=!1,this.per_page_meeting_count=10,this.totalMeetings=0,this.filters={},this.copyAttendee=!1,this.external_participants_count=0,this.internal_participants_count=0},fetchFirstPage:function(){this.setCurrentPage(1),this.resetMeetingList(),this.onFetchMeetings(1)},onSearchMeetings:function(e,t){this.filters.search=t,this.setCurrentPage(1),this.resetMeetingList(),this.onFetchMeetings(e,1)},resetFilter:function(){this.filters={}},getFetchState:function(){return this.fetching},updateFetchState:function(e){this.fetching=e},getCurrentPage:function(){return this.current_page},resetMeetingList:function(){this.meetings=[]},setCurrentPage:function(e){this.current_page=e},getTotalPageCount:function(){return this.total_pages},setTotalPageCount:function(e){this.total_pages=e},updateTotalMeetingCount:function(e){this.totalMeetings=e},setCopyAttendeeState:function(e){this.copyAttendee=e},getCopyAttendeeState:function(e){return this.copyAttendee},setExternalParticipantsCount:function(e){this.external_participants_count=e},getExternalParticipantsCount:function(e){return this.external_participants_count},setInternalParticipantsCount:function(e){this.internal_participants_count=e},getInternalParticipantsCount:function(e){return this.internal_participants_count},resetParticipantsCount:function(){this.setExternalParticipantsCount(0),this.setInternalParticipantsCount(0)}}},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l,s,r){var c,u,d=null!=t?t:e.nullContext||{},m=e.hooks.helperMissing,f="function",h=e.escapeExpression;return'  <div class="col-md-12">\n  \t<input type="radio" name="meetingCard" '+h(typeof(u=null!=(u=i.checked||(null!=t?t.checked:t))?u:m)===f?u.call(d,{name:"checked",hash:{},data:l,loc:{start:{line:3,column:42},end:{line:3,column:53}}}):u)+" data-uuid='"+h(typeof(u=null!=(u=i.uuid||(null!=t?t.uuid:t))?u:m)===f?u.call(d,{name:"uuid",hash:{},data:l,loc:{start:{line:3,column:65},end:{line:3,column:73}}}):u)+"' data-activity-uuid=\""+h(typeof(u=null!=(u=i.activity_uuid||(null!=t?t.activity_uuid:t))?u:m)===f?u.call(d,{name:"activity_uuid",hash:{},data:l,loc:{start:{line:3,column:95},end:{line:3,column:112}}}):u)+'" id="meetingCard_'+h(typeof(u=null!=(u=i.uuid||(null!=t?t.uuid:t))?u:m)===f?u.call(d,{name:"uuid",hash:{},data:l,loc:{start:{line:3,column:130},end:{line:3,column:138}}}):u)+'" class="jn-c-card-select">\n  \t<label class="jn-c-card '+h(typeof(u=null!=(u=i.status||(null!=t?t.status:t))?u:m)===f?u.call(d,{name:"status",hash:{},data:l,loc:{start:{line:4,column:27},end:{line:4,column:37}}}):u)+'" for="meetingCard_'+h(typeof(u=null!=(u=i.uuid||(null!=t?t.uuid:t))?u:m)===f?u.call(d,{name:"uuid",hash:{},data:l,loc:{start:{line:4,column:56},end:{line:4,column:64}}}):u)+'">\n  \t\t<div class="jn-c-card-head">\n'+(null!=(c=i.if.call(d,null!=t?t.meeting_title:t,{name:"if",hash:{},fn:e.program(2,l,0,s,r),inverse:e.program(4,l,0,s,r),data:l,loc:{start:{line:6,column:8},end:{line:11,column:15}}}))?c:"")+'  \t\t\t<div class="text-ellipsis font-12">'+h(typeof(u=null!=(u=i.activity_name||(null!=t?t.activity_name:t))?u:m)===f?u.call(d,{name:"activity_name",hash:{},data:l,loc:{start:{line:12,column:40},end:{line:12,column:57}}}):u)+'</div>\n  \t\t\t<div class="font-12">'+h(a(n(0)).call(d,"ID",{name:"t",hash:{},data:l,loc:{start:{line:13,column:26},end:{line:13,column:36}}}))+" #"+h(typeof(u=null!=(u=i.id||(null!=t?t.id:t))?u:m)===f?u.call(d,{name:"id",hash:{},data:l,loc:{start:{line:13,column:38},end:{line:13,column:44}}}):u)+'</div>\n  \t\t</div>\n  \t\t<div class="jn-c-card-block"> \n  \t\t\t<div class="font-bold">'+h(typeof(u=null!=(u=i.startTime||(null!=t?t.startTime:t))?u:m)===f?u.call(d,{name:"startTime",hash:{},data:l,loc:{start:{line:16,column:28},end:{line:16,column:41}}}):u)+" - "+h(typeof(u=null!=(u=i.endTime||(null!=t?t.endTime:t))?u:m)===f?u.call(d,{name:"endTime",hash:{},data:l,loc:{start:{line:16,column:44},end:{line:16,column:55}}}):u)+'</div>\n  \t\t\t<div class="font-12">'+h(typeof(u=null!=(u=i.meetingDate||(null!=t?t.meetingDate:t))?u:m)===f?u.call(d,{name:"meetingDate",hash:{},data:l,loc:{start:{line:17,column:26},end:{line:17,column:41}}}):u)+'</div>\n  \t\t\t<div class="font-12 text-ellipsis" title="'+h(typeof(u=null!=(u=i.location||(null!=t?t.location:t))?u:m)===f?u.call(d,{name:"location",hash:{},data:l,loc:{start:{line:18,column:47},end:{line:18,column:59}}}):u)+'">'+h(typeof(u=null!=(u=i.location||(null!=t?t.location:t))?u:m)===f?u.call(d,{name:"location",hash:{},data:l,loc:{start:{line:18,column:61},end:{line:18,column:73}}}):u)+'</div>\n  \t\t</div>\n  \t\t<div class="jn-c-card-block text-right">\n        <div class="font-11">'+h(a(n(0)).call(d,"requested_by",{name:"t",hash:{},data:l,loc:{start:{line:21,column:29},end:{line:21,column:49}}}))+'</div>\n  \t\t\t<div class="font-11 font-bold text-ellipsis">'+h(typeof(u=null!=(u=i.requestor_name||(null!=t?t.requestor_name:t))?u:m)===f?u.call(d,{name:"requestor_name",hash:{},data:l,loc:{start:{line:22,column:50},end:{line:22,column:68}}}):u)+"</div>\n"+(null!=(c=i.if.call(d,null!=r[1]?r[1].showParticipants:r[1],{name:"if",hash:{},fn:e.program(6,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:23,column:8},end:{line:25,column:15}}}))?c:"")+"  \t\t</div>\n  \t</label>\n  </div>\n"},2:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return'          <div class="text-ellipsis font-bold">'+r("function"==typeof(o=null!=(o=n.meeting_title||(null!=t?t.meeting_title:t))?o:s)?o.call(l,{name:"meeting_title",hash:{},data:a,loc:{start:{line:7,column:47},end:{line:7,column:64}}}):o)+'</div>\n          <div class="text-ellipsis font-12">'+r("function"==typeof(o=null!=(o=n.meeting_with||(null!=t?t.meeting_with:t))?o:s)?o.call(l,{name:"meeting_with",hash:{},data:a,loc:{start:{line:8,column:45},end:{line:8,column:61}}}):o)+"</div>\n"},4:function(e,t,n,i,a){var o;return'          <div class="text-ellipsis font-bold">'+e.escapeExpression("function"==typeof(o=null!=(o=n.meeting_with||(null!=t?t.meeting_with:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"meeting_with",hash:{},data:a,loc:{start:{line:10,column:47},end:{line:10,column:63}}}):o)+"</div>\n"},6:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.escapeExpression;return'        <div class="font-11">'+c("function"==typeof(s=null!=(s=i.participant_count||(null!=t?t.participant_count:t))?s:e.hooks.helperMissing)?s.call(r,{name:"participant_count",hash:{},data:l,loc:{start:{line:24,column:29},end:{line:24,column:50}}}):s)+" "+c(a(n(0)).call(r,"no_of_participants",{name:"t",hash:{},data:l,loc:{start:{line:24,column:51},end:{line:24,column:77}}}))+"</div>\n"},8:function(e,t,i,o,l){return'  <div class="text-center margin-top-70">'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"no_meetings",{name:"t",hash:{},data:l,loc:{start:{line:31,column:41},end:{line:31,column:60}}}))+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,o,l){var s,r=null!=t?t:e.nullContext||{};return(null!=(s=n.each.call(r,null!=t?t.meetingList:t,{name:"each",hash:{},fn:e.program(1,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:29,column:9}}}))?s:"")+(null!=(s=n.unless.call(r,null!=t?t.meetingList:t,{name:"unless",hash:{},fn:e.program(8,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:30,column:0},end:{line:32,column:11}}}))?s:"")},useData:!0,useDepths:!0})},function(e,t){var n=Reflux.createActions(["GetVConAuthorizationURL","CheckRequestorAuthorizedForVCon","UnAuthenticateUser"]);e.exports=n},,,,,function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=n(12),o=n(14).AttendeeStore,l=n(65),s=n(14).AddEditAttendeeStore,r=(n(37).CalendarEventStore,n(37).CalendarAvailabilityStore),c=n(30),u=n(140),d=n(34),m=n(13).MeetingStore,f=n(17),h=n(11),p=n(84),g=n(86),v=n(28),y=n(114),b=window,w=b.envDetails,M=b.meetingInfo,x=b.mode,C=b.isEBCEvent;$.validator.addMethod("checkEmailValidity",function(e,t,n){return!(e=(e||"").trim())||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},i18n.t("Please enter a valid email"));var D=function(){var e=$(".tabs-attendees"),t=$("#internal-attendees-tab").find(".attendees-list"),b=$("#external-attendees-tab").find(".attendees-list"),D=$(".user-search-box"),k=$(".section.attendees-section"),S=$("#attendee-filter-panel"),A=$("#attendee-filter",S),T=$(".js-add-attendee-form"),E="internal",I=$(".js-add_attendee"),O=$(".js-add-attendee-modal"),P=$("div.blue-container"),j=($("#logged-in-user-label"),window.ReactMessage||$(".notification-modal")),q=$(".notification-modal"),R=$("#topic_management-complement","form#details-form"),N=null,F=null,U=(w.isConsecutiveMeeting,!1),L=!1,Y="declined",B=$("#internal-attendees-tab"),z=$(".search-field-container"),H=$("#search-field-context-icon-internal"),V=$("#search-field-context-icon-external"),G=!1,Z={enableSave:!0,message:""},W={},J="internal",K={internal:"add",external:"add"},Q={internal:"remove",external:"remove"},X={external:{}},ee={internal:We,external:tt,internalAttendeeSelected:function(e){he({action:"add",uuid:e.user.uuid})},internalAttendeeUnselected:bt,externalAttendeeUnselected:wt,tabChanged:function(e){D.val(e.searchTerm);var t=e.roles;$(".filter-checkbox").prop("checked",!1),$(".filter-checkbox").each(function(e,n){var i=$(n).data("uuid"),a=t.indexOf(i)>-1;$(this).prop("checked",a)})},selectionNotPossible:function(e){j.notificationModal({body:i18n.t("room_overcrowded"),dismiss:e&&e.hasCurrUser?Ct:$.noop,title:i18n.t("select_attendee_notify_title")})},showAttendeesList:Ie,removeSelf:te,emailFieldValidatorHandler:function(e){e="string"==typeof e?JSON.parse(e):e.apiResponse;var t,n=e;"external"===J?"internal"===n.data.domain_type?(t=_.isObject(n.data.user)?{email:i18n.t("already_internal_attendee")}:{email:i18n.t("alert_internal_domain")},je(),Oe(!1,t.email)):!1===n.success||200!==n.status?(t=n.errors,je(),Oe(!1,t.email)):(t={},$("#email-error").css("display","none"),_.isObject(n.data.user)?Pe(n.data.user,n.data.can_edit):je(),Oe(!0,"")):!1===n.success||200!==n.status?(t=n.errors,je(),Oe(!1,t.email)):"internal"===n.data.domain_type?(t={},$("#email-error").css("display","none"),n.data.user?Pe(n.data.user):je(),Oe(!0,"")):"external"===n.data.domain_type?(t={email:i18n.t("alert_external_domain")},je(),Oe(!1,t.email)):(t={email:n.errors.EmailError},je(),Oe(!1,t.email));var i=$(".js-add-attendee-form",'.js-add-attendee-modal[type="'.concat(J,'"]')),a=i.validate();return a.showErrors(_.assign({},t,a.errorMap)),a.previousValue($("[name='email']",i)[0]).originalMessage=t.email||"",Z.enableSave},usersFetchError:function(e){var t=_.flatten(_.values(e.data.errors));j.notificationModal({class:"red",timeout:!0,title:i18n.t("user_fetch_error_title"),body:t.join(", ")})},cannotSelectAttendee:lt,showCannotIncludeAttendee:st,overRideRoomcapacity:function(e){var t=!1;if(o.getOverRideRoomcapacityPopup())return void("createNewAttendee"===e.attendee_type?s.createNewAttendee(e.custom_fields,null,e.consent):e.callbackFunction?e.callbackFunction():o.userAddToListActions[e.attendee_type].call(o,e.uuid));if(e.callbackFunction){var n={type:"confirmation",title:i18n.t("override_room_capacity_while_reinviting_title"),body:i18n.t("override_room_capacity_while_reinviting_message"),class:"yellow",done:function(){t=!0},dismiss:function(){t&&(o.persistOverRideRoomPopup(t),e.callbackFunction&&e.callbackFunction())}};q.notificationModal(n)}else q.notificationModal({type:"confirmation",class:"yellow",title:i18n.t("override_room_capacity_header"),body:i18n.t("override_room_capacity_body"),done:function(){t=!0},dismiss:function(){t?(o.persistOverRideRoomPopup(t),"createNewAttendee"===e.attendee_type?s.createNewAttendee(e.custom_fields,null,e.consent):o.userAddToListActions[e.attendee_type].call(o,e.uuid)):e.fromUserPreference?ct(e):rt(e)}})},resetInternalAttendeeList:function(e){ze(t,{items:[]},"internal"),a.fetchInternal(1,{byPassMasCalEntry:!0,topicChange:e.topicChange})},editAttendees:function(e){e.users.internal},experts:function(e){a.setExperts(e),"function"==typeof e.callback&&e.callback()},onActivitySettings:function(e){a.setAttendeeOptionsSetting.trigger(e.data.settings);var t=e.data.settings;a.getattendeeSettings(),window.mappingEnabled="yes"===t.default_mapping,window.mappingEnabled?d.fetchExperts({callback:function(){a.fetchInternal(1),("undefined"==typeof jiffle||window.isLeadsMeeting||f.selectedAccount.id)&&a.fetchExternal(1)}}):(a.fetchInternal(1),("undefined"==typeof jiffle||window.isLeadsMeeting||f.selectedAccount.id)&&a.fetchExternal(1)),l.selectAttendee(t)},initiateAttendee:function(e){if(G=!1,!0,o.persistOverRideRoomPopup(e.data.isMeetingOverride),Z={enableSave:!0,message:""},W={},e.data){var t=e.data.attendingMeetingStatus||null;(t=function(e,t){if("edit"===x&&w.isConsecutiveMeeting){var n=_.find(t.data.internal,{uuid:w.currentUser.uuid,invite_status:"declined"});return _.isUndefined(n)?e:"no"}return e}(t,e))||$("#attendingStatus").find(".jif-dropright-filled").addClass("hide").next().removeClass("hide")}P.show(),Ie({attendeeType:E}),s.updateAttendeeType(E)},handleAttendeeSection:function(e){var t=e.payload,n=t.internal,i=t.external;U="yes"===t.ics_optout,L="yes"===t.enable_meeting_host,window.envDetails.isConsecutiveMeeting&&(o=t.show_add_internal_attendee.toBoolean(),$("#attendee-addbtn")[o?"show":"hide"](),w.allowRequestorToAddInternalAttendee=o),(U||L)&&a.refreshExternalAttendees();var o;n&&i?(k.addClass("hide"),Je(),Ke()):n?($(".tabs-attendees").find("li[data-search-name='internal']").addClass("hide"),$(".tabs-attendees a[href='#external-attendees-tab']").tab("show"),$("#internal-attendees-tab").addClass("hide"),$("#external-attendees-tab").removeClass("hide"),"yes"===t.default_mapping||!0===t.default_mapping?(window.mappingEnabled=!0,"new"===x?($(".selected-internal-attendee div").addClass("hide"),$(".selected-internal-attendee").append('<div class="selected-title">'.concat(i18n.t("auto_add_internal_attendees"),"</div>"))):($(".section-meeting-making .selected-internal-attendee div").addClass("hide"),$(".section-meeting-making .selected-internal-attendee").append('<div class="selected-title">'.concat(i18n.t("auto_add_internal_attendees"),"</div>")),$(".selected-internal-attendee div.section-action").addClass("hide"))):(window.mappingEnabled=!1,Ke())):i?($(".tabs-attendees").find("li[data-search-name='external']").addClass("hide"),$(".tabs-attendees a[href='#internal-attendees-tab']").tab("show"),$("#external-attendees-tab").addClass("hide"),$("#internal-attendees-tab").removeClass("hide"),Je()):($(".tabs-attendees").find("li[data-search-name='internal']").removeClass("hide"),$(".tabs-attendees").find("li[data-search-name='external']").removeClass("hide"),$("#external-attendees-tab").removeClass("hide"),$("#internal-attendees-tab").removeClass("hide"),"new"===window.mode&&M.request.users&&0===M.request.users.internal.length&&M.request.users.external.length&&$(".tabs-attendees a[href='#external-attendees-tab']").tab("show"))},reinviteAttendees:function(e){var t=m.getMstConfigs();q.notificationModal({type:"confirmation",class:"blue",title:i18n.t("confirmation_title"),body:t.enabled?i18n.t("reinvite_confirm_email_message"):i18n.t("reinvite_confirm_message"),done:function(){e.callbackFunction()}})},renderInternalListWithUpdatedAlternateHostStatus:function(e){Me()&&(!function(e){var t=we()||{},n=t.alternate_host_enabled,i=void 0===n||n,a=t.default_all_internal_attendees_as_alternate_hosts,l=void 0!==a&&a;if(i&&l){_.forEach(e,function(e){e.selected&&o.makeAttendeeAsAlternateHost(e.uuid,!0)})}}(e.data.items),Ce(e.data.items),ze(t,e.data,"internal"))}};function te(){var e=o.attendeeOptions;e.isResetAttendee=!0,l.selectAttendee(e),P.slideDown()}function ne(){$.validator.setDefaults({debug:!0,onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},messages:{first_name:{required:i18n.t("is_required",{attr:i18n.t("first_name")})},last_name:{required:i18n.t("is_required",{attr:i18n.t("last_name")})},email:{required:i18n.t("is_required",{attr:i18n.t("email")}),email:i18n.t("invalid_email")},contact_no:{required:i18n.t("is_required",{attr:i18n.t("phone")})},company_name:{required:i18n.t("is_required",{attr:i18n.t("company__placeholder")})},title:{required:i18n.t("is_required",{attr:i18n.t("title")})}},showErrors:function(e,t){for(var n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass),$("[id=".concat(i[n].name,"-error]")).hide();for(var a,o=0;t[o];o++)a=t[o],this.settings.highlight(a.element),$("[id=".concat(a.element.name,"-error]")).show(),this.showLabel(a.element,a.message)}}),$.validator.addMethod("validateUserEmail",function(e,t){return function(e){var t={user_type:function(){return J},email:$(e).val()};a.domainValidate(t)}(t),!0},""),T.each(function(e,t){(t=$(t)).on("click",".select2.select2-container",function(e){t.find("> .select2-container.select2-container--default").css({position:"fixed"})}),t.validate({onsubmit:!1,onkeyup:!1,rules:{email:{checkEmailValidity:"[name='email']",validateUserEmail:"[name='email']",required:{depends:function(e){return $(e).val(e.value.trim()),e.required}}}}})})}function ie(){if($(t).infiniteScroll({offset:200,callback:$e}),$(b).infiniteScroll({offset:100,callback:qe}),M.request&&M.request.users&&M.request.users.internal){var i=!1,l=w.currentUser.uuid;void 0!==_.find(M.request.users.internal,function(e){return e.uuid===l})&&(i=!0);var r="on_site"===M.request.location_preference||_.isPresent(M.request.room),c=M.request.defaultStateOfAreYouAttending;window.envDetails.defaultStateOfAreYouAttending=2===c?"yes":1===c?"no":"";var u=M.request.users,d=u.internal,m=u.external;i&&!ut(l,!0)&&(d=_.filter(d,function(e){return e.uuid!==l})),o.onEditAttendees({internal:d,external:m},i,r)}$(t).append($("<div/>")),D.on("keyup",_.debounce(Ue,369)),b.on("click",".select-attendee",nt),b.on("click",".unselect-attendee",it).on("click",".change-mode-of-attendance",ye),t.on("click",".select-attendee",mt).on("click",".unselect-attendee",_t).on("click",".add-keynote-speaker",ue).on("click",".remove-keynote-speaker",fe).on("click",".add-vcon-alternate-host",pe).on("click",".remove-vcon-alternate-host",_e).on("click",".change-mode-of-attendance",ge),B.on("click",".js-pre-endorse-action",vt),A.on("change",".filter-checkbox",Qe),b.on("click",".js_send_ics_switch",ke),S.on("click",".cancel",Xe),S.on("click",".apply",et),z.on("click",".jif-iris-cancel-thin.js_clear-search",oe),O.on("show.bs.modal",function(e){w.isConsecutiveMeeting||o.isJuniorMMorAbove()||o.canSelect||o.capacityCheckForNonMM()||(e.preventDefault(),e.stopPropagation(),lt({}))}),$("#attendee-addbtn").on("click",ae),k.on("click",".no-users-found #attendee-addbtn_user",ae),T.on("change","#internalPrimaryFields input, #internalPrimaryFields select, #externalPrimaryFields input, #externalPrimaryFields select, #external_sync_sfdc_contact",function(){$(".js-add-attendee-form",'.js-add-attendee-modal[type="'.concat(J,'"]')).validate().element($(this))&&s.updateAttendeeData(this.name,this.value||this.checked)}),O.on("show.bs.modal",Ae).on("hide.bs.modal",Te),I.on("click",_.throttle(Ne,631)),$('.tabs-attendees a[data-toggle="tab"]').on("shown.bs.tab",function(e){var t=$(e.target)[0],i=$(t).attr("id");!function(e){if(W.user_filter_options){var t=n(116)({roles:W.user_filter_options[e]});A.html(t)}a.tabChanged(e)}(i),Ee(i),y.handleContextSearchIcon(J,H,V)}),e.on("shown.bs.tab",'a[data-toggle="tab"]',Se),y.handleContextSearchIcon($(".tabs-attendees li.active").data("search-name"),H,V),$(t).tooltip({trigger:"hover",selector:".status-label.alternate-vcon",container:t})}function ae(e){window.scrollTo(0,0),e.preventDefault(),e.stopPropagation(),s.isAttendeeCustomFieldFetched()?se():g.init({callback:function(e){le(e),se()},templateName:"add_attendee_form",isNewUser:!0})}function oe(e){D.val(""),D.trigger("keyup")}function le(e){N=e.formRenderers.internal,F=e.formRenderers.external,X.external=e.sfdcDefaults,s.setAttendeeCustomFieldFetched(!0)}function se(){w.isConsecutiveMeeting||o.canSelect||o.capacityCheckForNonMM()?($('.js-add-attendee-modal[type="'.concat(J,'"]')).modal({show:!0,backdrop:"static",keyboard:!0}),M.request.mode_of_attendance_enabled&&$('.js-add-attendee-modal[type="'.concat(J,'"]')).find("select[name=mode_of_attendance]").select2("val",null),void 0===v.getGDPRCustomText()?v.fetchGDPRmessage({config:"book_meeting_privacy_message"}):v.updateGDPRMessage(v.getGDPRCustomText())):o.isJuniorMMorAbove()?function(){if(o.getOverRideRoomcapacityPopup()||"virtual"===M.request.default_mode_of_attendance)$('.js-add-attendee-modal[type="'.concat(J,'"]')).modal({show:!0,backdrop:"static",keyboard:!0});else{var e=!1;q.notificationModal({type:"confirmation",class:"yellow",title:i18n.t("override_room_capacity_header"),body:i18n.t("override_room_capacity_body"),done:function(){e=!0},dismiss:function(){e&&(o.persistOverRideRoomPopup(e),$('.js-add-attendee-modal[type="'.concat(J,'"]')).modal({show:!0,backdrop:"static",keyboard:!0}))}})}}():lt({})}function re(){"edit"===window.mode&&function(){if(!_.isEmpty(M.request.vcon)){var e=M.request.vcon.alternate_hosts;e&&e.length&&(o.VConAlternateHostsMapping=e)}}()}function ce(e){j.notificationModal({title:i18n.t("can_not_edit_host_header"),body:e||i18n.t("can_not_edit_host_message"),class:"yellow"})}function ue(e){var t=$(this),n=t.data("uuid"),i=!1,a=o.canAttendeeBeAssignedHost(n);e&&!0===a.error?ce(a.message):e&&function(e){return o.getUserStatus(e)===Y}(n)?q.notificationModal({body:i18n.t("assgin_declined_host_message"),title:i18n.t("assgin_declined_host_title"),class:"blue",type:"confirmation",dismiss:function(){i&&de(t,n)},done:function(){i=!0}}):de(t,n)}function de(e,t){e.addClass("hide"),me(e,t),a.updateAttendeeAsHost(t,!0)}function me(e,t){e.closest(".attendee-item").addClass("meeting-host"),e.closest(".js-meeting-host-dropdowns").find(".remove-keynote-speaker").removeClass("hide"),e.closest(".attendee-item").find(".status-label.host").text(window.envDetails.meeting_host_label)}function fe(){var e=$(this),t=e.data("uuid"),n=!1;if(!1!==o.canMeetingHostBeEdited()){var i=function(){e.addClass("hide"),e.closest(".js-meeting-host-dropdowns").find(".add-keynote-speaker").removeClass("hide"),e.closest(".attendee-item").removeClass("meeting-host"),a.updateAttendeeAsHost(t,!1),t===De()&&(o.persistRequestorAsHost=!1,a.updatePersistRequestorAsHost())};window.meetingInfo.request.is_meeting_host&&window.envDetails.currentUser.uuid===t?q.notificationModal({body:i18n.t("change_meeting_host_message"),title:i18n.t("change_meeting_host_title"),class:"blue",type:"confirmation",dismiss:function(){n&&i()},done:function(){n=!0},doneBtnText:i18n.t("proceed_in_notification"),cancelBtnText:i18n.t("cancel_in_notification")}):i()}else ce()}function he(e){var n=e.action,i=e.uuid;if(Me()){var a=(we()||{}).default_all_internal_attendees_as_alternate_hosts;if("add"===n){if(void 0!==a&&a){o.makeAttendeeAsAlternateHost(i,!0);var l=$(".selected-attendee",t).find('.attendee-item[data-uuid="'.concat(i,'"]'));l.addClass("alternate-host");var s=l.find(".js-meeting-host-dropdowns");s.find(".add-vcon-alternate-host").addClass("hide"),s.find(".remove-vcon-alternate-host").removeClass("hide")}}else if("remove"===n){o.makeAttendeeAsAlternateHost(i,!1);var r=$('.attendee-item[data-uuid="'.concat(i,'"]'),t);r.removeClass("alternate-host");var c=r.find(".js-meeting-host-dropdowns");c.find(".add-vcon-alternate-host").removeClass("hide"),c.find(".remove-vcon-alternate-host").addClass("hide")}}}function pe(){var e=$(this),t=e.data("uuid");e.addClass("hide"),e.closest(".attendee-item").addClass("alternate-host"),e.closest(".js-meeting-host-dropdowns").find(".remove-vcon-alternate-host").removeClass("hide"),o.makeAttendeeAsAlternateHost(t,!0)}function _e(){var e=$(this),t=e.data("uuid");e.addClass("hide"),e.closest(".attendee-item").removeClass("alternate-host"),e.closest(".js-meeting-host-dropdowns").find(".add-vcon-alternate-host").removeClass("hide"),o.makeAttendeeAsAlternateHost(t,!1)}function ge(e){var t=$(this),n=t.data("uuid"),i=t.data("attendance");be(t,n,i),ve(i,"internal",n),a.updateInternalAttendeeAttendance(n,i)}function ve(e,t,n){if("in_person"===e){var i=m.attendeeCount;m.onAttendeeCountChanged(i),o.canSelectAttendee(n,t,!0)}}function ye(e){var t=$(this),n=t.data("uuid"),i=t.data("attendance");be(t,n,i),ve(i,"external",n),a.updateExternalAttendeeAttendance(n,i)}function be(e,t,n){e.addClass("hide"),"in_person"===n?(e.closest(".attendee-item").find(".attendee-attendance .status-label").text(M.request.in_person_label),e.closest(".attendee-item").find(".change-mode-of-attendance.to-virtual").removeClass("hide")):(e.closest(".attendee-item").find(".attendee-attendance .status-label").text(M.request.virtual_label),e.closest(".attendee-item").find(".change-mode-of-attendance.to-in-person").removeClass("hide"))}function we(){return h.getModelData("selectedVcon")}function Me(){return h.getModelData("isAnyIntegrationEnabledWithAlternateHost")}function xe(e){if(e===t&&Me()){var n=we(),i=h.getModelData("vconIntegrations");if(!_.isEmpty(n)&&i&&i.length){var a=_.find(i,function(e){return e.integration_name===n.integration_name});if(a)return{alternate_host_enabled:a.alternate_host_enabled,integration_name:a.integration_name}}return{alternate_host_enabled:!0,integration_name:""}}return{alternate_host_enabled:!1,integration_name:""}}function Ce(e){var t=o.VConAlternateHostsMapping;if(t&&t.length>0){var n=(we()||{}).alternate_host_enabled,i=void 0===n||n;_.forEach(e,function(e){if(i){var n=_.indexOf(t,e.uuid);e.alternate_host=n>-1}else e.alternate_host=!1})}}function De(){return $("#requestor-select-complement").val()}function ke(){var e=$(this).closest(".attendee-item"),t=e.data("uuid"),n=e.find("input:checkbox"),i=n.prop("checked");n.prop("checked",!i);var o=!i,l=!1;o?a.updateIcsStatus(t,o):q.notificationModal({body:i18n.t("ext_ics_opt_out_message"),title:i18n.t("are_you_sure"),type:"confirmation",done:function(){l=!0},hideCloseBtn:!0,dismiss:function(){l?a.updateIcsStatus(t,o):n.prop("checked",!0)}})}function Se(e){"internal"===$(".tabs-attendees li.active").data("search-name")?w.allowRequestorToAddInternalAttendee?$("#attendee-addbtn").show():$("#attendee-addbtn").hide():$("#attendee-addbtn")[w.allowUserToAddNewExternalAttendee?"show":"hide"]()}function Ae(e){var t,n;s.setAttendeeCreatedFlag(!1),t=$(".js-add-attendee-form",'.js-add-attendee-modal[type="'.concat(J,'"]')),(n=t.validate()).reset(),n.resetForm(),$(".form-group",t).removeClass("has-error"),Fe();var i=w.companyName;!function(e){if(!e.closest("#sf-jiffle-now").length)return;var t=$(".js-add-attendee-form",'.js-add-attendee-modal[type="'.concat(J,'"]')),n="external"===J&&($("#select_account").val()||M.request.custom_fields.meeting_account_id)&&w.syncContactsToSfdc;window.isLeadsMeeting&&(n=w.syncLeadsToSfdc,t.find("#js-external-sync-contact-sfdc").find("label.js-sync-sfdc").text(i18n.t("sync_lead_to_sfdc")));t.find("#js-external-sync-contact-sfdc")[n?"removeClass":"addClass"]("hide")}($(this)),Oe(!0,""),"external"===J&&(i=""),$('.js-add-attendee-modal[type="'.concat(J,'"]')).find("[name='company_name']").val(i),s.updateAttendeeData("company_name",i)}function Te(){return s.getAttendeeCreatedFlag()||$(this).hasClass("programmaticHide")?($(this).removeClass("programmaticHide"),!0):(q.notificationModal({class:"blue",type:"confirmation",title:i18n.t("add_user_notify_title"),body:i18n.t("user_changes_lost"),done:function(){O.off("hide.bs.modal");var e=$(".js-add-attendee-form",'.js-add-attendee-modal[type="'.concat(J,'"]'));"internal"===J?N.setValues({custom_fields:{}}):F.setValues({custom_fields:X.external}),$.data(e.find('[name="email"]')[0],"previousValue",{old:"",valid:!0,message:i18n.t("invalid_domain")}),O.modal("hide"),O.on("hide.bs.modal",Te)}}),!1)}function Ee(e){$(".filter-dropdown","#attendee-filter-panel").removeClass("hide"),J=e,s.updateAttendeeType(e)}function Ie(e){var t=e.attendeeType;Ee(t),$('a[href="#'.concat(t,'-attendees-tab"]')).tab("show")}function Oe(e,t){Z.enableSave=e,Z.message=t}function Pe(e,t){var n=$(".js-add-attendee-form",'.js-add-attendee-modal[type="'.concat(J,'"]'));$("#".concat(J,"PrimaryFields")).find("input[name!=email], textarea, select").each(function(n,i){var a=(i=$(i)).attr("name"),o=e[a];$("#".concat(a,"-error")).hide(),i.prop("readonly",!t&&(o||!i.prop("required"))).val(o),"sync_contact"===a&&(o=i.is(":checked")),s.updateAttendeeData(a,o)}),e.mode_of_attendance&&$("select[name=mode_of_attendance]").select2("val",e.mode_of_attendance),"object"===i(e.custom_fields)&&("internal"===J?(N.setValues(e),!t&&N.setFormToReadOnly()):(F.setValues(e),!t&&F.setFormToReadOnly())),$(".form-group",n).removeClass("has-error"),G=!0}function je(){if(!1!==G){var e=$(".js-add-attendee-form",'.js-add-attendee-modal[type="'.concat(J,'"]'));$("#".concat(J,"PrimaryFields")).find("input[name!=email], textarea, select").each(function(e,t){$(t).prop("readonly",!1).val("").trigger("change").prop("checked",!1),s.updateAttendeeData(t.name,"")}),"internal"===J?($("input[name='company_name']",e).val(w.companyName),s.updateAttendeeData("company_name",w.companyName),N.setValues({custom_fields:{}}),N.resetFormToReadOnly()):(F.setValues({custom_fields:X.external}),F.resetFormToReadOnly()),G=!1}}function $e(){var e=$(t).data("page")||1;e!==($(t).data("total_pages")||0)&&a.fetchInternal(e+1)}function qe(){var e=$(b).data("page")||1;a.fetchExternal(e+1)}function Re(e){return $('.selected-attendee-item[data-uuid="'.concat(w.currentUser.uuid,'"]')).hasClass("declined")&&"yes"===e}function Ne(e){e.preventDefault(),e.stopPropagation();var t=c.BriefingRequestStore.briefingInternalAttendees,n=$(".js-add-attendee-form",'.js-add-attendee-modal[type="'.concat(J,'"]')),i=n.find('input[name="email"]').val(),l=n.find('input[name="consent"]'),s=n.find('input[name="make_event_visible"]'),r=void 0;if(Z.enableSave){if("internal"===J?N.isFormValid(n):F.isFormValid(n)){if(!1===window.commons.didUserGiveConsent(l))return void window.commons.showAddUserConsentMissingMessage();if(t.length&&function(e){var t=$(".js-add-attendee-form",'.js-add-attendee-modal[type="'.concat(J,'"]')).find('input[name="email"]').val();return _.findIndex(e,function(e){return e.email.toLowerCase()===t.toLowerCase()})>=0}(t)){var u=-1!==_.findIndex(w.doubleBookingUsers,function(e){return e.toLowerCase()===i.toLowerCase()});if(!C||!u)return void j.notificationModal({body:i18n.t("briefing_attendee_existing"),title:i18n.t("briefing_attendee_title"),class:"yellow",dismiss:function(){$('.js-add-attendee-modal[type="'.concat(J,'"]')).modal("hide")}});j.notificationModal({body:i18n.t("briefing_double_added_body"),title:i18n.t("briefing_attendee_title"),class:"yellow"})}var d="virtual"===M.request.default_mode_of_attendance||!1,m="internal"===J?N.getValues():F.getValues();$(I).prop("disabled",!0),s.length>0&&(r=s.is(":checked")),a.createAttendee(m,"-"!==R.val()?R.val():null,window.commons.getConsentValue(l),function(e){if(e){var t=o.selection.internal,n=t[Object.keys(t)[0]].uuid,i=window.envDetails.currentUser.uuid===n?"current_user_not_available":"user_not_available";dt(i18n.t(i),n)}},d,r)}}else"function"==typeof Z.message&&(Z.message(),$('.js-add-attendee-modal[type="'.concat(J,'"]')).modal("hide"))}function Fe(){$(".js-add-attendee-form",'.js-add-attendee-modal[type="'.concat(J,'"]')).find("input").map(function(){$(this).prop({readonly:!1,checked:!1}).val("")}),"internal"===J?(N.setValues({custom_fields:{}}),N.resetFormToReadOnly()):(F.setValues({custom_fields:X.external}),F.resetFormToReadOnly())}function Ue(e){var t=$(this).val();window.mappingEnabled?d.fetchExperts({callback:function(){Le(t)},searchTerm:t}):Le(t)}function Le(e){if(C)a.searchInternal(e),y.toggleSearchClearIcon({selectedTab:"internal",searchText:e,contextualSearchFieldInternalIcon:H,contextualSearchFieldExternalIcon:V});else{var t=$(".tabs-attendees li.active").data("search-name");y.toggleSearchClearIcon({selectedTab:t,searchText:e,contextualSearchFieldInternalIcon:H,contextualSearchFieldExternalIcon:V}),"internal"===t?a.searchInternal(e):a.searchExternal(e)}}function Ye(e){var t=e.attendeeType,n=e.isSearchResult;return{show_add_btn:"internal"===t?w.allowRequestorToAddInternalAttendee:w.allowUserToAddNewExternalAttendee,support_email:w.current_location.support_email,user_label:"Attendee",is_search_result:n}}function Be(e){var t=e.mapped_users,i=void 0===t?[]:t,a=e.show_loggedIn_user,o=void 0!==a&&a,l=e.unmapped_users,s=void 0===l?[]:l,r=e.show_mapped_header,c=void 0!==r&&r,u=e.show_unmapped_header,d=void 0!==u&&u,m=e.container,f=e.attendeeType,h=xe(m)||{},p=h.alternate_host_enabled,_=void 0!==p&&p,g=h.integration_name,v=void 0===g?"":g;return n(70)({mapped_users:i,show_loggedIn_user:o,unmapped_users:s,show_mapped_header:c,show_unmapped_header:d,add_label:i18n.t(K[f]),remove_label:i18n.t(Q[f]),show_send_ics_btn:Ge(m),meeting_host_label:w.meeting_host_label,meeting_host_config:Ve(m),hide_endorsement_text:!0,alternate_host_enabled:_,integration_name:v,default_mode_of_attendance:M.request.default_mode_of_attendance,mode_of_attendance_enabled:M.request.mode_of_attendance_enabled,in_person_label:M.request.in_person_label,virtual_label:M.request.virtual_label})}function ze(e,t,n){e.empty();var i=t.noResultsFound,a=t.isSearchResult,o=t.current_page,l=t.total_pages,s=t.groupData,r=t.hasSelectedAttendees;if(a?(e.append(He(t.items,e,s,n,i,a,r)),e.append($("<div/>").addClass("selected-attendee"))):(e.append($("<div/>").addClass("selected-attendee")),e.append(He(t.items,e,s,n,i,a,r))),function(e,t){var n=$(".attendee-item.added, .attendee-item.endorsed",e);n.clone().appendTo($(".selected-attendee",e)),n.removeClass("added").addClass("hide"),n.find(".send-ics-toggle").remove(),t&&e.scrollTop(0,0)}(e,a),Ze(t.items,e),$(e).data("page",o),$(e).data("totalPages",l),"internal"===n){var c=De();"new"===x&&ft(c),ht(c)}}function He(e,n,i,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],r=_.find(e,function(e){return e.uuid===window.envDetails.currentUser.uuid}),c=p.getUserEntities(h.model).userPreferences;_.forEach(e,function(e){e.selected&&(e.selectedClassName="added"),"new"===x&&!window.meetingInfo.meetingUUID&&e.confirm_endorse_button&&c[e.uuid]&&void 0===c[e.uuid].pre_endorse&&(e.selectedClassName="endorsed")});var u=r?e.filter(function(e){return e.uuid!==r.uuid}):e;if(n===t&&i){var d=[],m=[],f=_.groupBy(u,"mapped_topic");return _.forEach(f,function(e,t){"true"===t?d=d.concat(e):m=m.concat(e)}),d=y.sortAttendees({attendees:d}),d=y.sortAttendeeByHiphen(d),m=y.sortAttendees({attendees:m}),m=y.sortAttendeeByHiphen(m),o&&("internal"!==a||l)?y.displayNoResultsTemplate(Ye({attendeeType:a,isSearchResult:l})):Be({mapped_users:d,show_loggedIn_user:r,unmapped_users:m,show_mapped_header:d.length,show_unmapped_header:m.length,attendeeType:a,container:n})}return e=y.sortAttendees({attendees:u}),e=y.sortAttendeeByHiphen(e),_.forEach(e,function(e){void 0===e.send_ics&&(e.send_ics=!0)}),o&&("internal"!==a&&!s||l)?y.displayNoResultsTemplate(Ye({attendeeType:a,isSearchResult:l})):Be({mapped_users:e,show_loggedIn_user:r,unmapped_users:[],show_mapped_header:!1,show_unmapped_header:!1,attendeeType:a,container:n})}function Ve(e){return e===t&&w.enable_meeting_host&&w.enable_meeting_host.toBoolean()}function Ge(e){return e===b&&!w.isConsecutiveMeeting&&U}function Ze(e,t){var i={};e.forEach(function(e){i[e.uuid]=e});var a=n(38);$(".attendee-details",t).map(function(){var e=$(this).data("uuid"),t=i[e];$(this).popover({html:"true",template:"<div class='popover room-tooltip' role='tooltip'><div class='popover-content'></div></div>",content:a(t),trigger:"hover",placement:"right"})})}function We(e){Me()&&Ce(e.data.items),ze(t,e.data,"internal")}function Je(){$(".section-meeting-proceed .selected-external-attendee .section-action").html(""),$(".attendee-empty-state.external").addClass("hide").html("")}function Ke(){$(".section-meeting-proceed .selected-internal-attendee .section-action").html(""),$(".attendee-empty-state.internal").addClass("hide").html("")}function Qe(e){var t=$(this).prop("checked"),n=$(this).data("uuid"),i=$(".tabs-attendees li.active").data("search-name");a.roleFilterChosen(n,t,i)}function Xe(e){e.preventDefault();var t=$(".tabs-attendees li.active").data("search-name");a.removeFilters(t),$(".filter-checkbox").prop("checked",!1),$(".filter-dropdown-toggle").dropdown("toggle")}function et(e){e.preventDefault(),"internal"===$(".tabs-attendees li.active").data("search-name")?a.filterInternal():a.filterExternal(),$(".filter-dropdown-toggle").dropdown("toggle")}function tt(e){ze(b,e.data,"external")}function nt(e){e.preventDefault();var t=$(this),n=t.data("uuid"),i=t.data("default-attendance");gt(t,n,b),"virtual"===i?a.selectVirtualAttendeesToUserList("external",n):a.selectExternalAttendee(n)}function it(e){e.preventDefault();var t=$(this),n=t.data("uuid"),i=!1,a=o.getExternalSelectedUser(n).user_name;window.envDetails.isConsecutiveMeeting?q.notificationModal({type:"confirmation",class:"yellow",title:i18n.t("are_you_sure"),body:i18n.t("extenal_attendee_consecutive_meeting_removal_confirmation",{user:a}),done:function(){i=!0},dismiss:function(){i&&(ot(t),window.envDetails.isConsecutiveMeeting&&at(a))}}):(ot(t),window.envDetails.isConsecutiveMeeting&&at(a))}var at=function(e){j.notificationModal({body:i18n.t("external_attendee_consecutive_meeting_remove_message",{user:e}),class:"green"})},ot=function(e){var t=e.data("uuid");yt(e,t,b),a.unselectExternalAttendee(t)};function lt(e){var t;e.uuid?t=function(){e.uuid&&(e.fromUserPreference?ct(e):rt(e))}:($('.js-add-attendee-modal[type="'.concat(J,'"]')).addClass("programmaticHide").modal("hide"),t=$.noop),st(e,t)}function st(e,t){var n=e.message||i18n.t("room_capacity_exceeded"),i=e.title||i18n.t("room_capacity_exceeded_title");o.overRideRoomNonMMcapacityPopup&&(n=e.message||i18n.t("non_mm_room_capacity_exceeded"),i=e.title||i18n.t("non_mm_room_capacity_exceeded_title")),j.notificationModal({body:n,title:i,class:"red",dismiss:t||$.noop})}function rt(e){"internal"===e.attendee_type?e.isSelf?te():bt({user:{uuid:e.uuid}}):"external"===e.attendee_type?wt({user:{uuid:e.uuid}}):(s.resetAttendeeData(),Fe(),$('.js-add-attendee-modal[type="'.concat(J,'"]')).modal("hide"))}function ct(e){a.updateInternalAttendeeAttendance(e.uuid,"virtual"),$('.attendee-item.added[data-uuid="'+e.uuid+'"]').find(".attendee-attendance .status-label").text(M.request.virtual_label),$('.attendee-item.added[data-uuid="'+e.uuid+'"]').find(".change-mode-of-attendance.to-virtual").addClass("hide"),$('.attendee-item.added[data-uuid="'+e.uuid+'"]').find(".change-mode-of-attendance.to-in-person").removeClass("hide")}function ut(e,t){var n=t?"yes":"no",i=e===w.currentUser.uuid;if(i&&!w.canUserChangeSelfAttendance&&w.defaultStateOfAreYouAttending&&w.defaultStateOfAreYouAttending!==n){var a=t?"cannot_attend_meeting":"must_attend_meeting";return j.notificationModal({body:i18n.t(a),title:i18n.t("sorry"),class:"red"}),!1}return!i||!Re(t?"yes":"no")||(j.notificationModal({body:i18n.t("reinvite_before_attending_meeting"),title:i18n.t("reinvite_before_attending_meeting_title"),class:"red"}),!1)}function dt(e,t){j.notificationModal({title:i18n.t("calendar_notify_title_overlapping_block"),body:e,class:"yellow",dismiss:function(){a.unselectInternalAttendee(t)}})}function mt(e){e.preventDefault();var n=$(this),i=n.data("default-attendance"),o=n.data("uuid");if(ut(o,!0)){gt(n,o,t);var l=function(e){e&&dt(i18n.t("user_not_available"),o)};"virtual"===i?a.selectVirtualAttendeesToUserList("internal",o,l):a.selectInternalAttendee(o,l),ft(o),ht(o)}}function ft(e){w.enable_meeting_host&&w.enable_meeting_host.toBoolean()&&o.persistRequestorAsHost&&e===De()&&w.assign_requestors_as_meeting_host_by_default&&pt(e)}function ht(e){(function(e){return w.enable_meeting_host&&w.enable_meeting_host.toBoolean()&&w.assign_mapped_user_as_meeting_host_by_default&&e.mapped_topic})(o.getAttendeeDetails(e)||{})&&pt(e)}function pt(e){ue.call($('.add-keynote-speaker[data-uuid="'.concat(e,'"]'),".selected-attendee"))}function _t(e){e.preventDefault();var n=$(this),i=n.data("uuid");ut(i,!1)&&(a.updateAttendeeAsHost(i,!1),yt(n,i,t),a.unselectInternalAttendee(i))}function gt(e,n,i){var l,s=e.closest(".attendee-item"),r=xt(l=i===t?o.getAttendeeDetails(n,"internal"):o.getAttendeeDetails(n,"external"),i);if(s.clone().addClass(r).appendTo($(".selected-attendee",i)),$("#send_ics_".concat(n)).prop("checked",!0),s.addClass("hide"),n===w.currentUser.uuid&&(a.updateAreYouAttending("yes"),0===s.length&&n===w.currentUser.uuid)){var c=_.cloneDeep(w.currentUser);c.available=!0,c.selected&&(c.selectedClassName="added");var u=Be({unmapped_users:[c],attendeeType:"internal",container:i});$(u).addClass(r).appendTo($(".selected-attendee",i)),setTimeout(function(){Ze([c],i)},50)}setTimeout(function(){Ze([l],i)},50)}function vt(e){var t=$(this).parent().data("attuuid"),n=$(this).data("endorsed");a.updateAttendeePreEndorsement(t,n),$(e.currentTarget).closest(".attendee-item").removeClass("endorsed").addClass("added")}function yt(e,n,i){var a=$('.attendee-item.hide[data-uuid="'.concat(n,'"]'),i);a.find(".attendee-pic > i").removeClass("jif-iris-host").addClass("jif-user"),a.find(".status-label.host").text(""),a.removeClass("meeting-host"),a.find(".add-keynote-speaker").removeClass("hide"),a.find(".remove-keynote-speaker").addClass("hide");var l=_.find(h.model.internal,{uuid:n});if(l&&!l.available&&a.addClass("unavailable"),a.length>0)e.closest(".attendee-item").remove(),a.removeClass("hide added");else if(n!==w.currentUser.uuid)if(o.selection.internal[n]&&o.selection.internal[n].mapped_topic){var s=$(".mapped-users-header");if(s.length)s.after(e.closest(".attendee-item").removeClass("added"));else{var r=$('<div class="mapped-users-header grouper"></div>');r.text(i18n.t("mapped_users_header")),$(".selected-attendee",t).after(r),r.after(e.closest(".attendee-item").removeClass("added"))}}else e.closest(".attendee-item").removeClass("added").appendTo(i)}function bt(e){var n=e.user&&e.user.uuid,i=$('.attendee-item[data-uuid="'.concat(n,'"]'),$(".selected-attendee",t));i&&(yt(i,n,t),he({action:"remove",uuid:n}))}function wt(e){var t=e.user&&e.user.uuid;yt($('.attendee-item[data-uuid="'.concat(t,'"]'),$(".selected-attendee",b)),t,b)}function Mt(e,t,n){var i=e.user;_.isUndefined(i.send_ics)&&(i.send_ics=!0),i.uuid===w.currentUser.uuid&&a.updateAreYouAttending("yes");var o=$('.attendee-item[data-uuid="'.concat(i.uuid,'"]'),t);if(i.selected&&(i.selectedClassName="added"),0===o.length){var l=Be({unmapped_users:[i],attendeeType:n,container:t});o=$(l),t.find(".no-users-found")[0]&&t.find(".no-users-found").remove()}else o.addClass("hide"),o=o.clone().removeClass("hide");var s=xt(i,t);o.addClass(s),o.appendTo($(".selected-attendee",t)),Ze([i],t),"internal"===n&&(ft(i.uuid),ht(i.uuid))}function xt(e,t){return e.confirm_endorse_button?"endorsed":Ge(t)?"added external-ics":"added"}function Ct(e){a.updateAreYouAttending(null),P.slideDown(),$("#attendingStatus").find(".jif-dropright-filled").addClass("hide").next().removeClass("hide")}return{init:function(e){o.listen(function(e){var t=ee[e.type];t&&t(e)}),u.listen(function(e){var t=ee[e.type];t&&t(e)}),m.listen(function(e){var t=ee[e.type];t&&t(e)}),s.listen(function(e){if($(I).prop("disabled",!1),e.success){if(s.resetAttendeeData(),Fe(),$('.js-add-attendee-modal[type="'.concat(J,'"]')).modal("hide"),"closePopup"===e.type)return;e.user&&("internal"===e.attendee_type?(Mt(e,t,"internal"),he({action:"add",uuid:e.user.uuid})):Mt(e,b,"external"))}else j.notificationModal({body:i18n.t("Please contact event support for assistance"),title:i18n.t("Access denied"),class:"red"})}),r.listen(function(e){"undefined"!=typeof jiffle&&void 0!==e.data.resources&&e.data.resources.external_users.length&&(_.forEach(e.data.resources.external_users,function(e){if(!e.uuid.includes("dummy_")){var t=b.find('.attendee-item[data-email="'.concat(e.email.replace(/[!"#',\/:;<=>?[\\\]^`{|}~]/g,"\\$&"),'"]'));t.length&&(t.data("uuid",e.uuid),t.attr("data-uuid",e.uuid),t.find("[data-uuid]").data("uuid",e.uuid),t.find("[data-uuid]").attr("data-uuid",e.uuid))}}),o.updateExternalSfdcUserUUID(e.data.resources.external_users))}),re(),"undefined"!=typeof jiffle&&le(e),"".concat(w.currentUser.first_name," ").concat(w.currentUser.last_name,", "),ne(),ie(),w.isConsecutiveMeeting?(P.hide(),K.external="add_to_all",Q.external="remove_from_all"):w.allowRequestorToAddInternalAttendee||$("#attendee-addbtn").hide(),s.updateAttendeeType(E),M.request&&!0===M.request.isExternalRequest&&M.request.users.external.length&&$("a[href='#external-attendees-tab']").tab("show");var n=o.getInternalResult(),i=o.getExternalResult();null!==n&&We({data:n}),null!==i&&tt({data:i})},addAttendeeAsKeynoteSpeaker:ue,meetingHostUIAction:me}}();e.exports=D},function(e,t){var n=Reflux.createActions(["getRequestorMailForm","sendRequestorMail"]);e.exports=n},function(e,t,n){function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}var l=n(84);e.exports=function(e,t){function n(e){return _.orderBy(e.internal,["meeting_host"],["desc"])}_.assign(this,{room:{uuid:"",name:"",activityName:"",offsite_name:"",offsite:!1,offsite_address:"",capacity:"",address:void 0,isBoothTour:!1,booth_tour_name:"",booth_tour_address:""},meetingType:{name:"",uuid:""},booth_tour_uuid:null,external:[],internal:[],activityName:"",event:null,topic:{uuid:"",name:""},attendingMeetingStatus:null,totalExistingCount:0,account:{is_changed:!0,acc:{id:"",name:""},oppty:{id:"",name:""}},isNew:!e,activitySettings:{},onBehalfActions:{},persistRequestorAsHost:!0,newCreatedUsers:[],proposedData:{active:!1,data:{}}},t),this.getDisplayAttributes=function(e){var t=this.internal.length,i=this.external.length,o=!!this.event;return this.meeting_host_label=this.meeting_host_label||window.envDetails.meeting_host_label,this.enable_meeting_host=_.isUndefined(this.enable_meeting_host)?window.envDetails.enable_meeting_host:this.enable_meeting_host,{start_time:o&&moment(this.event.start_date).format("hh:mm a")||"",end_time:o&&moment(this.event.end_date).format("hh:mm a")||"",event_date:o&&this.event.start_date.toMediumDate()||"",display:o,internal_attendees:n(this),is_editable:a(this),internal_label:i18n.t(1==t?"internal_participant":"internal_participants"),internal_count:(t<10&&0!==t?"0":"")+t,external_attendees:this.external,external_label:i18n.t(1==i?"external_participant":"external_participants"),external_count:(i<10&&0!==i?"0":"")+i,offsite:this.room.offsite&&!this.room.isBoothTour,booth_tour:this.room.isBoothTour,booth_tour_name:this.room.booth_tour_name,booth_tour_address:this.room.booth_tour_address,offsite_name:this.room.offsite_name,offsite_address:this.room.offsite_address,meeting_type:c(this)?this.meetingType.name:"",room_name:this.room.name,remove_label:i18n.t(this.isNew?"discard":"cancel"),mode:this.isNew?"new":"edit",uuid:this.uuid,meeting_host_label:this.meeting_host_label,enable_meeting_host:this.enable_meeting_host,persistRequestorAsHost:this.persistRequestorAsHost,newCreatedUsers:this.newCreatedUsers}}.bind(this),this.getColumnAttributes=function(e){var t=!!this.event;return _.merge({activity_uuid:this.meetingType.uuid,start_time:t&&moment(this.event.start_date).format("YYYY-MM-DD HH:mm A")||null,end_time:t&&moment(this.event.end_date).format("YYYY-MM-DD HH:mm A")||null,topic_uuid:this.topic.uuid,meeting_uuid:this.isNew?"":this.uuid},this.getRoomDetails(),this.getAttendees(),this.getUserPreferences(),e)}.bind(this),this.sortInternalAttendeesByHost=n.bind(this),this.hasEnoughRoom=function(e){return this.room.offsite||this.room.isBoothTour||!this.room.uuid||function(e,t){var n=e.room.capacity>e.totalExistingCount?e.room.capacity:e.totalExistingCount,i=Number(n)-r(e.internal).length-r(e.external).length;return 1==t?i>=t:i>0}(this,e)}.bind(this),this.setActivitySettings=function(e){this.activitySettings=e}.bind(this),this.getDisplayOptions=function(){return{meetingId:this.id?"#"+this.id:"",status:this.status,uuid:this.uuid,activityName:this.activityName,timeRange:s(this.event)}}.bind(this),this.getRoomDetails=function(){var e={};return this.room.isBoothTour?e.booth_tour_uuid=this.booth_tour_uuid:this.room.uuid?e.room_uuid=this.room.uuid:(e.offsite_location_name=this.room.offsite_name,e.offsite_location_address=this.room.offsite_address),e}.bind(this),this.getUserPreferences=function(){var e={};return _.forEach(this.internal,function(t){t.meeting_host&&(e[t.uuid]={meeting_host:!0}),e[t.uuid]=o({},e[t.uuid],{pre_endorse:t.pre_endorse})}),window.isSFDC()&&_.forEach(this.external,function(t){e[t.uuid]={send_ics:t.send_ics,meta_info:l.getUserMetaInfo(t)}}),{user_preferences:e}}.bind(this),this.getAttendees=this.isNew?function(){return{users:_.map(this.internal.concat(this.external),"uuid")}}.bind(this):function(e){var e=this,t=_.partition(e.internal.concat(e.external),{invite_status:"declined"});return{users:_.map(t[1],"uuid"),declined_attendees:_.map(t[0],"uuid")}}.bind(this),this.getAttendeeDetails=function(e){return[].concat(i(this.internal),i(this.external)).find(function(t){return t.uuid===e})},this.updateExternalAttendeeStatuses=function(e){this.external.forEach(function(t){e[t.uuid]&&(t.invite_status=e[t.uuid])})}.bind(this),this.updateInviteStatus=function(e,t){(_.find(this.internal.concat(this.external),{uuid:e})||{}).invite_status=t}.bind(this),this.uuid=e||"_"+Math.random().toString(36).substr(2,9),this.active="cancelled"!==this.status,this.isMeetingOverride=!1,this.setTopicSettings=function(e){this.topicSettings=e};var a=function(e){return e.isNew||e.can_edit};function s(e){return e?moment(e.start_date).format("h:mm a")+" - "+moment(e.end_date).format("h:mm a"):""}function r(e){return _.filter(e,function(e){return"declined"!==e.invite_status})}function c(e){return e.room.offsite||e.room.isBoothTour||!!e.room.uuid}}},function(e,t){var n=Reflux.createActions(["updateCalendar","getCityTimeZone"]);e.exports=n},function(e,t,n){var i=n(34),a=n(3),o=n(18),l=window.selectedActivityUuid,s=Reflux.createStore({init:function(){this.listenToMany(i),this.currentEvent=null},onFetchExperts:function(e){var t={search:e.searchTerm,activity_uuid:l};if(envDetails.topicManagementEnabled&&envDetails.topicUserMappingEnabled)if("undefined"!=typeof topic_uuid)t.topic_uuid=topic_uuid;else if("new"===mode){var n=$("#topic_management-complement").val();"-"===n&&(n=""),t.topic_uuid=n}else t.topic_uuid=meetingInfo.request.topic_uuid;var i=$(".room-selected").data("uuid");void 0!==i&&(t.room_uuid=i),"edit"===meetingInfo.request.mode&&(t.meeting_request=meetingInfo.request.uuid),this.setMeetingTimes(t);var o=a.fetch({url:a.ENDPOINTS.expert_users,data:t});o.then(function(t){this.trigger({type:"experts",data:t,page:t.data.current_page,callback:e.callback})}.bind(this)),o[o.fail?"fail":"catch"](function(e){this.trigger({type:"expertsFetchError",data:e.responseJSON})}.bind(this))},onSetCurrentEvent:function(e){this.currentEvent=e},setMeetingTimes:function(e){if(this.currentEvent){var t=(this.currentEvent.end_date-this.currentEvent.start_date)/1e3/60,n=60*this.currentEvent.start_date.getHours()+this.currentEvent.start_date.getMinutes(),i=n+t;e.event_date=moment(this.currentEvent.start_date).format("DD-MM-YYYY"),e.start_time=n,e.end_time=i,e.time_zone=o.getTimeZoneId("primaryTimeZone")}},onInitiateNewMeeting:function(e,t){this.currentEvent=t.event||null,l=e}});e.exports=s},function(e,t,n){var i=n(142),a=n(3),o=n(15),l=Reflux.createStore({init:function(){this.listenToMany(i)},onSetPartialTime:function(e,t,n){var i={uuid:e,startTime:t,endTime:n};this.trigger({action:"setParticipationTime",data:i})},onCheckAvailability:function(e,t,n,i){if("new"===window.mode)return this.trigger({type:"onCheckAvailabilityComplete",data:"available"});var o=a.fetch({url:a.replaceUrlParams(a.ENDPOINTS.check_attendee_availability,["{uuid}",e]).url,data:{start_time:n,end_time:i,meeting_uuid:t}});o.then(function(e){this.trigger({type:"onCheckAvailabilityComplete",data:e.data.availability})}.bind(this)),o[o.fail?"fail":"catch"](function(e){this.trigger({type:"onCheckAvailabilityFailed",data:e})}.bind(this))},onSendPartialTime:function(e,t,n,i){i=o.jsDateToDateFormat(i);var l={uuid:meetingInfo.request.uuid,user_participation:{}};l.user_participation[e]={partial_start_time:i+" "+t,partial_end_time:i+" "+n},a.update({url:a.ENDPOINTS.set_participation,data:l}).then(function(e){this.trigger({type:"onSetPartialParticipation",data:_.merge(e,l)})}.bind(this))}});e.exports=l},function(e,t){var n=Reflux.createActions(["setPartialTime","sendPartialTime","checkAvailability"]);e.exports=n},function(e,t,n){n(35);var i=n(139),a=n(13).MeetingStore,o=(n(3),n(18)),l=n(36),s=n(85),r=(n(11),n(37).CalendarAvailabilityStore),c=function(){var e,t,c,u=$(".js-date-picker-section"),d=($(".room-list"),new Date);function m(){f(scheduler.getState().date),a.blockRoom()}function f(e){i.updateCalendar.trigger(e)}return{init:function(e){var i=e.showMeetingTimezoneDropdown,a=e.setMeetingTimezoneDefaultToEventTimezone;i&&(u.html(n(105)({book_meeting:!0})),t=$("#city-for-time-zone"),c=$(".js-display-timezone"),s.init({timeZoneCityField:t,displayTimeZoneField:c,Actions:l,Store:o,CalendarAvailabilityStore:r,timeZoneChangeCallback:m,isExternalWidget:!1,timeZoneCityContainer:"#select2-city-for-time-zone-container",shouldUpdateTimezoneInStore:!0}),s.setTimeZoneField()),a&&s.updateStoreWithDefaultEventTimezone(o)},setCalendarConfig:function(){scheduler.config.first_hour=0,scheduler.config.last_hour=24,scheduler.config.limit_start=null,"new"!==window.mode||meetingInfo.request&&meetingInfo.request.start_time||(scheduler.config.scroll_hour=8),scheduler.config.limit_end=null,scheduler.config.limit_view=!1,window.isOngoingSales&&(scheduler.attachEvent("onEventAdded",function(t,n){e=n}),scheduler.attachEvent("onBeforeDrag",function(t){return e=scheduler.getEvent(t),!0}),scheduler.attachEvent("onDragEnd",function(){var t,n;e&&"start_date"in e&&(t=e.start_date,!n&&scheduler.setCurrentView(t),f(t))})),scheduler.update_view()},isPastDay:function(e){var t=moment(d).startOf("day");return moment(e).startOf("day")-t<0},fetchAvailablity:f}}();e.exports=c},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(29),s=n(13),r=n(12),c=n(8),u=n(11),d=n(145),m=n(65),f=n(34),h=n(14).AttendeeStore,p=n(30).BriefingRequestStore,g=(n(18),n(77)),v=n(15),y=n(119),b=function(){var e=$(".instruction-label"),t=$("#js-instructions-display"),i=$(".instruction-check"),b=s.MeetingStore,w=window.ReactMessage||$(".notification-modal"),M=$(".notification-modal"),x=null,C=null,D=null,k=!1,S=!1,A=!1,T=!1,E=!1,I="",O=!0,P="offsites",j="BoothTour",q=$("#attendee-label").closest(".header-right"),R=i18n.t("offsite"),N=i18n.t("booth_tour_header"),F=i18n.t("booth_tour_label"),U=i18n.t("booth_tour_name"),L="",Y=".js_check_room",B=$("#roomsTabList"),z=$("#mappedTab"),H=$("#mappedroom"),V=$(".room-list",H),G=$(".js_selected_room",H),Z=$("#boothTour",H),W=$("#nonJmmRoom",H),J=$("#othersTab"),K=$("#otherroom"),Q=$(".meeting-list",K),X=$(".room-list",K),ee=$("#offsiteTab"),te=$("#offsite"),ne=$(".meeting-list",te),ie=$(".js-offsite-location",te),ae=$(".mst-offsite-check",te),oe=$(".mst-selected-offsite",te),le=$(".mst-selected-offsite .room-selected-icon",ae),se=$(B,'a[data-toggle="tab"]'),re=$(".js-vcon-link-section"),ce={onGetAllMeetingTypes:function(e){if(function(e){e.data&&e.data.activity&&"no"===e.data.activity.settings.can_edit_approved_meeting&&!_e&&"approved"===u.model.status&&(d.setEnableEdit(!1),u.renderTimeRoomAttendee())}(e),function(){pe()?(Mt(K),Mt(K)):(wt(J),wt(K));Mt(B),Mt(te)}(),e.isCapicityFilter)return Re(!0,e.lastAttendeeUuid,e.groupData,b.getMstConfigs()),void ve();var t=e.data.activity,n=t.rooms||[],i=t.other_rooms||[];if(200===e.status||e.success){var o=e.data.manual_scheduling_configs;if(_.isEmpty(b.getMstConfigs())&&l.setMstConfigs.trigger(o),e.first_load){var s;setTimeout(function(){scheduler.updateView()},100),Re(null,null,e.groupData,o),$e();window.meetingInfo.booth_tour_label||i18n.t("booth_tour");if("new"===window.mode)if(e.byPassMasCalEntry)x&&we();else if(!1===_.isEmpty(window.meetingInfo.request.room)){var r=$.urlParam("entityType"),f=$.urlParam("copy_meeting");f?ye(window.meetingInfo.request.room,o,!0):r&&r===P?(ge(o,"off_site"),Ge()):r&&r===j?it(meetingInfo.request.room.uuid):(s=b.getPreSelectedRoom(window.meetingInfo.request.room.uuid),x=s,window.briefing_uuid&&x?function(e){var t=p.briefingAttendeesCount,n=e.uuid,i=e.capacity,a=window.envDetails.isConsecutiveMeeting;if(e&&ze(n),He(),!a&&l.editRoom(e),t>i){var o=!1;M.notificationModal({type:"confirmation",class:"yellow",title:i18n.t("override_room_capacity_header"),body:i18n.t("override_room_capacity_body"),done:function(){o=!0},dismiss:function(){o?h.persistOverRideRoomPopup(o):gt()}})}}(x):(r&&"on_site"===r&&ge(o,"on_site"),x&&ze(x.uuid),He(),window.envDetails.isConsecutiveMeeting||l.editRoom(x)))}else!function(e){var t=e.rooms,n=e.groupData,i=e.activity,a=e.configs,o=e.mstConfigs.enabled,l=a||{},s=l.can_book_room,r=l.can_book_booth_tour,c=n?_.groupBy(t,"mapped_topic").true:t;if(s&&c&&c.length>=1&&r||o)return;!function(e,t){if(e&&1===e.length){var n=e[0].uuid;!function(e){$('.room-select-item[data-uuid="'+e+'"]').trigger("click")}(n)}else _.isEmpty(t)||it(t.uuid)}(c,i.booth_tour)}({rooms:n,groupData:e.groupData,activity:t,configs:e.configs,mstConfigs:o}),ve();else if("edit"===window.mode)if(u.isTopicDirty())x&&we();else{var g=window.meetingInfo.request.room||x||{};ye(a({},g))}}else e.isNewEvent&&(G.empty(),Q.empty(),Re(null,null,e.groupData,o),ve());scheduler.config.booth_tour_enabled=e.configs.booth_tour_enabled,be()&&c.getBoothTourLocationUuids(),scheduler.config.offsite_enabled=e.configs.offsite_enabled,scheduler.config.can_book_offsite=e.configs.can_book_offsite,scheduler.config.can_book_booth_tour=e.configs.can_book_booth_tour,scheduler.config.can_book_room=e.configs.can_book_room,je(),d.setAddOffsiteLabel(R),I&&function(e,t,n){var i=e.parentSelector,a=e.selectedRoomType,o=n.offsite_enabled,l=n.can_book_offsite,s="offsiteLocation"===a&&o&&l,r="otherRooms"===a&&t.length;if(s||r)return void $("".concat(i," a")).tab("show");$("#mappedTab a").tab("show")}(I,i,scheduler.config),function(e,t){t.enabled?(!function(e,t){"off_site"===b.locationPreference&&(S=!0),scheduler.config.offsite_enabled?A?Ee():null===C&&Ie():(Ee(),Oe());scheduler.config.booth_tour_enabled?T?wt([Z,V]):null===D&&Mt([Z,V]):wt(Z);e.length?(Mt(W),Mt(z),Mt(V),Ee()):Fe()||k?(Mt(W),Mt(z),Mt(V)):Mt(W);if("edit"===window.mode){if(Fe()||!Fe()&&!Ue())return void function(){!b.isOffsiteSelected&&!S&&Ee(),b.locationPreference&&(D&&"booth_tour"!==b.locationPreference&&ht(),C&&"off_site"!==b.locationPreference&&(ae.removeClass("hide"),le.addClass("hide"),oe.removeClass("mst-offsite-highlight"),ne.empty()),x&&"on_site"!==b.locationPreference&&vt());"on_site"===b.locationPreference?(m.setSetByDefualt(!1),x?(ze(x.uuid),at({},!0),wt(W)):(wt(W),l.roomChosen(null),at({}))):(Mt(W),"off_site"===b.locationPreference&&(b.isOffsiteSelected&&b.selectedRoom&&ae.addClass("hide"),me(z),me(H),de(te),de(ee)))}();Ee(),Oe(),wt(Z),wt(W),ae.addClass("hide"),"on_site"===window.meetingInfo.request.location_preference?Fe()||Ue()?(x?ze(x.uuid):(Mt(G),Mt(Q),de(H),de(z)),He()):at():"off_site"===window.meetingInfo.request.location_preference?(Mt(ee),Mt(te),de(ee),de(te),Pe(),wt(z),wt(H)):"booth_tour"===window.meetingInfo.request.location_preference&&(wt(V),Pe(),Mt(H),de(H),it())}else"off_site"===b.locationPreference?($('a[href="#offsite"]').tab("show"),st(b.isOffsiteSelected||S)):"booth_tour"===b.locationPreference?(Ee(),it()):"on_site"===b.locationPreference&&(Ee(),wt(W),Fe()||Ue()||at())}(e),O&&(!Fe()&&!Ue()&&z.find("a").text(i18n.t("mst_on_site")),$(".meeting-type-section .section-title").text(i18n.t("mst_preferred_location"))),O=!1):function(e){scheduler.config.offsite_enabled?scheduler.config.can_book_offsite?(A?(Ee(),Ge()):null===C&&(Ie(),scheduler.config.can_book_room&&e.length||scheduler.config.can_book_booth_tour?$.urlParam("entityType")!==P&&(e.length||scheduler.config.can_book_booth_tour)&&(Mt(z),Ve()):(wt(z),Ge())),Mt(z),Mt(V)):(Ee(),Oe(),(window.scheduler.config.can_book_room||window.scheduler.config.can_book_booth_tour)&&(Mt(V),Mt(z)),C&&dt()):(Ee(),Oe());scheduler.config.booth_tour_enabled?scheduler.config.can_book_booth_tour?(T?wt([Z,V]):null===D&&Mt([Z,V]),e.length?scheduler.config.can_book_room&&Mt(V):wt(V)):(scheduler.config.can_book_room&&Mt(V),wt(Z),D&&mt()):wt(Z);ae.addClass("hide")}(e)}(n,o),scheduler.updateView()}else if(e.errors){var v=_.flatten(_.values(e.errors));w.notificationModal({timeout:!0,class:"red",body:v.join(", "),title:i18n.t("room_information_title")})}},overRidedRoomcapacity:function(e){if(h.getOverRideRoomcapacityPopup())return void s.MeetingStore.chooseRoomForOverRideCapacity(e);var t=!1;M.notificationModal({type:"confirmation",class:"yellow",title:i18n.t("override_room_capacity_header"),body:i18n.t("override_room_capacity_body"),done:function(){t=!0},dismiss:function(){t?(s.MeetingStore.chooseRoomForOverRideCapacity(e),h.persistOverRideRoomPopup(t)):gt()}})},onResetRoomList:function(){Ye(),x=null,C=null,D=null,T=!1,A=!1,l.getAllMeetingTypes({isFirstLoad:!0,byPassMasCalEntry:!0})},initiateNewMeeting:function(n){if(xt===n.uuid)return;xt=n.uuid,x=null,C=null,D=null,E=!1,n.room&&(n.room.isBoothTour?(D={name:n.room.name,address:n.room.address,isBoothTour:!0},A=!1,T=!0):n.room.offsite?(C={name:n.room.offsite_name,address:n.room.offsite_address,offsite_location_address:n.room.offsite_address,offsite:!0},A=!0,T=!1):(x={uuid:n.room.uuid},A=!1,T=!1));Ye(),e.addClass("hide"),t.addClass("hide"),t.html(""),l.fetchActivitySettings(),l.getAllMeetingTypes({isFirstLoad:!0,isNewEvent:!0,showInstructions:!0})},setBookMeetingInstructions:function(a){a.book_meeting_instructions_header=a.book_meeting_instructions_header||i18n.t("instructions");var o=a.instruction_book_meeting,l=a.book_meeting_instructions_body,s=void 0===l?"":l;if("yes"===o&&s.trim()){var r=n(124);e.removeClass("hide"),t.removeClass("hide"),t.html(r({configs:a,isConsecutiveMeeting:window.envDetails.isConsecutiveMeeting})),i.prop("checked","edit"!==window.mode)}},populateConferences:function(e){var t=e.data;if(t[t.length]={adapter_name:"AddLink",integration_name:"Add link",alternate_host_enabled:!1,default_all_internal_attendees_as_alternate_hosts:!1},re.find(".js-vcon-options").select2({width:"100%",multiple:!1,placeholder:i18n.t("add_conference"),data:t.map(function(e){return{id:e.integration_name,adapter_name:e.adapter_name,text:e.integration_name,title:e.integration_name,integration_name:e.integration_name,user_based_auth:e.user_based_auth,company_integration:e.company_integration,default_all_internal_attendees_as_alternate_hosts:e.default_all_internal_attendees_as_alternate_hosts,html:'<div class="select2-logo-item"><div><i class="jif-logo-'.concat(e.adapter_name,'"></i></div><div>').concat("AddLink"===e.adapter_name?"Click to Add link":e.integration_name,"</div></div>")}}),templateResult:function(e){return e.html},templateSelection:function(e){return""!==e.id?e.html:e.text},escapeMarkup:function(e){return e}}),re.find(".js-vcon-options").on("select2:selecting",function(e){var t=u.getModelData(),n=$(window.briefing_uuid?"#meetingWithField":"#req_page_meeting_with").val()||$("#req_page_meeting_with").val();if("AddLink"===e.params.args.data.adapter_name||t.event&&t.event.start_date)if("AddLink"===e.params.args.data.adapter_name||n)De()&&"AddLink"!==e.params.args.data.adapter_name&&null===ke()?(w.notificationModal({timeout:!0,class:"red",body:i18n.t("vcon_select_meeting_host_warning"),title:i18n.t("error_title")}),e.preventDefault()):"AddLink"!==e.params.args.data.adapter_name&&null===ke()&&(w.notificationModal({timeout:!0,class:"red",body:i18n.t("vcon_select_meeting_requestor_warning"),title:i18n.t("error_title")}),e.preventDefault());else{var i=u.customFormLabels,a=i?i.meeting_with:"Meeting With";w.notificationModal({timeout:!0,class:"red",body:"Please ensure to ".concat(a," should filled."),title:i18n.t("error_title")}),$("#req-page-meeting-form").addClass("has-error"),e.preventDefault()}else w.notificationModal({timeout:!0,class:"red",body:i18n.t("vcon_select_meeting_time_and_date_warning"),title:i18n.t("error_title")}),e.preventDefault()}),!_.isEmpty(window.meetingInfo.request.vcon)){re.find(".js-vcon-options").val(window.meetingInfo.request.vcon.conference_name);var n=re.find(".js-vcon-options").select2("data")[0].adapter_name;u.setModelData("vcon",a(a({},o({},n,window.meetingInfo.request.vcon)),{active:n})),re.find(".js-vcon-options").trigger("change")}r.reRenderInternalAttendeeList()},onConferenceFailed:function(e){var t=[];e=e.responseJSON||e,_.forEach(e.errors,function(e){t.push(e)}),w.notificationModal({timeout:!0,class:"red",title:i18n.t("failure"),body:e.message,errors:{details:{__warning__:e.message}}})}},ue={setHiddenExpertsCount:function(e){s.MeetingStore.setHiddenExpertsCount(e)}};function de(e){e.addClass("active")}function me(e){e.removeClass("active")}function fe(){x?vt():C?_t():D&&ht()}function he(){S?(ae.hasClass("hide")&&ae.removeClass("hide"),ct()):k&&(l.nonJmmRoomChosen(null),k=!1,G.empty(),Mt(W))}function pe(){return!("undefined"!=typeof jiffle)&&!window.mappingEnabled&&Fe()}function _e(){return window.envDetails.isCSM()||window.envDetails.isMeetingManager()||window.envDetails.isJuniorMM()}function ge(e,t){e.enabled&&l.locationPreferenceChange.trigger(t)}function ve(){var e=b.getMstConfigs().enabled;x?(ze(x.uuid),He()):C?(ot(),Ge()):D?(lt(),Ve()):k?at():e&&S&&Ge()}function ye(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e;window.meetingInfo.request.room&&("BoothTour"===window.meetingInfo.request.room.type&&(D={name:window.meetingInfo.request.room.name,address:window.meetingInfo.request.room.location,isBoothTour:!0,boothTourUuid:window.meetingInfo.request.room.uuid},i={}),window.meetingInfo.request.room.offsite&&(C={name:window.meetingInfo.request.room.name,address:window.meetingInfo.request.room.location})),i.uuid?function(e){ze((x=e).uuid),He(),b.isBoothTourSelected=!1,b.isOffsiteSelected=!1,window.envDetails.isConsecutiveMeeting||l.editRoom(x)}(i):(_.assign(i,C),void 0!==i.offsite_location_address||i.offsite?(!function(e){C={name:e.offsite_location_name||e.name,address:e.address||e.offsite_location_address||e.location},ot(),Ge(),A=!0,b.isBoothTourSelected=!1,b.isOffsiteSelected=!0,window.envDetails.isConsecutiveMeeting||l.offsiteChosen(C)}(i),n&&t.enabled&&ae.addClass("hide")):(_.assign(i,D),i.isBoothTour&&function(e){D={name:U,address:e.address||e.boothTourAddress||L,isBoothTour:!0,booth_tour_display_name:F,boothTourUuid:e.boothTourUuid},lt(),Ve(),T=!0,b.isBoothTourSelected=!0,b.isOffsiteSelected=!1,window.envDetails.isConsecutiveMeeting||l.boothTourChosen(D)}(i)))}var be=function(){return(window.envDetails.isConsecutiveMeeting||window.scheduler.config.booth_tour_enabled)&&!1===u.isBoothTourConfigsFetched};function we(){G.empty(),Q.empty(),ze(x.uuid),He()}function Me(e){Ce({link:$(this).val().trim()})}function xe(e){Ce({desc:$(this).val().trim()})}function Ce(e){var t=u.getModelData("vcon");t.AddLink=t.AddLink||{},u.setModelData("vcon",a(a({},t),{AddLink:a(a({},t.AddLink),e)})),l.vconInfoCaptured()}function De(){return meetingInfo.request&&(!0===meetingInfo.request.isExternalRequest||!_.isEmpty(meetingInfo.external_request_uuid)||!_.isEmpty(meetingInfo.inbound_request_uuid))}function ke(){if(De()&&envDetails.enable_meeting_host&&envDetails.enable_meeting_host.toBoolean()){var e=u.getInternalAttendees(),t=_.filter(e,{meeting_host:!0})[0];return void 0!==t?t.uuid:null}return $(window.briefing_uuid?"#requestor-select":"#requestor-select-complement").val()}function Se(e,t,i,s){var r,c=_.cloneDeep(e),d="MicrosoftTeams"!==t,m=u.getModelData();u.setModelData("vcon",a(a({},m.vcon),(o(r={},t,c),o(r,"active",t),o(r,"conference_name",i),o(r,"hostJnUuid",s),r))),e.telephony&&e.telephony.joinByPhone&&(e.telephony.joinByPhone=Array.isArray(e.telephony.joinByPhone)?e.telephony.joinByPhone.join("<br>"):e.telephony.joinByPhone),re.find(".vcon-detail").removeClass("hide").html(n(214)(a(a({},e),{},{adapter_name:t,conference_name:i,showMeetingKey:d}))),l.vconInfoCaptured(),Ae(),m.event&&(vconAttributes={start_time:v.jsDateToWebEXDateFormat(m.event.start_date),end_time:v.jsDateToWebEXDateFormat(m.event.end_date),meeting_with:$(window.briefing_uuid?"#meetingWithField":"#req_page_meeting_with").val()||$("#req_page_meeting_with").val()},u.setMeetingInfoData(vconAttributes))}function Ae(){"new"===window.mode&&(re.find(".js-vcon-cancel").parent().remove(),re.append(n(215)()),re.on("click",".js-vcon-cancel",Te))}function Te(){u.setModelData("vcon",{}),re.find(".vcon-detail").addClass("hide"),re.find(".js-vcon-cancel").parent().remove(),re.find(".js-vcon-options").val("none"),re.find(".js-vcon-options").trigger("change"),l.vconInfoCaptured()}function Ee(){wt(ie)}function Ie(){Mt(ie),Mt(ee),Mt(te)}function Oe(){wt(ee),wt(te)}function Pe(){wt(J),wt(K)}function je(){if(!C&&!x&&!D)if(window.isEBCEvent)$("#room-label").html(i18n.t("briefing_center"));else{var e=[];scheduler.config.can_book_room&&e.push(i18n.t("room")),scheduler.config.offsite_enabled&&scheduler.config.can_book_offsite&&e.push(R),scheduler.config.booth_tour_enabled&&scheduler.config.can_book_booth_tour&&e.push(F),$("#room-label").text(e.join(", "))}}function $e(){var e,t,n,i,a,o,l,s,r,u,m,f,h=b.getActivitySettings();_.forEach(h,function(c,d){switch(d){case"minimum_timeslot":o=Number(c)||0;break;case"min_duration":l=Number(c)||0;break;case"max_duration":s=Number(c)||30;break;case"time_slot":e=Number(c)||0;break;case"offsite_enabled":i="yes"===c;break;case"offsite_min_duration":r=Number(c)||0;break;case"offsite_max_duration":u=Number(c)||30;break;case"show_all_requestors":E="yes"===c;break;case"duration_restrictions_for_mm":t="no"===c;break;case"offsite_duration_restrictions_for_mm":n="no"===c;break;case"offsite_label":R=c||R;break;case"booth_tour_enabled":a="yes"===c;break;case"booth_tour_label":F=c||i18n.t("booth_tour_label");break;case"booth_tour_header":N=c||i18n.t("booth_tour_header");break;case"booth_tour_max_duration":m=Number(c)||0;break;case"booth_tour_min_duration":f=Number(c)||0;break;case"booth_tour_default_name":U=c||U;break;case"booth_tour_default_location":L=c||L}}),scheduler.config.room_mm_override=t,scheduler.config.offsite_mm_override=n&&i,scheduler.config.booth_tour_mm_override=a,(t||scheduler.config.offsite_mm_override||scheduler.config.booth_tour_mm_override)&&(window.envDetails.isMeetingManager()||window.envDetails.isCSM()||window.envDetails.isJuniorMM())?(scheduler.config.maximum_duration=1440,scheduler.config.minimum_duration=e,scheduler.config.meetingMaximumDuration=t?1440:s,scheduler.config.meetingMinimumDuration=t?window.mappingEnabled?o:e:l,scheduler.config.offsiteMaximumDuration=n?1440:u,scheduler.config.offsiteMinimumDuration=n?e:r,scheduler.config.boothTourMaximumDuration=a?1440:m,scheduler.config.boothTourMinimumDuration=a?e:f,scheduler.config.event_duration=e,scheduler.config.mm_override=!0):(scheduler.config.maximum_duration=s,scheduler.config.minimum_duration=l,scheduler.config.meetingMaximumDuration=s,scheduler.config.meetingMinimumDuration=l,scheduler.config.offsiteMaximumDuration=u,scheduler.config.offsiteMinimumDuration=r,scheduler.config.boothTourMaximumDuration=m,scheduler.config.boothTourMinimumDuration=f,scheduler.config.event_duration=l,scheduler.config.mm_override=!1),scheduler.config.time_step=e,scheduler.config.meetingIncrement=o,c.setOffsiteLabel(R),E=E||window.envDetails.isMeetingManager()||window.envDetails.isCSM()||window.envDetails.isJuniorMM()||window.envDetails.isQueueManager(),c.showHideRequestorsDropdown(E),d.setAddOffsiteLabel(R),d.setBoothTourLabels(N,F,U,L),qe(U,L)}var qe=function(e,t){$("#boothTourName").text(e),$("#boothTourAddress").text(t)};function Re(e,t,n,i){var a=b.getActivityRooms()||[];a&&0===a.length&&x&&G.find(".room-selected[data-uuid='"+x.uuid+"']").length&&(G.empty(),We(x.uuid),x=null),a=Ne(a),V.html(Le(a,n,i)),pe()&&((a=b.getActivityOthersRooms()||[])&&0===a.length&&x&&Q.find(".room-selected[data-uuid='"+x.uuid+"']").length&&(Q.empty(),We(x.uuid),x=null),(a=Ne(a)).length?(Mt(J),Mt(z),X.html(Le(a,n,i))):wt(J)),e||pt()}function Ne(e){return e=_.filter(e,function(e){var t=Fe()||e.capacity>=b.attendeeCount;return x&&x.uuid===e.uuid?e.hide="hide":e.hide="",t})}function Fe(){return window.envDetails.isCSM()||window.envDetails.isMeetingManager()||window.envDetails.isJuniorMM()}function Ue(){return window.meetingInfo.request.is_meeting_host||!1}function Le(e,t,i){var a=(i||{}).enabled,o=!(void 0!==a&&a)||Fe()||Ue()?"":i18n.t("location_will_assign_by_mm");if(t){var l=[],s=[],r=_.groupBy(e,"mapped_topic");return _.forEach(r,function(e,t){"true"===t?l=l.concat(e):s=s.concat(e)}),n(89)({mapped_rooms:l,unmapped_rooms:s,show_mapped_header:l.length,show_unmapped_header:s.length,hasRooms:e.length>0,showRoomAssignMessage:o,roomAssignMessage:o})}return n(89)({mapped_rooms:[],unmapped_rooms:e,show_mapped_header:!1,show_unmapped_header:!1,hasRooms:e.length>0,showRoomAssignMessage:o,roomAssignMessage:o})}function Ye(){V.html(""),G.html(""),X.html(""),Q.html(""),ne.html("")}function Be(){var e=window.meetingInfo.request;return"edit"===e.mode&&!1===e.can_change_room}function ze(e){var t,i=b.getSpecificRoom(e),a=b.getOthersRoom(e);return i?(i.read_only=Be(),t=n(90)(i),G.html(t).removeClass("clubbed-options"),Ze(e),Mt(G),x=i,i):a?(a.read_only=Be(),t=n(90)(a),Q.html(t),Ze(e),Mt(Q),x=a,a):(pt(),void(x=null))}function He(){if(x){var e=b.getSpecificRoom(x.uuid),t=b.getOthersRoom(x.uuid);e?Ve():t&&pe()&&$('a[href="#otherroom"]').tab("show")}}function Ve(){$('a[href="#mappedroom"]').tab("show")}function Ge(){ee.removeClass("hide"),$('a[href="#offsite"]').tab("show"),$(".selected-offsite .room-selected-icon").on("click",dt)}function Ze(e){$('.room-select-item[data-uuid="'+e+'"]').addClass("hide")}function We(e){$('.room-select-item[data-uuid="'+e+'"]').removeClass("hide")}function Je(e){e.preventDefault(),fe(),he();var t=b.getMstConfigs();ge(t,"on_site"),m.setSetByDefualt(!1),q.removeClass("hide"),ze($(this).data("uuid")),t.enabled&&(wt(W),at({},!0)),l.roomChosen(x),h.resetOverRideRoomNonMMcapacityPopup(!1),window.mappingEnabled&&f.fetchExperts({callback:function(){r.resetAllAttendees()}})}function Ke(e){e&&e.preventDefault(),e&&e.stopPropagation(),b.getMstConfigs().enabled&&!S&&!_e()&&b.canChangeLocationPreference()?Xe("off_site",Qe):Qe()}function Qe(){var e=$("form",ie),t=$("#name",e).attr("name","offsiteName"),n=$("#address",e).attr("name","offsiteAddress");e.validate(),m.setSetByDefualt(!1),e.valid()&&(fe(),C={name:t.val(),address:n.val()},A=!0,ge(b.getMstConfigs(),"off_site"),ot(),function(){(b.getActivityRooms()||[]).length?Mt(V):!Fe()&&!Ue()&&wt(V);!function(e){$("input, textarea",e).val(""),wt(e);var t=e.find("form").validate();t.resetForm(),t.reset(),$(".form-group",e).removeClass("has-error"),$(".help-block:not(.form-builder-help-block)",e).show(),scheduler.config.booth_tour_enabled&&scheduler.config.can_book_booth_tour&&!D&&Mt([Z,V])}(ie)}(),l.offsiteChosen(C),h.resetOverRideRoomNonMMcapacityPopup(!1),q.removeClass("hide"),ae.addClass("hide"),$(".selected-offsite .room-selected-icon").on("click",dt))}function Xe(e,t){b.setProposalState(!0),u.setEditProposalOnDemand(!1);var n=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";b.setProposalData({location_preference:e,reason:n}),t()};y.show({title:i18n.t("change_location_preference_title"),proceed:i18n.t("change_location_preference_next"),cancel:i18n.t("change_location_preference_skip"),successCallback:n,dismissCallback:n})}var et=function(){fe(),he(),l.nonJmmRoomChosen(),l.locationPreferenceChange.trigger("on_site",!1),m.setSetByDefualt(!1),l.roomChosen(null),at({}),wt(W)},tt=function(e){e&&e.preventDefault(),e&&e.stopPropagation(),b.getMstConfigs().enabled&&!_e()&&b.canChangeLocationPreference()?Xe("on_site",et):et()},nt=function(e){e.preventDefault(),e.stopPropagation(),b.getMstConfigs().enabled&&!_e()&&b.canChangeLocationPreference()?Xe("booth_tour",it):it()},it=function(e){var t=b.getMstConfigs().enabled;fe(),he(),D={name:U,address:L,isBoothTour:!0,boothTourUuid:e},t&&l.locationPreferenceChange.trigger("booth_tour",!1),lt(),m.setSetByDefualt(!1),l.boothTourChosen(D)};function at(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e||b.selectedRoom||{},a=i.name,o=i.capacity,s=i.mm_only,r=(i.hideCapacity,"edit"===window.mode),c=r&&!_.isEmpty(i);k=!0;var u=n(125)({mstNonJmm:!0,name:c?a:"Onsite Room",canChangePref:r,showRoomDetails:c,capacity:o,mm_only:s});l.locationPreferenceChange.trigger("on_site",!1);var d=t?"addClass":"removeClass";G[t?"prepend":"html"](u),G[d]("clubbed-options")}function ot(){var e=b.getMstConfigs().enabled,t=n(125)(a(a({},C),{},{isMstEditFlow:e&&"edit"===window.mode}));ne.html(t)}function lt(){var e=b.getMstConfigs().enabled,t=u.getCustomLabels().custom_labels.booth_tour_custom_label,i=n(125)(a(a({},D),{},{isMstEditFlow:e&&"edit"===window.mode,boothTourCustomLabel:t||""}));G.html(i).removeClass("clubbed-options"),wt([Z])}function st(e){e?(b.isOffsiteSelected=!0,b.selectedRoom=null,m.setSetByDefualt(!1),l.locationPreferenceChange.trigger("off_site"),le.removeClass("hide"),oe.addClass("mst-offsite-highlight"),Mt(ie),C&&Ee()):(b.isOffsiteSelected=!1,l.locationPreferenceChange.trigger(""),le.addClass("hide"),oe.removeClass("mst-offsite-highlight"),Ee())}function rt(e){S=e}function ct(e){e&&e.preventDefault(),e&&e.stopPropagation();var t=b.getMstConfigs().enabled;S||b.isOffsiteSelected||!t||_e()||!b.canChangeLocationPreference()?ut():Xe("off_site",ut)}function ut(e){fe(),rt(!S),st(S),k&&(l.roomChosen(null,!0),k=!1,G.empty(),Mt(W))}function dt(e){var t=b.getMstConfigs().enabled,n=b.getActivitySettings().enable_vcon_link,i=void 0===n?"no":n;if(e&&(e.preventDefault(),e.stopPropagation()),t&&"edit"===mode&&!i.toBoolean())return!1;l.offsiteChosen(null),_t()}function mt(e){var t=b.getMstConfigs().enabled;e&&(e.preventDefault(),e.stopPropagation()),t&&l.locationPreferenceChange.trigger("",!1),l.boothTourChosen(null),ht()}function ft(e){if(e&&(e.preventDefault(),e.stopPropagation()),b.getMstConfigs().enabled){b.getActivitySettings().enable_vcon_link;"edit"===mode&&l.locationPreferenceChange.trigger("",!1)}l.roomChosen(null),k=!1,G.empty(),Mt(W)}function ht(){D=null,T=!1,G.empty(),Mt([Z,V])}function pt(){(b.getActivityRooms()||[]).length&&Mt(V)}function _t(){var e=b.getMstConfigs().enabled;C=null,G.empty(),ne.empty(),scheduler.config.can_book_offsite&&Mt(ie),e&&(ae.removeClass("hide"),rt(!S),st(S)),A=!1}function gt(e){e&&(e.preventDefault(),e.stopPropagation()),l.roomChosen(null),vt(),b.getMstConfigs().enabled&&l.locationPreferenceChange.trigger("",!1),window.mappingEnabled&&f.fetchExperts({callback:function(){r.resetAllAttendees()}})}function vt(){var e=x&&x.uuid||"";x=null,G.empty(),Q.empty(),We(e)}function yt(e){e.stopPropagation(),e.preventDefault(),Mt(ie),$(".selected-offsite",ne).addClass("hide"),C&&($("#name",ie).val(C.name),$("#address",ie).val(C.address))}function bt(){window.envDetails.enableVconLink&&function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).enable_vcon_link,t=(void 0===e?"no":e).toBoolean()&&!window.envDetails.isConsecutiveMeeting&&!window.isOngoingSales;if(!b.fetchConferencesAlreadyTriggered&&t){l.getAllConferences();var i=(0,u.getCustomLabels)().custom_labels,a=(i=void 0===i?{}:i).video_conference_label;re.html(n(216)({vconLabel:a,mode:window.mode}))}}({enable_vcon_link:!!window.envDetails.enableVconLink}),window.envDetails.isConsecutiveMeeting||(l.fetchActivitySettings(),("new"===mode||window.isEBCEvent)&&l.getAllMeetingTypes({isFirstLoad:!0,showInstructions:!0}))}function wt(e){Array.isArray(e)?e.forEach(function(e){return e.addClass("hide")}):e.addClass("hide")}function Mt(e){Array.isArray(e)?e.forEach(function(e){return e.removeClass("hide")}):e.removeClass("hide")}var xt="";return{init:function(){$.validator.setDefaults({onkeyup:!1,onsubmit:!1,highlight:function(e){$(e).closest(".form-group").addClass("has-error")},unhighlight:function(e){$(e).closest(".form-group").removeClass("has-error"),$(e).siblings(".help-block:not(.form-builder-help-block)").hide()},errorElement:"span",errorClass:"help-block error-class",onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},showErrors:function(e,t){for(var n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass),$("[id="+i[n].name+"-error]").hide();for(var a,o=0;t[o];o++)a=t[o],this.settings.highlight(a.element),$("[id="+a.element.name+"-error]").show(),this.showLabel(a.element,a.message)},errorPlacement:function(e,t){t.parent(".input-group").length?e.insertAfter(t.parent()):$(t).hasClass("checkbox-option")?t.closest(".form-group").append(e):e.insertAfter(t)},messages:{offsiteName:{required:i18n.t("is_required",{attr:i18n.t("name")})},offsiteAddress:{required:i18n.t("is_required",{attr:i18n.t("address")})}}}),b.listen(function(e){if(e.type){var t=ce[e.type];"function"==typeof t&&t(e.data)}}),h.listen(function(e){if(e.type){var t=ue[e.type];"function"==typeof t&&t(e.data)}}),V.on("click",Y,Je),X.on("click",Y,Je),$(se).on("shown.bs.tab",function(e){var t=e.target,n=t&&"#".concat(t.parentElement.id),i=$(t).data("roomtype");I={parentSelector:n,selectedRoomType:i}}),G.on("click",".remove-selected-room",gt),Q.on("click",".remove-selected-room",gt),ie.on("click","#add-offsite-btn",Ke),ne.on("click",".js-remove-selected-offsite",dt),ae.on("click",".js-mst-toggle-offsite",ct),ne.on("click",".edit-offsite",yt),$(".js-selectBoothTour").on("click",nt),$(".js-selectNonJmmMstRoom").on("click",tt),G.on("click",".js-remove-selected-booth-tour",mt),G.on("click",".js-remove-selected-nonjmm-mstRoom",ft),t.on("change","input:checkbox",function(){!$(this).is(":checked")&&g.focusInMeetingWith()}),re.on("keyup input",".js-vcon-link-url",_.debounce(Me,1e3,{leading:!0,trailing:!0})),re.on("keyup input",".js-vcon-link-desc",_.debounce(xe,1e3,{leading:!0,trailing:!0})),bt()},handleVconOptionChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=u.getModelData(),o=re.find(".js-vcon-options").select2("data")[0];if(o)if(o.adapter_name&&e&&"AddLink"!==o.adapter_name)if(i.vcon[o.adapter_name]&&!t)Se(i.vcon[o.adapter_name],o.adapter_name,e,i.vcon.hostJnUuid);else{var s=ke(),r={start_time:v.jsDateToWebEXDateFormat(i.event.start_date),end_time:v.jsDateToWebEXDateFormat(i.event.end_date),meeting_with:$(window.briefing_uuid?"#meetingWithField":"#req_page_meeting_with").val()||$("#req_page_meeting_with").val(),integration_name:e,adapter:o.adapter_name,event_uuid:envDetails.event.uuid,host_uuid:s};l.createNewConference(r,Se)}else o.adapter_name&&e&&"AddLink"===o.adapter_name&&(re.find(".vcon-detail").removeClass("hide").html(n(213)(a(a({},i.vcon),{},{videoConferencingDialinInformationLabel:envDetails.videoConferencingDialinInformationLabel}))),l.vconInfoCaptured(),Ae(),u.setModelData("vcon",a(a({},i.vcon),{active:o.adapter_name,conference_name:e})))}}}();e.exports=b},function(e,t,n){function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=n(8),c=n(146),u=n(149),d=n(117),m=n(136),f=n(11),h=n(156),p=n(12),g=n(3),v=n(14).AttendeeStore,y=n(13).MeetingStore,b=n(30).BriefingRequestStore,w=n(13).MeetingStore,M=n(34),x=n(9),C=n(76),D=n(10),k=n(15),S=n(157),A=n(65),T=window.selectedActivityUuid,E=n(88),I=n(77),O=n(24),P=n(18),j=n(78),q=n(35),R=n(29),N=n(39),F=n(209),U=window,L=U.envDetails,Y=U.meetingInfo,B=U.isEBCEvent,z=U.mode,H=U.mappingEnabled,V=(U.isOngoingSales,U.commons),G=U.location,Z=function(){var e,t,a=$(".book-meeting .meeting-id"),l=$(".section-meeting-making"),U=$(".selected-room",l),Z=$(".selected-time",l),W=$("#proceed_page"),J=$("#meeting-request-container"),K=$(".selected-room",W),Q=$(".selected-vcon",W),X=$(".selected-time",W),ee=$(".selected-location-preference",W),te=$("#submitButton"),ne=$(".selected-external-attendee .selected-attendee-list",W),ie=$(".selected-external-attendee .selected-attendee-list",l),ae=$(".selected-internal-attendee .selected-attendee-list",W),oe=$(".selected-internal-attendee .selected-attendee-list",l),le=$("#dynamic_form",W),se="#proceed-btn",re=$(se),ce=$(".meeting-status:not(.js-consecutive-meeting)"),ue=$(".approved-text"),de=null,me=$(".accept-meeting"),fe=".conflict-meeting",he=$(fe),pe=$(".participation-meeting"),_e=$(".decline-meeting"),ge=$(".transfer-meeting"),ve=$(".cancel-meeting"),ye=$(".approve-meeting"),be=$(".js-meeting-survey"),we=window.ReactMessage||$(".notification-modal"),Me=$(".notification-modal"),xe=$(".meeting-req-details",J),Ce=$("#req_page_meeting_with",J),De=$("li#meetingWithInfo"),ke=$("#req-page-meeting-form",J),Se=$("#req-page-topic-management",J),Ae=$("#meeting-type-header",J),Te=$("#req-page-briefing-meeting-with-form",J),Ee=$("#js-select-topic-holder",J),Ie=$("#meetingWithField",J),Oe=!1,Pe=0,je=0,$e=$("#cancel-btn"),qe=$(".js-vcon-link-section"),Re=($(".js-vcon-integration-section"),$(".book-meeting .briefing-id-btn")),Ne=T,Fe=!0,Ue="",Le="",Ye="internal",Be="external",ze=$(".js-status-text"),He=$("#topic-description"),Ve='[id^="requestor-select"]',Ge=$(Ve),Ze=$("#requestor-select"),We=$(".bulk-action"),Je={accept_meeting_url:"Accept",decline_meeting_url:"Decline",reinvite_url:"ReInvite",endorse_url:"Endorse",approve_meeting_url:"approve",cancel_meeting_url:"cancel",approve_all_meeting_url:"approve-all",cancel_all_meeting_url:"cancel-all",transfer_meeting_url:"Transfer"},Ke={remove:"remove",accept:"accept",decline:"decline"},Qe={remove:"remove",accept:"accept",decline:"decline",transfer:"transfer"},Xe={notes:!1,history:!1},et={"#targetId_meeting-history-tab":bt,"#targetId_notes-list":wt},tt=null,nt={},it=null,at={checkDoubleBookedStatus:function(e){r.checkDoubleBookedStatus(e)},submitMeetingHandler:function(e,t){Et(function(){var n=de.getValues();n.currency_field&&(n.currency_field=n.currency_field.replace(/,/g,""));var i=Ge.first().val();if(Y.request&&"edit"===Y.request.mode){var a=b.briefingRequestor;a&&L.briefingAndMeetingRequestorSame&&(i=a.uuid),Ct()?r.updateMeetingPartially(n,i,t):r.rescheduleMeeting(n,i,t)}else r.createMeeting(n,i,st&&e)})}},ot={onRoomChosen:Bn,onResetRoomList:Bn,onAttendeeSelected:function(t){var n,i,a=t.internalAttendee.length,o=t.externalAttendee.length,l=!1,s=!1,r=f.showPartialParticipation();Pe=t.totalCount,zn(),I.setAttendeeCount({internalCount:a,externalCount:o}),$(".selectedInternalAttendeeCount").text(a),$(".selectedInternalAttendeeCount + span").html(i18n.t(1===a?"internal_participant":"internal_participants")),$(".selectedExternalAttendeeCount").text(o),$(".selectedExternalAttendeeCount + span").html(i18n.t(1===o?"external_participant":"external_participants")),l=It(t.validInternalAttendees,"internal"),s=It(t.validExternalAttendees,"external"),n=t.internalAttendee,i=t.externalAttendee,n.map(function(t,n){e[t.uuid]?Hn(t,e[t.uuid]):_.forOwn(Je,function(e,n){t[e]="hide"}),t.edit_partial_participation=r&&(t.edit_partial_participation||!1),t.view_partial_participation=r&&(t.view_partial_participation||!1)}),i.map(function(t,n){e[t.uuid]?Hn(t,e[t.uuid]):_.forOwn(Je,function(e,n){t[e]="hide"})}),Gn(n,i,l,s),t.internalAttendee.length>0||t.externalAttendee.length>0?($("#attendee-label").removeClass("hide"),""===$("#room-label").text()&&$("#attendee-label").html(i18n.t("attendees"))):($("#attendee-label").addClass("hide"),""===$("#room-label").text()&&($("#attendee-label").closest(".header-right").addClass("hide"),$("#attendee-label").html(i18n.t("attendees_and"))));t.internalAttendee.length>0&&Fe?$(".go-to-main, .go-to-main-internal",".selected-internal-attendee").removeClass("hide"):$(".go-to-main, .go-to-main-internal",".selected-internal-attendee").addClass("hide");t.externalAttendee.length>0&&Fe?$(".go-to-main, .go-to-main-external",".selected-external-attendee").removeClass("hide"):$(".go-to-main, .go-to-main-external",".selected-external-attendee").addClass("hide")},onEventCreated:Xn,onMeetingCancelled:function(e){L.isConsecutiveMeeting?tn():ti()},onMeetingApproved:function(e){we.notificationModal({timeout:!0,class:"green",body:i18n.t("meeting_approve_success_message"),title:i18n.t("meeting_approve_success_header"),dismiss:nn}),wn(e.data.actions),on(e.data.status),an(e.data.consecutive_meeting_status),Y.request.status=e.data.status},onMeetingAccepted:function(t){we.notificationModal({timeout:!0,class:"green",body:t.message,title:i18n.t("meeting_accept_success_header")}),wn(t.data.actions),on(t.data.status),Y.request.status=t.data.status,an(t.data.consecutive_meeting_status);var n=L.currentUser.uuid;v.updateInviteeHash(n,t.data.invite_status),e=t.data.actions_on_behalf,Yt(n,t.data.invite_status,t.data)},onMeetingDeclined:function(t){we.notificationModal({timeout:!0,class:"green",body:t.message,title:i18n.t("meeting_decline_success_header"),dismiss:function(){window.meetingInfo.request.is_meeting_host&&G.reload()}}),wn(t.data.actions),on(t.data.status),Y.request.status=t.data.status,an(t.data.consecutive_meeting_status);var n=L.currentUser.uuid;v.updateInviteeHash(n,t.data.invite_status),e=t.data.actions_on_behalf,Yt(n,t.data.invite_status,t.data),$('.attendee-item.added[data-uuid="'.concat(L.currentUser.uuid,'"]')).remove(),$('.attendee-item[data-uuid="'.concat(L.currentUser.uuid,'"]'),"#internal-attendees-tab").removeClass("hide"),zn(),function(e){if("StaffScheduling"!==L.eventType||!e.max_capacity)return;$("#available_capacity").html(i18n.t("available_slots_info",{availableSlots:e.available_slots,maxCapacity:e.max_capacity}))}(t.data),f.callShowAvailableRooms()},onAttendeeRemovedSuccess:function(e){we.notificationModal({timeout:!0,class:"green",body:i18n.t("meeting_attendee_removed_success_message",{attendee:e.attendee_name}),title:i18n.t("meeting_attendee_removed_success_header")})},onInviteRemovedFailed:function(e){ln([e.message]),"internal"===e.userType?p.selectInternalAttendee(e.uuid):p.selectExternalAttendee(e.uuid)},onTransferSuccess:function(){we.notificationModal({timeout:!0,class:"green",body:i18n.t("transfer_success"),title:i18n.t("success"),dismiss:function(){window.location.reload()}})},onTransferFailure:function(e){var t=e.responseJSON||e,n=(t.errors||t).details;ln([(void 0===n?{}:n).error||i18n.t("transfer_failure")])},onMeetingActionFailed:function(e){ln(e.RuntimeError||e.details.RuntimeError)},onEventSaved:function(e){var t=L.currentUser.first_name;if("undefined"==typeof jiffle||_.isEmpty($.urlParam("accid"))&&_.isEmpty($.urlParam("oppid"))&&_.isEmpty($.urlParam("contactid"))&&_.isEmpty($.urlParam("lead_ids")))we.notificationModal({title:i18n.t("meeting_notify_success_title",{user_first_name:t}),body:i18n.t("meeting_creation_success_with_ID",{meetingID:e.data.meeting_id}),dismiss:function(){if("outlook"===$.urlParam("source"))window.close();else if(V.setItem("eventId",e.data.meeting_id),e.data.hooks){var t=_.find(e.data.hooks,function(e){return"meeting_submit_hook"===(e=JSON.parse(e)).name});(t=JSON.parse(t))&&"redirect"===t.action&&t.url&&!function(e,t){var n=e.open_new_tab?"_blank":"_self",i=e.url?e.url:"";if(i){var a=-1===i.indexOf("?")?"?":"&";return i=i+a+e.hook_parameters,e.open_new_tab?(V.openPageInNewTab(i,n),!0):(V.openPageInNewTab(i,n),!1)}}(t,e.data)?$.noop():ti()}else ti()}});else{var n=i18n.t("preserve_acc_opp_context_confirmation");_.isEmpty($.urlParam("contactid"))||(n=i18n.t("preserve_contact_context_confirmation")),_.isEmpty($.urlParam("lead_ids"))||(n=i18n.t("preserve_leads_context_confirmation")),Me.notificationModal({type:"confirmation",title:i18n.t("meeting_notify_success_title",{user_first_name:t}),body:"".concat(i18n.t("meeting_creation_success"),"<br>").concat(n),hideCloseBtn:!0,done:function(){rt=!0,V.setItem("eventId",e.data.meeting_id),ti()},cancel:function(){rt=!1,V.setItem("eventId",e.data.meeting_id),ti()}})}},onEventSaveFailed:function(e){var t=[];e=e.responseJSON||e,_.forEach(e.errors,function(e){t.push(e)});var n=e.errors&&e.errors.details?e.message:t.join(", ");we.notificationModal({timeout:!0,class:"red",body:n,title:e.title||i18n.t("meeting_notify_failure_title"),errors:e.errors})},onEventRescheduled:function(e){if(e.data.rescheduled_meeting_with_declined_attendees)Me.notificationModal({type:"confirmation",title:i18n.t("reInvite_declined_attendees_after_reschedule_header"),body:i18n.t("reInvite_declined_attendees_after_reschedule"),hideCloseBtn:!0,done:function(){V.setItem("eventId",e.data.meeting_id),G.reload()},cancel:function(){"outlook"===$.urlParam("source")?window.close():(V.setItem("eventId",e.data.meeting_id),ti())}});else{var t,n,i=null==Y?void 0:null===(t=Y.request)||void 0===t?void 0:t.is_ms_team_vcon_meeting,a=null==e?void 0:e.data.is_vcon_link_updated;n=i&&a?i18n.t("MSTeams_meeting_updation_success_with_ID",{meetingID:e.data.meeting_id}):i18n.t("meeting_updation_success_with_ID",{meetingID:e.data.meeting_id}),we.notificationModal({title:i18n.t("meeting_notify_success_title",{user_first_name:L.currentUser.first_name}),body:n,dismiss:function(){"outlook"===$.urlParam("source")?window.close():(V.setItem("eventId",e.data.meeting_id),ti())}})}},showHideRequestorsDropdown:Mn,onCheckDoubleBookedStatusSuccess:function(e){var t=e.callbackFn;if(e&&(200===e.status||e.success))if((e=e.data)&&e.double_booked_resources instanceof Array)if(0===e.double_booked_resources.length&&_.isEmpty(e.conflicted_data))t();else{var i=L.currentUser,a=e.double_booked_resources.map(function(e){var t;if(e===i.uuid)return"".concat(i.first_name," ").concat(i.last_name);var n=D.consecutiveMeetings;return(t=window.envDetails.isConsecutiveMeeting?function(e,t){var n={};return e.forEach(function(e){var i=e.getAttendeeDetails(t);i&&(n=i)}),n}(n,e):v.getAttendeeDetails(e))?"".concat(t.first_name," ").concat(t.last_name):""}),o=function(e){return _.map(e,function(e,t){var n="";return _.forEach(e.conflicted_time,function(e){n+=e.join(" - "),n+=" "}),{name:e.name,timeFormat:n}})}(e.conflicted_data),l=!1,s=e.double_booked_resources.length,r=_.size(e.conflicted_data),c=function(e,t){return L.isConsecutiveMeeting?i18n.t("double_booked_body_for_cm",{attendee:pluralize("attendee",t),is:pluralize("is",t)}):i18n.t("double_booked_body",{attendee:pluralize("attendee",t),start_time:k.convertDateTimeToTime(e.start_time),end_time:k.convertDateTimeToTime(e.end_time)})}(e,s),u=i18n.t("waitlist_attendee_body",{attendee:pluralize("attendee",r),is:pluralize("is",r)}),d={doubleBookAttendees:a,showDoubleBook:Boolean(s),doubleBookMessage:c,softBlockAttendees:o,showSoftBlock:_.isPresent(e.conflicted_data),waitlistMessage:u,isConsecutive:L.isConsecutiveMeeting};Me.notificationModal({class:"yellow double-booking-modal",type:"confirmation",body:n(212)(d),title:i18n.t("double_booked_title"),done:function(){l=!0},dismiss:function(){l&&t()},doneBtnText:i18n.t("proceed_in_notification"),cancelBtnText:i18n.t("cancel_in_notification")})}else t();else if(e&&e.errors){var m=_.flatten(_.values(e.errors));we.notificationModal({timeout:!0,class:"red",body:m.join(", "),title:i18n.t("double_book_error_title")})}},onCheckDoubleBookedStatusFailed:function(e){e.callbackFn.call()},onBehalfOfSuccess:function(t){var n=t.onBehalfOf;on(t.data.status),Y.request.status=t.data.status,wn(t.data.actions),Y.request.action_urls=t.data.actions_urls,an(t.data.consecutive_meeting_status),v.updateInviteeHash(n,t.data.invite_status),r.updateInviteeHash(n,t.data.invite_status),e=t.data.actions_on_behalf,Yt(n,t.data.invite_status,t.data),we.notificationModal({timeout:!0,class:"green",title:i18n.t("success"),body:t.message}),zn(),f.callShowAvailableRooms()},onBehalfOfFailure:function(e){var t=[],n=e.responseJSON,i=void 0===n?{}:n;_.forEach(i.errors,function(e){t.push(e)});var a=i18n.t("failure");"re_invite"===i.action&&(a=i.error_header);setTimeout(function(){we.notificationModal({timeout:!0,class:"red",title:a,errors:i,useUiErrorFormatter:!0,body:i.message||t.join(", ")})},500)},onGetQuickMeetingConfig:function(e){t=e.configurations.quick_meeting_enabled,(st="true"===t||"yes"===t||!0===t)?$("#quick_submit_btn").removeClass("hide").parent().find(".or").removeClass("hide"):re.removeClass("btn-white").addClass("btn-blue");var t},onGetActivityDetails:function(e){Ae.text(e.activity.name)},surveyMailsTriggered:function(e){$(".js-attendee-survey-modal").modal("hide"),t=e.survey_uuid,n="internal"===Ue?f.getInternalAttendees():f.getExternalAttendees(),i=_.find(n,{uuid:Le}),a={requestor:Y.request.requestor_fill_survey_links,creator:Y.request.fill_survey_links,attendee:i},_.forEach(t,function(e){var t=_.find(a[f.survey_type].survey_links,{uuid:e.uuid});t&&_.merge(t,e)}),function(e){e.show_message&&we.notificationModal({class:"green",body:e.message})}(e);var t,n,i,a},onChangeTopicValues:function(e){!_.isEmpty(e)&&r.fetchRelatedTopics({activity_uuids:T}),(e=_.isEmpty(e)?{hidden:!0}:e).hidden?Se.addClass("hide"):Se.removeClass("hide"),Se.removeClass("has-error"),Se.find(".error-class").remove();var t=e.label?e.label:"";Se.find("label").text(t)[e.required?"addClass":"removeClass"]("required"),Se.find("label").attr("data-original-title",t),Se.find("#topic_management-complement").prop("required",!e.hidden&&e.required),Se.find("span.help-block").text(e.helpText);var n=$("#topic-details");e.required&&n.validate({rules:{topic_management:{required:!0,notSelect2Empty:!0}}})},initiateNewMeeting:function(e){T=e.activity,it=e.model.topic,$("#topic_management").val(it?it.uuid:"");var t=Ce.val();$("#topic-details").validate().resetForm(),Ce.val(t||e.model.meeting_with||"").trigger("change"),on(e.model.status),Fe=e.model.isNew||e.model.can_edit,"new"!==window.mode&&(We[Fe?"removeClass":"addClass"]("hide"),$(".js-delete-current-meeting")[Fe?"removeClass":"addClass"]("hide"))},redirectPage:ti,getApprovalToSendIcs:function(e){kt(e.callbackFn)},onBehalfActions:function(t){e=t;var n=[];if(t[L.currentUser.uuid]){var i=_.cloneDeep(Je);Y.request.action_urls=t[L.currentUser.uuid],_.forEach(t[L.currentUser.uuid],function(e,t){i[t]&&n.push(i[t])})}wn(n)},autoAddMeetingHost:Cn,fetchCustomLabelsSuccess:function(e){var t=e.custom_labels.booth_tour_custom_label;$(".booth-tour-icon.js_tooltip").attr("title",t)},checkNonRetainedResourcesSuccess:function(e){var t=e.users,n=e.rooms;_n({newTopic:e.topic,users:t,rooms:n})},getTopicListSuccess:function(e){var t=[],n=fn();e&&e.data&&e.data.topics instanceof Array&&(t=e.data.topics.map(function(e){return{id:e.uuid,name:e.name,text:e.name,description:e.description,disabled:e.disable_in_meeting}}));t.unshift({id:"-",text:i18n.t("please_select")}),n.html("").select2({allowClear:!0,required:n.prop("required"),placeholder:i18n.t("please_select_topic"),data:t,width:"100%",templateResult:mn,dropdownCssClass:"iris-select2-dropdown"}).on("select2:selecting",dn).on("select2:unselecting select2:open",function(){var e=n.val();null!==e&&tt!==e&&(tt=e,nt=He.data("topicDetails"))}),He.popover({trigger:"focus",content:"content",placement:"bottom",html:!0,template:'<div class="item-popover popover topic-desc-popover"><div class="arrow"></div><div class="popover-content"></div></div>'}),He.addClass("hide"),He.on("show.bs.popover",un),it&&hn(it)&&function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=fn();n.val(e.uuid),n.trigger("change.select2"),He.removeClass("hide");var i=t.filter(function(t){return t.uuid===e.uuid})[0];i&&f.setModelData("topicName",i.name),i&&He.data("topicDetails",i)}(it,e&&e.data&&e.data.topics);n.on("change",pn)},getTopicListFail:function(e){var t=[];e=e.responseJSON||e,_.forEach(e.errors,function(e){t.push(e)}),we.notificationModal({timeout:!0,class:"red",body:t.join(", "),title:e.title||i18n.t("topic_fetch_failure")})},fetchTopics:gt,renderDeclineComments:function(e){N.updateDeclineComments(e.inviteOptions)},renderVconInfoOnProceedPage:Yn,locationProposalCallback:E.locationProposalCallback,onSecondaryTimeZoneUpdated:function(e){e.time&&(O.displayTimeInSecondaryTimeZone(Jn(e)),Xn(f.getModelData()))},onPrimaryTimeZoneUpdated:function(e){var t=e.cityName;O.setEventTimezoneText({time_zone_display_name:t})}},lt=g.ENDPOINTS.meeting_list,st=!1,rt=!1;function ct(){return L.isCSM()||L.isMeetingManager()}function ut(){var e,t;"edit"===z&&"pending"===Y.request.status&&(currentCustomFields=de.getValues(),existingCustomFields=Y.request.custom_fields,(e=currentCustomFields,t=existingCustomFields,Object.keys(e).filter(function(n){return!_.isEmpty(t[n])||!_.isEmpty(e[n])}).some(function(n){return!_.isEqual(t[n],e[n])}))||F.meetingInfoChanged()?kn():Sn())}function dt(e){var t=$(e.currentTarget),n=t.is(":checked"),i=t.data("type");if(i){var a=t.closest(".conference-container").find(".form-control"),o={field_id:t.data("field_id"),checked:n};n&&"edit"===z&&a.val()?a.removeClass("hide"):a.addClass("hide"),r.updateIntegrationData({type:i,payload:o})}}function mt(){var e=y.getProposalData(),t=e.room.room,n=void 0===t?{}:t,i=e.start_time,a=e.end_time,o=e.location_preference;Y.request.room=n,Y.request.start_time=moment(i).format("DD-MM-YYYY HH:mm"),Y.request.end_time=moment(a).format("DD-MM-YYYY HH:mm"),Y.request.location_preference=o}function ft(e){if(e.preventDefault(),!y.getProposalState()){var t=Y.request.room||{};y.trigger({action:"onRoomChosen",payload:{type:Y.request.activity,room:t,offsite:t.offsite||!1,isBoothTour:"BoothTour"===t.type}}),y.setProposalState(!0),mt(),R.locationPreferenceChange.trigger(Y.request.location_preference,!1),scheduler._is_initialized()&&(f.setEditProposalOnDemand(!0),Rn(e,!0))}y.setProposalState(!0),Rn(e)}function ht(e){e.preventDefault(),mt();var t=Y.request.room||{};y.trigger({action:"onRoomChosen",payload:{type:Y.request.activity,room:t,offsite:t.offsite||!1,isBoothTour:"BoothTour"===t.type}}),R.locationPreferenceChange.trigger(Y.request.location_preference,!1),y.setProposalState(!1),y.setProposalData({}),ee.addClass("hide"),scheduler._is_initialized()&&Rn(e,!0),Rn(e)}function pt(e){return function(){for(var t=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=y.getProposalState();o?Me.notificationModal({class:"blue",type:"confirmation",body:"Already a location has been proposed, clicking on Proceed would edit the proposed location, date and time.",title:i18n.t("confirmation_title"),doneBtnText:i18n.t("cancel_in_notification"),cancelBtnText:i18n.t("proceed_in_notification"),cancel:function(){return e.apply(t,i)}}):e.apply(this,i)}}function _t(e){var t=$(this),n=t.parent().find(".js-vcon-link");n.show(),n.trigger("select"),document.execCommand("copy"),n.hide(),function(e){e.attr("data-original-title","Link successfully copied to clipboard"),e.tooltip("show"),setTimeout(function(){e.attr("data-original-title","Copy conference link to clipboard")},3e3)}(t)}function gt(){it=Y.request.topic_management||null,r.fetchRelatedTopics({activity_uuids:T})}function vt(){r.fetchCustomLabels()}function yt(){return Y.request.meeting_with||unescape(unescape($.urlParam("meeting_with")))}function bt(){Y.request.can_access_history&&!Xe.history&&(c.init({fetchUrl:g.ENDPOINTS.meeting_history.replace("{uuid}",Y.request.uuid),mountPoint:"#meeting-history"}),Xe.history=!0)}function wt(){Y.request.can_access_note&&!Xe.notes&&(d.init({entityUuid:Y.request.uuid,createUrl:Y.request.note_urls.create_meetintg_note_url,fetchUrl:Y.request.note_urls.fetch_meeting_note_url,mountPoint:"#meeting-notes"}),Xe.notes=!0)}function Mt(){if(St()){var e=$("#meetingWithInfo");ke.find("#meeting-req-help-text").attr("style",""),e.find(".jif-dropright-filled").removeClass("hide"),e.find(".jif-dropdown-filled").addClass("hide"),$(".meeting-with-overlay").slideUp()}}function xt(){if(St()){var e=$(this);e.find(".jif-dropright-filled").toggleClass("hide"),e.find(".jif-dropdown-filled").toggleClass("hide"),$(".meeting-with-overlay").slideToggle(800)}}function Ct(){return"edit"===window.mode&&!f.getOnDemandFirstPageLoaded()&&!window.isEBCEvent&&!window.envDetails.isConsecutiveMeeting}function Dt(e){e.preventDefault(),e.stopPropagation();var t=Y.request||{},n="edit"===t.mode,i=t.can_skip_update_invite,a=!0===Ct()?{error:!1}:f.isValidMeeting();a.error?we.notificationModal({class:"red",timeout:!0,body:a.message,title:a.title||i18n.t("meeting_validation_notify_title")}):n&&i?kt(function(e){at.submitMeetingHandler(!1,e)}):at.submitMeetingHandler(!1)}function kt(e){var t,n,i=!1,a="pending"===Y.request.status?i18n.t("send_ics_internal_body_message"):i18n.t("send_ics_body_message");a=a.concat((t=Ge.first().val(),n=b.briefingRequestor||{},L.briefingAndMeetingRequestorSame&&t!==n.uuid?"<br/><br/>".concat(i18n.t("briefing_meeting_requestor_msg")):"")),Me.notificationModal({class:"blue",type:"confirmation",body:a,title:i18n.t("meeting_updated"),done:function(){i=!0},dismiss:function(){e(i)}})}function St(){var e=$("form#details-form"),t=fn(),n=t.val();return"-"===n&&(n=""),t.val(n),e.validate({}),e.valid()||At("slideDown")}function At(e){$(".meeting-with-overlay")[e]();var t=$("#meetingWithInfo");return t.find(".jif-dropright-filled").addClass("hide"),t.find(".jif-dropdown-filled").removeClass("hide"),!1}function Tt(e,t){Et(function(){var n={sendIcs:t,isQuickBook:e};e?J.trigger("meetingQuickSave",n):W.trigger("meetingSave",n)})}function Et(e){e="function"==typeof e?e:$.noop;var t=$("#customer_form"),n=t.validate({ignore:st?'.form-element-ignorable:not([name="meeting_with"])':""}),i=$("form.meeting-summary");i.validate(),de.isFormValid(t)&&i.valid()?($("#cover").fadeIn(),e()):n.focusInvalid()}function It(e,t){var n=!1,i="internal"===t?v.isInternalAttendeesHidden():v.isExternalAttendeesHidden();if(f.isAttendeeRequired("".concat(t,"_attendee_presence"),"relax_".concat(t,"_attendee_presence_for_mm"))&&!1===i)if(n=e.length<=1){var a=e[0]||{};$("#".concat(t,'-attendees-tab .selected-attendee .unselect-attendee[data-uuid="').concat(a.uuid,'"]'),J).attr("ask_confirm","")}else $("#".concat(t,"-attendees-tab .selected-attendee .unselect-attendee"),J).removeAttr("ask_confirm");return n}function Ot(e){e.preventDefault(),e.stopPropagation();var t=$(this).filter("#js-requestor-survey").length,i=n(25),a=t?Y.request.requestor_fill_survey_links:Y.request.fill_survey_links;_.forEach(a.survey_links,function(e){e.response_uuid?e.action="".concat(g.ENDPOINTS.survey_responses,"/").concat(e.response_uuid):e.survey_response_create_url&&(e.action=e.survey_response_create_url.slice(1)),t&&(e.attendee=Y.request.requestor.uuid),e.show_survey=!0}),$("#attendee-survey-container").html(i({surveys:a.survey_links})),$("#js-attendee-survey-mail").hide(),t&&a.show_send_mail&&$("#js-attendee-survey-mail").show(),r.updateSurveyType(t?"requestor":"creator"),$(".js-attendee-survey-modal").modal({show:!0,backdrop:"static"})}function Pt(e){e.preventDefault();var t=window.meetingInfo.request.action_urls.export_report_url;t&&V.openPageInNewTab(t)}function jt(e){var t=[],n="";$(this).closest(".js-attendee-survey-modal").find(".js-meeting-servey-item").each(function(e,i){var a=$(i).data("uuid");$("#survey-".concat(a)).is(":checked")&&(t.push($(i).data("uuid")),n=$(i).data("attendee"))}),t.length>0?r.triggerSurveyMails(n,Y.request.uuid,t):we.notificationModal({class:"yellow",title:i18n.t("required_survey"),body:i18n.t("survey_not_selected"),timeout:4e3})}function $t(e){e.preventDefault(),e.stopPropagation();var t="internal"===(Ue=$(this).closest(".selected-attendee-item").data("attendee_type"))?f.getInternalAttendees():f.getExternalAttendees(),i=$(this).closest(".selected-attendee-item").data("uuid");Le=i;var a=n(25),o=_.find(t,function(e){return e.uuid===i});_.forEach(o.survey_links,function(e){e.response_uuid?e.action="".concat(g.ENDPOINTS.survey_responses,"/").concat(e.response_uuid):e.survey_response_create_url&&(e.action=e.survey_response_create_url.slice(1)),e.attendee=o.uuid,e.show_survey=_.includes(e.user_access,L.role)||window.meetingInfo.request.is_meeting_host}),$("#attendee-survey-container").html(a({surveys:o.survey_links})),!1===o.show_send_mail?$("#js-attendee-survey-mail").hide():$("#js-attendee-survey-mail").show(),r.updateSurveyType("attendee"),$(".js-attendee-survey-modal").modal({show:!0,backdrop:"static"}).data("uuid",i)}function qt(e){e.preventDefault(),e.stopPropagation();var t=$(this),n=t.closest(".selected-item").hasClass("selected-internal-attendee"),i=t.closest(".selected-attendee-item").data("uuid"),a=function(){var e=t.closest(".selected-attendee-item").data("uuid"),n=t.data("url");r.behalfOfMeetingAction(n,e,"post","onBehalfOfSuccess","onBehalfOfFailure")},o=t.closest(".selected-attendee-item").hasClass("declined");!o&&Me.notificationModal({type:"confirmation",class:"blue",title:i18n.t("confirmation_title"),body:Rt(i)?i18n.t("reinvite_confirm_email_message"):i18n.t("reinvite_confirm_message"),done:a});var l=n?Ye:Be;o&&p.canReinviteAttendee(i,l,a)}function Rt(e){var t=v.getAttendeeDetails(e),n=y.getMstConfigs();return E.isEmailNotification(t,n)}function Nt(e){e.preventDefault(),e.stopPropagation();var t=$(this);Me.notificationModal({type:"confirmation",class:"blue",title:i18n.t("confirmation_title"),body:i18n.t("accept_confirm_message"),done:function(){var e=t.closest(".selected-attendee-item").data("uuid");r.behalfOfMeetingAction(t.data("url"),e,"post","onBehalfOfSuccess","onBehalfOfFailure")}})}function Ft(e){e.preventDefault(),e.stopPropagation();var t=$(this),n=t.closest(".selected-attendee-item").data("uuid"),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r.behalfOfMeetingAction(t.data("url"),n,"post","onBehalfOfSuccess","onBehalfOfFailure",{declined_comments:e})},a=(window.envDetails.isConsecutiveMeeting?D:E).isDeclineCommentEnabled(n),o=a.enabled,l=a.showOnlyOthers?[]:N.getDeclineComments();o?j.show({comments:l,callback:i}):Me.notificationModal({type:"confirmation",class:"blue",title:i18n.t("confirmation_title"),body:i18n.t("decline_confirm_message"),done:function(){return i()}})}function Ut(e){e.preventDefault(),e.stopPropagation();var t=$(this),n=t.closest(".selected-attendee-item").data("uuid");window.TransferMeetingModal.open({callback:function(e){r.behalfOfMeetingAction(t.data("url"),n,"post","onTransferSuccess","onTransferFailure",{selected_attendee:e})},params:Xt()})}function Lt(e){e.preventDefault(),e.stopPropagation();var t=$(this);Me.notificationModal({type:"confirmation",class:"blue",title:i18n.t("confirmation_title"),body:i18n.t("endorse_confirm_message"),done:function(){var e=t.closest(".selected-attendee-item");r.behalfOfMeetingAction(t.data("url"),e.data("uuid"),"post","onBehalfOfSuccess","onBehalfOfFailure")}})}function Yt(t,n,i){var a=f.getInternalAttendees(),o=f.getExternalAttendees(),l=f.showPartialParticipation();a.map(function(a){var o=_.find(i.users.internal,{uuid:t});e[a.uuid]?(a.uuid===t?Bt(a,e[a.uuid],n):Hn(a,e[a.uuid]),i&&a.uuid===t&&(a.show_survey=i.show_survey||!1,a.show_send_mail=i.show_send_mail||!1,a.edit_partial_participation=l&&(o.edit_partial_participation||!1),a.view_partial_participation=l&&(o.view_partial_participation||!1),a.endorsement_text=o.endorsement_text,a.endorsed=o.endorsed)):_.forOwn(Je,function(e,t){a[e]="hide"})}),o.map(function(i){e[i.uuid]?i.uuid===t?Bt(i,e[i.uuid],n):Hn(i,e[i.uuid]):_.forOwn(Je,function(e,t){i[e]="hide"})}),Pe=f.getAttendeeCount(),zn(),Gn(a,o,It(f.getAttendees("internal"),"internal"),It(f.getAttendees("external"),"external"))}function Bt(e,t,n){n&&(e.invite_status=n),Hn(e,t)}function zt(e){Rn(e),p.showAttendeesList("internal")}function Ht(e){Rn(e),p.showAttendeesList("external")}function Vt(e){e.preventDefault(),e.stopPropagation();var t=Y.request.action_urls.accept_meeting_url;r.meetingAction(t,"post","onMeetingAccepted","onMeetingActionFailed")}function Gt(e){e.preventDefault(),e.stopPropagation();var t=Y.request.action_urls.conflict_meeting_url;window.commons.openPageInNewTab(t)}function Zt(e){e.preventDefault(),e.stopPropagation();var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Y.request.action_urls.decline_meeting_url;r.meetingAction(t,"post","onMeetingDeclined","onMeetingActionFailed",null,{declined_comments:e})},n=(window.envDetails.isConsecutiveMeeting?D:E).isDeclineCommentEnabled().enabled,i=N.getDeclineComments();n?j.show({comments:i,callback:t}):t()}function Wt(e){e.preventDefault(),e.stopPropagation();window.TransferMeetingModal.open({callback:function(e){var t=Y.request.action_urls.transfer_meeting_url;r.meetingAction(t,"post","onTransferSuccess","onTransferFailure",null,{selected_attendee:e})},params:Xt()})}function Jt(e){e.preventDefault(),e.stopPropagation();var t=Y.request.action_urls.approve_meeting_url;r.meetingAction(t,"put","onMeetingApproved","onMeetingActionFailed")}function Kt(e){e.preventDefault(),e.stopPropagation();var t=Y.request.action_urls.cancel_meeting_url;E.cancelMeeting({callback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";r.meetingAction(t,"put","onMeetingCancelled","onMeetingActionFailed",null,{cancel_comments:e})}})}function Qt(e){e.preventDefault(),e.stopPropagation(),Me.notificationModal({type:"confirmation",title:i18n.t("cancel_meeting_title"),body:i18n.t("discard_meeting_confirmation"),done:function(){w.blockRoom(!0)}})}function Xt(){var e=moment(Y.request.end_time,"DD-MM-YYYY HH:mm"),t=moment(Y.request.start_time,"DD-MM-YYYY HH:mm");return{activity_uuid:Y.request.activity.uuid,topic_uuid:Y.request.topic_uuid,event_date:e.format("DD-MM-YYYY"),start_time:60*t.get("hours")+t.get("minutes"),end_time:60*e.get("hours")+e.get("minutes"),meeting_request:Y.request.uuid}}function en(e){var t=e.type,n=e.data;"blockRoom"===t&&n.discard&&function(){if(S.isMeetingInDraftMode()){var e=G.href.split("#")[0];window.commons.redirectPage(function(e,t){var n=t.split("?")[0],i=[],a=-1!==t.indexOf("?")?t.split("?")[1]:"";if(""!==a){for(var o=(i=a.split("&")).length-1;o>=0;o-=1)i[o].split("=")[0]===e&&i.splice(o,1);n="".concat(n,"?").concat(i.join("&"))}return n}("destination_activity_uuid",e))}else ti()}()}function tn(){G.href=G.href+(-1!==G.search.indexOf("?")?"&":"?")+$.param({activeMeeting:Y.request.uuid})}function nn(){L.isConsecutiveMeeting?tn():ti()}function an(e){W.trigger("consecutiveMeeitngStatusChange",e)}function on(e){ce.removeClass("pending cancelled approved").addClass(e),ue.text(e),ze.addClass("hide").filter("."+e+"-text").removeClass("hide"),W.trigger("meetingStatusChanged",e)}function ln(e){we.notificationModal({class:"red",body:e.join(", "),title:i18n.t("failure")})}function sn(e,t){var n=e.type,i=e.payload||{},a=ot[n];if("function"!=typeof a)if("CustomFormError"!==e.type){e.data&&e.data.custom_form_fields&&(e.custom_form_fields=e.data.custom_form_fields);var o=e.sfdc_meeting_info?e.sfdc_meeting_info:Y.request;if($.each(e.custom_form_fields,function(e,t){if("meeting_with"===t.field_name){var n=Ce.val(),i=Y.request.meeting_with||unescape(unescape($.urlParam("meeting_with")));Ce.val(n||i).trigger("change"),ke.add(Te).find("label").text(t.label).addClass(t.required&&"required"),ke.add(Te).find("span.help-block").text(t.helpText),Ce.add(Ie).attr("placeholder",t.placeholder).prop("required",t.required),t.disabled=!!window.isEBCEvent}else"topic_management"===t.field_name&&(Se.add(Ee).find("label").text(t.label).addClass(t.required&&"required"),Se.find("label").attr("data-original-title",t.label),Se.add(Ee).find("#topic_management-complement, #topicField").prop("required",!t.hidden&&t.required),Se.add(Ee).find("span.help-block").text(t.helpText),t.hidden?Se.addClass("hide"):Se.removeClass("hide"));f.setCustomFormLabels(t.field_name,t.label)}),xe.show(),e.custom_form_fields=e.custom_form_fields.filter(function(e){return"agenda_participants"!==e.field_name}),(de=$(le).formRenderer({fieldCollection:e.custom_form_fields,customCssClass:""})).init(),r.setFormComponent(de),Y.request.meeting_with&&(Ce.val(Y.request.meeting_with),$("a",De).text(Y.request.meeting_with)),o){if(o.custom_fields=o.custom_fields||{},Y&&Y.request&&"new"===Y.request.mode){if("string"==typeof window.topic_uuid&&t&&(o.custom_fields[t.topic_of_interest]=window.topic_uuid),"boolean"==typeof B&&B){o.meeting_with=window.briefing_with;var l=b.briefingCustomFields;l&&l.briefing_account_id&&(o.custom_fields.meeting_account_id=l.briefing_account_id)}if("string"==typeof window.bam_uuid){var s={},c=b.briefingActivities;if(c.length){var u=_.find(c,function(e){return"".concat(e.id)===window.bam_uuid});u.custom_fields.topic_management=u.custom_fields.topic_management&&!1===u.topic_activities_mapped?null:u.custom_fields.topic_management,s=_.result(u,"custom_fields")}o.meeting_with=s.meeting_with||o.meeting_with,o.custom_fields=_.assign(o.custom_fields,s),o.agenda_participants=b.getAttendeesForAgenda(u.id)}}else if("string"==typeof bam_uuid){var d=b.getAttendeesForAgenda(w.getCurrentAgendaUUID());o.agenda_participants=d}o.meeting_with=o.meeting_with||yt(),de.setValues(o)}de.afterLoad(),L.isConsecutiveMeeting||function(e){var t=$("#topic_management",W);t.prop("disabled",!0),e.topic_management&&t.html(new window.Option(e.topic_management.name,e.topic_management.uuid,!0)).trigger("change")}(Y.request),e.sfdc_meeting_info&&!e.sfdc_meeting_info.second_page_active&&at.checkDoubleBookedStatus(Tn)}else{var m=_.flatten(_.values(e.errors));we.notificationModal({class:"red",timeout:!0,title:i18n.t("custom_field_error_title"),body:m.join(", ")})}else a(i)}function rn(){var e=$("#topic-details");return!e.length||e.valid()}function cn(e,t,n,i){return{topic_id:e,topic_name:t,topic_description:n,showIcon:i}}function un(e,t){var i=He.data("bs.popover"),a=cn(He.data("topicDetails").id,He.data("topicDetails").name,He.data("topicDetails").description,!1);i.options.content=$(n(159)(a))}function dn(e){e.params.args.originalEvent.target;return e.stopPropagation(),He.data("topicDetails",e.params.args.data),He.removeClass("hide"),!0}function mn(e){if(e&&e.id&&"-"!==e.id){var t=cn(e.id,e.text,e.description,!0);return $(n(159)(t))}}function fn(){return window.isEBCEvent?$("#topicField",J):$("#topic_management-complement",J)}var hn=function(e){return"-"!==e.uuid&&null!==e.uuid&&""!==e.uuid};function pn(e){var t,n=$(this),i=n.val(),a=$("#topic_management",W).val();("-"===i&&(i=""),i||He.addClass("hide"),null!==i||"-"!==a&&a)&&(f.setModelData("topicName",n.find('option[value="'.concat(i,'"]')).text()),H?function(e){"edit"===z?function(e){$("#topic_management",W);var t=!1,n=window.envDetails.currentUser,i=n.can_manage_meetings_of_associated_topics&&-1!==n.topics.indexOf(e),a=window.envDetails.isJuniorMM()&&!i?i18n.t("reset_users_and_rooms_confirm_msg_for_jmm_mapped_to_topic"):i18n.t("reset_users_and_rooms_confirm_msg");Me.notificationModal({title:i18n.t("please_note_title"),class:"blue",type:"confirmation",body:a,hideCloseBtn:!0,done:function(){t=!0},dismiss:function(){t?(gn(e),yn()):vn()}})}(e):function(e){gn(e),yn()}(e)}(i):(t=i)?r.checkNonRetainedResources({topic:t}):_n({newTopic:t}),setTimeout(function(){n.valid()},0))}function _n(e){var t=e.newTopic,i=e.users,a=void 0===i?[]:i,o=e.rooms,l=void 0===o?[]:o,s=function(e){var t=e.newTopic,n=e.users,i=e.rooms,a=window.envDetails.currentUser,o=a.topics,l=void 0===o?[]:o,s=a.can_manage_meetings_of_associated_topics,r=window.envDetails.isJuniorMM(),c=s&&-1!==l.indexOf(t),u=0===n.length&&!i[0];return{skipModal:r&&c&&u||!r&&u,showTopicHeader:r&&!c}}({newTopic:t,users:a,rooms:l}),c=s.skipModal,u=s.showTopicHeader;c&&!window.meetingInfo.request.is_meeting_host?(gn(t),r.topicChangeRefeshAttendeesAndRoomsList()):function(e){var t=e.users,i=void 0===t?"":t,a=e.rooms,o=void 0===a?"":a,l=e.showTopicHeader,s=e.topic,c=n(210),u=window.meetingInfo.request.is_meeting_host,d=c({users:i,rooms:o,showTopicHeader:l,meetingHost:u}),m=!1;Me.notificationModal({class:"yellow",type:"confirmation",body:d,title:i18n.t("confirm_topic_change"),done:function(){m=!0},dismiss:function(){if(m){if(u){var e=L.currentUser.uuid,t=L.isExecutiveAdmin()?L.currentManagedUser:[e];t.map(function(e){return p.updateAttendeeAsHost(e,!1)})}gn(s),r.topicChangeRetainResources()}else vn()},doneBtnText:i18n.t("proceed_in_notification"),cancelBtnText:i18n.t("cancel_in_notification")})}({users:a=a.join(", "),rooms:l=l.join(", "),showTopicHeader:u,topic:t})}function gn(e){var t=fn();"edit"===z&&(Y.request.topic_uuid=e,f.setTopicDirty()),topic_uuid=e;var n=t.find('option[value="'.concat(e,'"]')).text();bn(t,e),r.topicChange(e,n)}function vn(){var e=$("#topic_management",W),t=fn();t.off("change",pn),tt&&"-"!==tt?(t.select2("val",tt),r.topicChange(tt),He.data("topicDetails",nt)):(t.val("").trigger("change"),e.html(""),e.val("").trigger("change"),r.topicChange("",""),He.addClass("hide"),He.data("topicDetails",{})),t.on("change",pn)}function yn(){M.fetchExperts({callback:function(){r.resetAttendeesAndRooms()}})}function bn(e,t){var n=$("#topic_management",W);n.length&&(n.html(e.first().find("option").clone()),n.val(t),n.trigger("change.select2"))}function wn(e){var t;me.addClass("hide"),_e.addClass("hide"),ge.addClass("hide"),ye.addClass("hide"),ve.addClass("hide"),he.addClass("hide"),pe.addClass("hide"),e.map(function(e,t){if("export report"===(e=e.toLowerCase())){if(e="export-report","undefined"!=typeof jiffle)return}else"transfer meeting"===e&&(e="transfer");$(".".concat(e,"-meeting")).removeClass("hide")}),Vn()||ye.addClass("hide"),t=$(".js-secondary-action-list").find("li:not(.hide)").length,$(".js-secondary-action-dropdown")[t?"removeClass":"addClass"]("hide")}function Mn(e){var t,n=$("#requestor-select-complement"),i=$("#requestor-select");L.isConsecutiveMeeting&&(e=ct()||L.isJuniorMM()?"yes":"no"),(L.briefingAndMeetingRequestorSame||Y.request.hide_requestor_drodown)&&(e="no"),"yes"===e?((t={allowClear:!0,minimumInputLength:1,cache:!0,width:"100%",placeholder:i18n.t("please_select_requestor"),dropdownCssClass:"iris-select2-dropdown"}).ajax={delay:256,transport:function(e,t,n){return r.fetchRequestors(e,t,n)},data:function(e){return{search_by_name:(e.term||"").trim(),activity_id:Ne}},processResults:function(e,t){var n=[];return e&&e.users instanceof Array&&(n=e.users.map(function(e){return{id:e.uuid,text:e.name}})),{results:n}}},"undefined"!=typeof jiffle&&(t.ajax={data:function(e){return{search_by_name:(e.term||"").trim(),activity_id:Ne}},transport:function(e,t,n){return g.fetch({data:e.data,url:g.ENDPOINTS.fetch_requestors}).then(t).catch(n)},delay:256,processResults:function(e){var t=[];return e&&e.users instanceof Array&&(t=e.users.map(function(e){return{id:e.uuid,text:e.name}})),{results:t}}}),n.select2(t),i.select2(t)):L.isExecutiveAdmin()&&!L.briefingAndMeetingRequestorSame?("All"===L.currentManagedUser||L.currentManagedUser instanceof Array&&(-1!==L.currentManagedUser.indexOf(L.currentUser.uuid)||L.currentManagedUser.length>1)||Y.requestors instanceof Array&&Y.requestors.length>1)&&!window.meetingInfo.request.is_meeting_host?((t={allowClear:!1,cache:!0,width:"100%",placeholder:i18n.t("please_select_requestor")}).data=Y.requestors.map(function(e){return{id:e[1],text:e[0]}}),n.select2(t),i.select2(t)):(xn(),$("[id^='requestor-label-div']").removeClass("hide").text(n.find("option:selected").text())):(xn(),$("[id^='requestor-label-div']").removeClass("hide").text(i.find("option:selected").text())),window.envDetails.isConsecutiveMeeting&&n.off("change.custom").on("change.custom",function(e){$(this).val()&&C.fetchMeetingTypes()})}var xn=function(){var e=$("#requestor-select-complement"),t=$("#requestor-select");e.addClass("hide"),t.addClass("hide")};function Cn(e){m.addAttendeeAsKeynoteSpeaker.call($('.add-keynote-speaker[data-uuid="'.concat(e,'"]'),".selected-attendee"))}function Dn(e){if(e&&e.preventDefault(),$("#meet-details").removeClass("affix").removeClass("affix-top"),$(".meeting-detail-side-fix").removeClass("affix").removeClass("affix-bottom"),O.setTimeFieldsWithMeetingTime(),St()&&rn()){var t=f.isValidMeeting();if(!1===t.error){if(v.isInternalAttendeesHidden()&&v.isMappingEnabled()&&($(".selected-internal-attendee div").hide(),$(".selected-internal-attendee").append('<div class="selected-title">'.concat(i18n.t("auto_add_internal_attendees"),"</div>"))),t.meetingHostAutoAdd)return void Me.notificationModal({class:"yellow",type:"confirmation",body:t.message,title:t.title||i18n.t("meeting_validation_notify_title"),done:function(){Cn(t.userUUID),"undefined"!=typeof jiffle?An():at.checkDoubleBookedStatus(Tn)}});t.confirmation&&"new"===Y.request.mode?Me.notificationModal({class:"yellow",type:"confirmation",body:t.message,title:t.title||i18n.t("meeting_validation_notify_title"),done:function(){"undefined"!=typeof jiffle?An():at.checkDoubleBookedStatus(Tn)}}):"undefined"!=typeof jiffle?An():at.checkDoubleBookedStatus(Tn)}else we.notificationModal({class:"red",timeout:!0,body:t.message,title:t.title||i18n.t("meeting_validation_notify_title")});"pending"===Y.request.status&&"edit"===z&&(F.meetingInfoChanged()?kn():Sn())}else I.showMandatoryFieldsMsg()}function kn(){ye.addClass("hide")}function Sn(){_.includes(Y.request.actions,"Approve")&&ye.removeClass("hide")}function An(){window.isLeadsMeeting?r.fetchSfdcCustomForm():f.model.account.is_changed?(r.fetchSfdcCustomForm(),f.model.account.is_changed=!1):at.checkDoubleBookedStatus(Tn)}function Tn(){if(J.addClass("hide"),W.removeClass("hide"),window.scrollTo(0,0),!B){var e=$("#topic_management-complement",J);bn(e,e.val())}"new"===Y.request.mode&&"undefined"==typeof jiffle&&Ce.trigger("change"),function(){if(Oe||L.briefingAndMeetingRequestorSame)return void(Ze.length&&Ze.valid());var e=L.currentUser.uuid,t=L.isExecutiveAdmin();if("new"===Y.request.mode)if(t){var n=L.currentManagedUser;"All"===n?_.head(Ge.find("option")).selected=!0:n!==e&&Ge.find("option").each(function(e,t){n===t.value&&(t.selected=!0)})}else Ge.find("option").each(function(t,n){e===n.value&&(n.selected=!0)});Ge.trigger("change"),$("[id^='requestor-label-div']").text(Ge.first().find("option:selected").text())}()}function En(e,t){var n="",i=$(Ve,W),a=$(Ve,J),o=e.map(function(e){return t===e[1]&&(n=e[0]),$("<option>").val(e[1]).text(e[0])});In(i,a),In(a,i),Ge.append(o),Ge.val(t).trigger("change"),$('[id^="requestor-label-div"]').text(t&&n||"")}function In(e,t){e.one("change",function(e){e.preventDefault(),e.stopPropagation(),function(e){var t=$("option:selected",this);Oe=!0,$("[id^='requestor-label-div']").text(t.first().text()),f.setModelData("requestorName",t.first().text()),e.length>0&&(e.hasClass("select2-hidden-accessible")?(e.html($("option",this).clone()),e.select2("val",t.val())):e.val(t.val()),function(e){if(L.enable_meeting_host&&L.enable_meeting_host.toBoolean()&&v.persistRequestorAsHost&&L.assign_requestors_as_meeting_host_by_default){var t=f.getInternalAttendees().filter(function(t){return t.uuid===e});t.length&&Cn(e)}}(t.val()),In($(this),e),e.val()||At("show"));"pending"===Y.request.status&&(F.meetingInfoChanged()?kn():Sn())}.call(this,t)})}var On=function(e,t){var n=e.model,i=e.customFormLabels,a=e.mstConfigs,l=e.activitySettings,s=e.getCustomLabels,r=de.getValues(),c=("".concat(window.envDetails.event.timezone_gmt_offset,", ").concat(window.envDetails.event.time_zone_display_name)||"").trim()||L.event.time_zone,u={};_.forEach(i,function(e,t){u[t]={label:e,value:r[t]}}),c=!0===window.isEBCEvent?L.current_location.time_zone_display_name||L.current_location.timezone:P.getTimeZoneToBeShownOnProceedPage("primaryTimeZone")||P.getTimeZoneFromMeetingInfo();var d=A.showBreakInfo(n.event,l),m=window.envDetails.topicManagementEnabled&&!Se.hasClass("hide"),f=Jn(),h=s().custom_labels,p=(h=void 0===h?{}:h).video_conference_label,g=h.meeting_type_custom_label;return{meetingData:o(o({},n),{},{secondaryTimezoneInfo:f,customFieldsMap:u,showBreakInfo:d,activitySettings:l,isMeetingValid:t,isTopicEnabled:m,mstConfigs:a,vconLabel:p,meetingTypeLabel:g}),meetingTimeZone:c}};function Pn(e){e.preventDefault(),e.stopPropagation(),O.setTimeFieldsWithMeetingTime();var t=$("form#details-form").validate({showErrors:function(e,t){for(var n=0,i=this.validElements();i[n];n++)this.settings.unhighlight.call(this,i[n],this.settings.errorClass,this.settings.validClass);for(var a,o=0;t[o];o++)a=t[o],this.settings.highlight(a.element)}}),n=Y.request||{},a="edit"===n.mode,l=n.can_skip_update_invite;if(St()&&rn()){var s=f.isValidMeeting();if(s.error)we.notificationModal({class:"red",timeout:!0,body:s.message,title:s.title||i18n.t("meeting_validation_notify_title"),dismiss:I.focusInMeetingWith});else{var r=function(){return jn(a,l)};s.meetingHostAutoAdd&&(r=function(){Cn(s.userUUID),jn(a,l)});var c=window.envDetails.isConsecutiveMeeting?function(e,t){var n=de.getValues().meeting_with,a=e.model.event.start_date,o=e.model.requestorName,l=t.consecutiveMeetings,s=[];return l.forEach(function(e){var t=e.event,n=e.activitySettings,a=e.topicSettings,o=void 0===a?{enabled:window.envDetails.topicManagementEnabled,label:i18n.t("topic_of_interest")}:a,l=o.enabled,r={topic_management:o};s.push(i({},e,{showBreakInfo:A.showBreakInfo(t,n),isTopicEnabled:l,customFieldsMap:r}))}),{meetingWith:n,meetingData:s,meetingDate:a,requestorName:o}}(f,D):On(f,s);c=o(o({},c),{},{submitCallBack:r,isConsecutive:window.envDetails.isConsecutiveMeeting}),at.checkDoubleBookedStatus(function(){window.renderMeetingSummary($(".mount-meeting-summary"),c)})}}else t.focusInvalid(),I.showMandatoryFieldsMsg()}function jn(e,t){e?t?kt(function(e){at.submitMeetingHandler(!0,e)}):at.submitMeetingHandler(!0):setTimeout(function(){at.submitMeetingHandler(!0)},1e3)}function $n(e){x.checkDoubleBookedStatus(e)}function qn(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||!f.getOnDemandFirstPageLoaded()){"undefined"==typeof briefing_uuid&&q.eventInfo(),vt(),window.envDetails.isConsecutiveMeeting||q.initialAvailability();var e=Y.request.users,t=_.isPresent(e)&&(e.internal.length||e.external.length),n=_.isEmpty(Y.request.room)&&!t;Y.request.location_preference&&R.locationPreferenceChange.trigger(Y.request.location_preference,n),f.setOnDemandFirstPageLoaded(!0)}}function Rn(e,t){e&&(e.preventDefault(),e.stopPropagation()),J.removeClass("hide"),W.addClass("hide"),$("#meet-details li:first a").trigger("click"),window.scrollTo(0,0),scheduler._is_initialized()&&scheduler.update_view(),"edit"!==z||window.envDetails.isConsecutiveMeeting||window.isEBCEvent||qn(t)}function Nn(e){e.preventDefault(),e.stopPropagation();if(this.hasAttribute("ask_confirm"))we.notificationModal({title:i18n.t("meeting_notify_failure_title"),body:i18n.t("select_min_internal_attendee_to_continue",{company_name:L.companyName}),class:"red",dismiss:function(){}});else{var t=Fn(this,"internal");Me.notificationModal({type:"confirmation",class:"blue",title:i18n.t("confirmation_title"),body:"edit"===z&&""!==t.attendee_name?i18n.t("remove_attendee_confirmation",{attendee:t.attendee_name}):i18n.t("remove_confirm_message_for_save"),done:function(){var e=Ge.first().val();p.unselectInternalAttendee(t.uuid),""!==t.attendee_name&&r.removeAttendee(e,t,"internal")}})}}function Fn(e,t){var n=$(e).data("uuid"),i="";if("edit"===z){if(L.isConsecutiveMeeting){var a="internal"===t?f.getInternalAttendees():f.getExternalAttendees();i=_.find(a,{uuid:n})}else i=_.find(Y.request.users[t],{uuid:n});i=_.isUndefined(i)?"":i.user_name}return{uuid:n,attendee_name:i}}function Un(e){e.preventDefault();var t,n,i=Fn(this,"external");this.hasAttribute("ask_confirm")?we.notificationModal({title:i18n.t("meeting_notify_failure_title"),body:i18n.t("select_min_external_attendee_to_continue"),class:"red",dismiss:function(){}}):(t=L.isConsecutiveMeeting?i18n.t("edit"===z&&""!==i.attendee_name?"remove_from_all_confirm_message":"remove_from_all_confirm_message_for_save",{activity:window.selectedActivityName,attendee_name:i.attendee_name}):i18n.t("edit"===z&&""!==i.attendee_name?(n=i.uuid,!1===$("#send_ics_".concat(n)).prop("checked")?"remove_confirm_message_for_send_ics_opt":"remove_confirm_message"):"remove_confirm_message_for_save",{attendee_name:i.attendee_name}),Me.notificationModal({type:"confirmation",class:"blue",title:i18n.t("confirmation_title"),body:t,done:function(){p.unselectExternalAttendee(i.uuid);var e=Ge.first().val();""!==i.attendee_name&&r.removeAttendee(e,i,"external")}}))}function Ln(){return Y.request.can_change_room}function Yn(e){if(window.isEBCEvent||window.isVirtualEvent&&!window.envDetails.isConsecutiveMeeting){var t=n(160);if(e&&e.link){var i="MicrosoftTeams"!==e.adapter_name,a=window.envDetails.vconLabel;proceedHtml=t(o(o({},e),{},{showMeetingKey:i,vconLabel:a}))}else proceedHtml=t({linkNotAvailable:!0,linkNotAvailableMessage:i18n.t("link_not_assigned_msg")});$(Q).removeClass("hide").html(proceedHtml)}}function Bn(e){if(y.getProposalState()&&y.canChangeLocationPreference())!function(){var e={room:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{room:{}}};if(!y.getProposalData().start_time&&f.model.event){var t=f.model.event.start_date,n=f.model.event.end_date;e.start_time=t,e.end_time=n}y.setProposalData(e),Kn()}(e);else{var t,i,a,o=n(121),l=n(40);if(e&&e.type&&e.room)i=o(t=e.offsite||e.isBoothTour?{offsite:!0,booth_tour:e.isBoothTour,address:e.room.address||e.room.location,name:e.room.name,capacity:""}:{name:e.type.name,offsite:!1,booth_tour:e.isBoothTour,display_name:e.type.name,room_name:e.room.name,capacity:e.room.capacity}),t.showGotoMainOptionFromDetails=Fe,t.hideChangeRoom=!Fe,t.canChangeRoom=Ln(),t.roomNotAvailable=!1,je=t.capacity,t.canChangeLocationPreference=Y.request.can_change_loc_preference,a=l(t);else{i=o();var s=Y.request,r=s.room_not_assigned_msg,c=s.can_change_loc_preference,u=w.locationPreference;a=l({canChangeLocationPreference:c,roomNotAvailable:!0,roomNotAvailableMessage:(u?"".concat(i18n.t(u)," - "):"")+(r||i18n.t("room_not_assigned_msg")),canChangeRoom:Ln()})}K.html(a),U.html(i),zn(),W.trigger("room_change",{isOffsite:e.offsite||e.isBoothTour,isMappingEnabledActivity:H,isSFDC:"undefined"!=typeof jiffle}),e.room?($("#room-label").text(e.offsite?t.name:t.room_name),$("#attendee-label").html(i18n.t("attendees_and"))):function(){if(!B){var e=[];scheduler.config.can_book_room&&e.push(i18n.t("room")),scheduler.config.offsite_enabled&&scheduler.config.can_book_offsite&&e.push(f.offsiteLabel)}$("#room-label").text(""),$("#attendee-label").hasClass("hide")&&$("#attendee-label").closest(".header-right").addClass("hide");$("#attendee-label").html(i18n.t("attendees_and"))}()}}function zn(){(b.briefingInternalAttendees.length||b.briefingExternalAttendees.length)&&(Pe=f.getAttendeeCount());var e=$("#roomFullHolder"),t=$("#occupiedRoomHolder"),n=je-Pe;n<=0?(e.removeClass("hide"),t.addClass("hide")):(e.addClass("hide"),t.removeClass("hide").find(".occupiedCount").text(n))}function Hn(e,t){var n=t||{};_.forOwn(Je,function(t,i){n[i]?(e[t]="",e[i]=n[i]):e[t]="hide"})}function Vn(){return!("undefined"!=typeof jiffle&&(ct()||L.isJuniorMM()||L.isQueueManager()))}function Gn(e,t,i,a){var o=window.envDetails.isConsecutiveMeeting?D.getCurrentMeeting().status:window.meetingInfo.request.status,l=n(79),s={users:e,type:"internal",actions:!1,meetingCancelled:"cancelled"===o},r=(ct()||L.isJuniorMM()||L.isExecutiveAdmin()||window.meetingInfo.request.is_meeting_host)&&"new"!==Y.request.mode&&!L.isConsecutiveMeeting,c=Fe&&!1===v.isInternalAttendeesHidden()&&0===e.length,u=Fe&&!1===v.isExternalAttendeesHidden()&&0===t.length,d={users:e,isConsecutive:L.isConsecutiveMeeting,role_enabled:Vn()&&r,askConfirm:i,remove:Vn()&&Fe,remove_label:i18n.t(Qe.remove),accept_label:i18n.t(Qe.accept),decline_label:i18n.t(Qe.decline),transfer_label:i18n.t(Qe.transfer),type:"internal",actions:Vn(),show_empty_state:c,empty_text:i18n.t("add_internal_participants"),meetingCancelled:"cancelled"===o,in_person_label:Y.request.in_person_label,virtual_label:Y.request.virtual_label};if(L.enable_meeting_host&&L.enable_meeting_host.toBoolean()){var f={meeting_host_label:L.meeting_host_label,enable_meeting_host:L.enable_meeting_host.toBoolean()};_.forEach(e,function(e){if(_.isUndefined(e.meeting_host))e.meeting_host=!1;else if(e.meeting_host){var t=$('a.add-keynote-speaker[data-uuid="'+e.uuid+'"]');m.meetingHostUIAction(t,e.uuid)}}),s.users=_.orderBy(s.users,["meeting_host"],["desc"]),d.users=_.orderBy(d.users,["meeting_host"],["desc"]),_.merge(s,f),_.merge(d,f)}Y.request.mode_of_attendance_enabled&&(_.forEach(e,function(e){_.isUndefined(e.mode_of_attendance)&&(e.mode_of_attendance=Y.request.default_mode_of_attendance)}),_.forEach(t,function(e){_.isUndefined(e.mode_of_attendance)&&(e.mode_of_attendance=Y.request.default_mode_of_attendance)}));var h=l(s),p=l({users:t,type:"external",actions:!1,meetingCancelled:"cancelled"===o,in_person_label:Y.request.in_person_label,virtual_label:Y.request.virtual_label});oe.html(h),ie.html(p),Zn(e,oe),Zn(t,ie),h=l(d),ae.html(h),p=l({users:t,role_enabled:Vn()&&r,askConfirm:a,remove:Vn()&&Fe,remove_label:i18n.t(Ke.remove),accept_label:i18n.t(Ke.accept),decline_label:i18n.t(Ke.decline),type:"external",actions:Vn(),show_empty_state:u,empty_text:i18n.t("add_external_participants"),meetingCancelled:"cancelled"===o,in_person_label:Y.request.in_person_label,virtual_label:Y.request.virtual_label}),ne.html(p),Zn(e,ae),Zn(t,ne)}function Zn(e,t){var i={};e.forEach(function(e){i[e.uuid]=e});var a=n(38);$(".selected-attendee-item",t).map(function(){var e=$(this).data("uuid"),t=i[e];$(this).popover({html:"true",template:"<div class='popover room-tooltip' role='tooltip'><div class='popover-content'></div></div>",content:a(t),trigger:"hover",placement:"right"})})}function Wn(e,t){var n=moment(e);return n.subtract(t,"minutes"),n.format("hh:mm A")}function Jn(e){var t=e||f.getViewInTimezoneInfo(),n=t.time,i=t.timezone;if(n){var a=n.startDate,o=n.endDate,l=k.jsDateOrDateStringToTime(a),r=k.jsDateOrDateStringToTime(o),c="object"===s(a)?a:moment(a,"YYYY-MM-DD hh:mm A")._d,u="object"===s(o)?o:moment(o,"YYYY-MM-DD hh:mm A")._d,d=moment(c,"DD-MM-YYYY")._d.toMediumDate(),m=moment(u,"DD-MM-YYYY")._d.toMediumDate();return d!==m?{start:l,end:r,date:d,end_date:m,timezone:i.cityName}:{start:l,end:r,date:d,timezone:i.cityName}}}function Kn(){if("schedule"!==$.urlParam("proposal_flow")){var e=n(161),t=y.getProposalData(),i=moment(t.start_time).format("hh:mm a"),a=Wn(t.end_time,t.break_duration),o=moment(t.start_time,"DD-MM-YYYY")._d.toMediumDate(),l=t.room,s=(l=void 0===l?{}:l).room,r=void 0===s?{}:s,c=!t.can_edit&&!t.can_schedule,u=r&&r.name||("on_site"===t.location_preference?"Onsite":"-"),d=e({start_time:i,end_time:a,event_date:o,reason:t.reason,address:r&&(r.address||r.location),name:u,meeting_time_zone:t.meeting_time_zone,hideProposalOption:c,can_edit:t.can_edit,can_schedule:t.can_schedule});ee.html(d).removeClass("hide")}}function Qn(){("".concat(window.envDetails.event.timezone_gmt_offset,", ").concat(window.envDetails.event.time_zone_display_name)||"").trim()||L.event.time_zone;return!0===B?L.current_location.time_zone_display_name||L.current_location.timezone:P.getTimeZoneToBeShownOnProceedPage("primaryTimeZone")||P.getTimeZoneFromMeetingInfo()}function Xn(e){if(y.getProposalState()&&y.canChangeLocationPreference())!function(e){if(e.event){var t=e.event,n=t.start_date,i=t.end_date,a=t.break_duration,o=Qn();y.setProposalData({start_time:n,end_time:i,break_duration:a,meeting_time_zone:o}),Kn()}}(e);else{var t,i=n(123),a=n(81);if(e.event){var o=moment(e.event.start_date).format("hh:mm A"),l=Wn(e.event.end_date,e.event.break_duration);$("#timeLabel").html('<span class="event_date">'.concat(c,"&nbsp</span>").concat(o,"&nbsp-&nbsp").concat(l));var s=moment(e.event.start_date,"DD-MM-YYYY")._d.toMediumDate(),r=moment(e.event.end_date,"DD-MM-YYYY")._d.toMediumDate(),c=s!==r?"".concat(s," ").concat(o," - \n ").concat(r," ").concat(l):"".concat(s," ").concat(o," - \n ").concat(l),u=i({start_time:o,end_time:l,event_date:c,display:!0});Z.html(u);var d="edit"===z&&Fe,m="new"===z,f=Qn();u=a({break_duration:e.event.break_duration,start_time:o,end_time:l,event_date:c,meeting_time_zone:f,uuid:e.event.uuid,showRescheduleTimeOption:d,showChangeTimeOption:m,showGotoMainOptionFromDetails:Fe,secondaryTimezoneInfo:Jn(e.viewInTzInfo)}),X.html(u)}else $("#timeLabel").html(""),Z.html(i({display:!1})),X.html(a());O.displayTimeInSecondaryTimeZone(Jn()),O.setEventTimezoneText({time_zone_display_name:(t=P.getTimeZone("primaryTimeZone")).timeZoneCity,timezone_gmt_offset:t.timeZoneDisplayName})}}function ei(e){var t=(e.target.value||"").trim();"select_account"==e.target.id&&(t=(J.find("#select_account").find("option:selected").text()||"").trim());var n=this.id;$("a","li#meetingWithInfo").text(t),"meeting_with"===n?Ce.val(t):"req_page_meeting_with"===n&&$("#meeting_with",W).val(t),t||At("show")}function ti(){var e=L.urlPrefix+lt,n=void 0!==B&&!0===B;if("undefined"!=typeof jiffle){var i=G.search,a=new RegExp("[?&]accid=([^&#]*)").exec(i),o=new RegExp("[?&]oppid=([^&#]*)").exec(i),l=new RegExp("[?&]contactid=([^&#]*)").exec(i),s=new RegExp("[?&]lead_ids=([^&#]*)").exec(i),r=new RegExp("[?&]eventName=([^&#]*)").exec(i),c=new RegExp("[?&]current_location_uuid=([^&#]*)").exec(i),u="";u+="".concat(r[0]).concat(c[0]),rt&&(u+="&showActivities=true",a&&(u+=a[0]),o&&(u+=o[0]),l&&(u+=l[0]),s&&(u+=s[0])),u=u.replace(/^&/,"?"),n?(u+="&SFDCbriefingId=".concat(window.briefing_uuid),e="".concat(g.ENDPOINTS.apex_jnlistagenda).concat(u)):e=g.ENDPOINTS.apex_jnmeetings+u,window.sfdcNameSpace&&((e=e.split("/"))[2]="".concat(window.sfdcNameSpace).concat(e[2]),e=e.join("/")),e=isLightningExperience()?"/one/one.app#/alohaRedirect".concat(e):e}else if(n){var d=document.getElementsByTagName("base")[0].href;if(void 0!==window.briefing_uuid)if(window.redirect_to_meeting_list)e="".concat(e).concat(i?"&":"?","source=book_meeting#meeting_list");else{var m=g.ENDPOINTS.list_briefings_agenda.replace("{QUERY_PARAMS}","?current_location_uuid="+L.current_location_uuid);e="".concat(d).concat(m,"/").concat(window.briefing_uuid)}else e=d+g.ENDPOINTS.event_home}if(!n){e="".concat(e).concat(i?"&":"?","source=book_meeting");var f=window.envDetails.isConsecutiveMeeting?"consecutive_meeting_list":window.mappingEnabled&&t?"mapping_list":"meeting_list";e="".concat(e,"#").concat(f)}window.commons.redirectPage(e)}return{init:function(){f.listen(function(e){var t=e.action,n=e.payload||{},i=ot[t];i&&i(n)}),b.listen(function(e){r.getCustomForm();var n=e.data.data;if(void 0!==B&&!0===B){if(Re.text("View Briefing ID #".concat(n.id," ")),n.requestor&&L.briefingAndMeetingRequestorSame&&t){var i=n.requestor.uuid;En([["".concat(n.requestor.first_name," ").concat(n.requestor.last_name),i]],i)}zn()}}),h.listen(sn),w.listen(en),Re.on("click",E.gotoBriefing),W.on("click","#js-meeting-history-tab",bt),W.on("click","#js-meeting-notes-tab",wt),W.on("click",".go-to-main",pt(Rn)),W.on("click",".go-to-main-external",pt(Ht)),W.on("click",".go-to-main-internal",pt(zt)),$(W).on("change","#meeting_with",ei),$(J).on("change","#req_page_meeting_with",ei).on("change","#select_account",ei).on("click","#quick_submit_btn",I.focusInMeetingWith).on("click","#quick_submit_btn",_.debounce(Pn,2e3,{leading:!0,trailing:!1})).on("click",se,I.focusInMeetingWith).on("click",se,_.debounce(Dn,2e3,{leading:!0,trailing:!1})),W.on("click",".accept-meeting",Vt).on("click",".decline-meeting",Zt).on("click",".transfer-meeting",Wt).on("click",".approve-meeting",Jt).on("click",".cancel-meeting",Kt).on("click",".discard-meeting",Qt).on("click",".attendee_reinvite",qt).on("click",".attendee_accept",Nt).on("click",".attendee_endorse",Lt).on("click",".attendee_decline",Ft).on("click",".attendee_transfer",Ut).on("click",".attendee_survey",$t).on("click",".js-meeting-survey",Ot).on("click",".export-report-meeting",Pt).on("click",fe,Gt).on("click",".js-edit-proposal",ft).on("click",".js-schedule-proposal",ht).on("click",".js-remove-proposal",E.removeProposal).on("click",".js-decline-proposal",E.declineProposal),$(document).on("click","#js-attendee-survey-mail",jt),W.on("click",".attendee-empty-state.internal",pt(zt)),W.on("click",".attendee-empty-state.external",pt(Ht)),$(".selected-internal-attendee",W).on("click",".remove",Nn),$(".selected-external-attendee",W).on("click",".remove",Un),J.on("click","#meetingWithSubmit",Mt),W.on("click",".js-conference-type",dt),J.on("click","li#meetingWithInfo",xt),W.on("click","#submitButton",_.debounce(Dt,2e3)),$e.on("click",Qt),qe.on("click",".js-copy-vcon-link",_t),W.on("click",".js-copy-vcon-link",_t),Ce.on("focusout keyup paste",I.validateMeetingWith),$(le).on("change",ut),$("body").tooltip({trigger:"hover",selector:".js-copy-vcon-link"}),f.getIsMascalOrigin()||"new"===z||S.isMeetingInDraftMode()?(J.removeClass("hide"),W.addClass("hide")):(J.addClass("hide"),W.removeClass("hide")),("new"===z||window.envDetails.isConsecutiveMeeting||window.isEBCEvent)&&vt();var i=ct()||L.isJuniorMM();t=Y.request&&"new"===Y.request.mode,En(Y.requestors,function(){if(Y.request&&"edit"===Y.request.mode){for(var e=Y.request.requestor.uuid,t=!1,n=Y.requestors.length-1;!t&&n>=0;n--)t=Y.requestors[n][1]===e;return!1!==t||_.isEmpty(Y.request.requestor)||Y.requestors.push(["".concat(Y.request.requestor.first_name," ").concat(Y.request.requestor.last_name),e]),e}return L.isExecutiveAdmin()?_.head(L.currentManagedUser):Y.requestors.length?_.head(Y.requestors)[1]:L.currentUser.uuid}()),L.isConsecutiveMeeting&&(Mn(),"new"===window.mode&&C.fetchMeetingTypes(),at.checkDoubleBookedStatus=$n,at.submitMeetingHandler=Tt,Ke.remove="remove_from_all",Ke.accept="accept_all",Ke.decline="decline_all",Y.domainValidateUrl=g.ENDPOINTS.portal+g.ENDPOINTS.domain_validation),function(){var e=window.meetingInfo.request.location_preference_proposal;if("approved"===Y.request.status&&"schedule"!==$.urlParam("proposal_flow")&&!_.isEmpty(e)){var t=moment(e.start_time,"YYYY-MM-DD hh:mm a")._d,n=moment(e.end_time,"YYYY-MM-DD hh:mm a")._d,i={type:Y.request.activity,room:e.room,offsite:e.room.offsite,isBoothTour:"BoothTour"===e.room.type};y.setProposalData({start_time:t,end_time:n,meeting_time_zone:Qn(),break_duration:Y.request.meeting_break&&Y.request.meeting_break.meeting_break_duration,room:i,location_preference:e.preference,reason:e.reason,can_edit:e.can_edit_proposal,can_schedule:e.can_schedule}),Kn()}}(),function(){var e=Y.request.originalData;if(!_.isEmpty(e)){e.room,y.trigger({action:"onRoomChosen",payload:{type:Y.request.activity,room:e.room,offsite:e.room.offsite||!1,isBoothTour:"BoothTour"===e.room.type}});var t={event:{end_date:moment(e.end_time,"DD-MM-YYYY hh:mm a")._d,start_date:moment(e.start_time,"DD-MM-YYYY hh:mm a")._d,break_duration:Y.request.meeting_break.meeting_break_duration},viewInTzInfo:Y.request.view_in_timezone};q.eventCreated.trigger(t.event,A.getSetByDefualt()),R.locationPreferenceChange.trigger(e.location_preference,!1)}}(),"edit"===$.urlParam("proposal_flow")&&"cal"===$.urlParam("source")&&y.setProposalState(!0),i&&r.getQuickMeetingConfig(),window.isEBCEvent||L.isConsecutiveMeeting||!0!==L.topicManagementEnabled||gt(),"undefined"==typeof jiffle||L.isConsecutiveMeeting||r.getActivityDetails(),e=window.actions_on_behalf,"undefined"==typeof jiffle&&(be.filter("#js-meeting-survey")[Y.request.fill_survey?"removeClass":"addClass"]("hide"),be.filter("#js-requestor-survey")[Y.request.requestor_fill_survey?"removeClass":"addClass"]("hide")),L.isConsecutiveMeeting||function(){if(Y&&Y.request&&"edit"===Y.request.mode){f.getIsMascalOrigin()||S.isMeetingInDraftMode()||(J.addClass("hide"),W.removeClass("hide")),wn(Y.request.actions),!0===B&&void 0!==Y.request.briefing_id?Re.text("Briefing ID  #".concat(Y.request.briefing_id)):Re.remove(),a.removeAttr("data-i18n"),a.text(i18n.t("meeting_id")+Y.request.id),ue.text(Y.request.status),ce.addClass(Y.request.status),window.scrollTo(0,0);var e=Y.request.users.internal,t=L.currentUser.uuid,n=_.find(e,function(e){return e.uuid===t&&"declined"!==e.invite_status});n?r.updateAreYouAttending(!0):r.updateAreYouAttending(!1);var i=Y.request.requestor;i&&i.uuid&&(Ge.val(i.uuid),$('[id^="requestor-label-div"]').text(Ge.first().find("option:selected").text()))}}(),"edit"===z&&te.attr("data-i18n","UPDATE"),!ct()&&re.removeClass("btn-white").addClass("btn-blue"),Y.can_access_reviews&&u.init({entityUuid:Y.request.uuid,mountPoint:"#meeting-review-tab",fetchUrl:g.ENDPOINTS.get_reviews,updateUrl:g.ENDPOINTS.update_review,entityType:window.entityNameForReview}),Ce.val(yt()).trigger("change");var o=(Y.request||{}).location_preference;void 0!==s(o)&&R.locationPreferenceChange.trigger(o,!1);var l=Y.request;_.isEmpty(Y.request.originalData)&&_.isEmpty(l.room)&&function(e){var t=e.room_not_assigned_msg,i=e.can_change_loc_preference,a=w.locationPreference,o=n(40),l=a?"".concat(i18n.t(a)," - "):"",s=o({canChangeLocationPreference:i,roomNotAvailable:!0,roomNotAvailableMessage:l+(t||i18n.t("room_not_assigned_msg")),canChangeRoom:Ln()});K.html(s)}(l),I.init(),"function"==typeof et[G.hash]&&et[G.hash]();var c="edit"===window.mode&&!window.envDetails.isConsecutiveMeeting&&!window.isEBCEvent,d=S.isMeetingInDraftMode(),m=f.getIsMascalOrigin()&&!window.isEBCEvent||d;if(m&&qn(),c&&!m&&_.isEmpty(Y.request.originalData)){!_.isEmpty(l.room)&&Bn({type:Y.request.activity,room:Y.request.room,offsite:Y.request.room.offsite,isBoothTour:"BoothTour"===Y.request.room.type});var p={event:{end_date:moment(Y.request.end_time,"DD-MM-YYYY hh:mm a")._d,start_date:moment(Y.request.start_time,"DD-MM-YYYY hh:mm a")._d,break_duration:Y.request.meeting_break.meeting_break_duration},viewInTzInfo:Y.request.view_in_timezone};Xn(p),f.updateMeetingTime(p.event),Yn(Y.request.vcon),Mn(i||Y.request.show_all_requestors?"yes":"no"),f.updateAttachmentAttributes(Y.attachmentSettings,Y.request.attachments)}var v=$(".mount-transfer-meeting-modal");v.length&&window.TransferMeetingModal&&window.TransferMeetingModal.init(v)},setAddOffsiteLabel:function(e){scheduler.config.offsite_enabled&&$('#offsiteTab > a[data-i18n="add_offsite_location"]').text(e).attr("data-content",e)},setBoothTourLabels:function(e,t,n){$(".js-booth-tour-header").text(e),$(".js-booth-tour-btn-label").text(t)},setEnableEdit:function(e){Fe=e}}}();e.exports=Z},function(e,t,n){var i=n(147),a=n(192),o=function(){var e,t,o,l={fetchUrl:"",perPage:20,mountPoint:"#history-view",loadMoreHistory:".load_more_history",showUpdateText:".all_updates"},s="",r={getHistory:function(i){var a;s.length>0?(o.text("Showing Search Results"),a=n(193)):(o.text("Showing all Updates"),a=n(194));var l=a(i);e.html(l),$(e).data("page",i.current_page),$(e).data("total_pages",i.total_pages),i.current_page>=i.total_pages&&t.addClass("hide")}};function c(){s=$(this).val(),i.resetHistory(),t.removeClass("hide"),m(1)}function u(){var e=this.parentElement;$(e).find(".history_section_show").addClass("hide"),$(e).find(".info_section").addClass("show"),$(e).find(".history_section_hide").removeClass("hide")}function d(){var e=this.parentElement;$(e).find(".history_section_hide").addClass("hide"),$(e).find(".info_section").removeClass("show"),$(e).find(".history_section_show").removeClass("hide")}function m(e){e=e||1;var t=f().fetchUrl,n=f().perPage;i.getHistory({url:t,page:e,perPage:n,searchText:s,prefix:l.prefix})}function f(){return l}return{init:function(n){!function(e){_.merge(l,e)}(n),e=$(l.mountPoint),t=$(l.loadMoreHistory),o=$(l.showUpdateText),a.listen(function(e){var t=e.action,n=r[t];_.isFunction(n)&&n(e.data)}),m(1),e.on("click",".history_section_show",u),e.on("click",".history_section_hide",d),$(".history-search-box").on("keyup",_.debounce(c,369)),$(".history-search-box").on("keypress",function(e){if(13==e.keyCode)return!1}),$(document.body).on("appear",".load_more_history",function(t,n){var i,a;i=$(e).data("page")||1,a=$(e).data("total_pages")||0,i!==a&&m(i+1)}),t.appear()}}}();e.exports=o},function(e,t){var n=Reflux.createActions(["getHistory","resetHistory"]);e.exports=n},function(e,t){e.exports=function(e,t){var n=envDetails.event?envDetails.current_location.time_zone_converted:envDetails.time_zone;return n?moment(e).tz(n).format("hh:mm A"):""}},function(e,t,n){var i=n(150),a=n(195),o=function(){var e={mountPoint:"",fetchUrl:"",updateUrl:"",entityUuid:"",entityType:""},t=".jn-c-mm-review-list",o=".js_collapse_btn",l=".jn-c-review-list-block-container",s=".js_limit_view",r=".js_expanded_view",c=".js_icons_list",u=window.$(".notification-modal"),d={1:"upvote",0:"neutral","-1":"downvote"},m=n(196),f=n(201),h=n(151),p={fetch:function(e){var t=(s=e.reviewees,window._.map(s,function(e){return v(e)})),n=(l=e.reviewers,window._.map(l,function(e){return function(e){var t=g(e),n=e.review;return t.upvote="hide",t.downvote="hide",t[d[n.vote]]="",t}(e)})),i=(o=e.mm,window._.map(o,function(e){return function(e){var t,n=e.review_summary;return{firstName:e.first_name,lastName:e.last_name,upVoteCount:n.upvote,downVoteCount:n.downvote,commentCount:n.comment,uuid:e.uuid,reviews:(t=e.reviews,window._.map(t,function(e){var t={name:e.name,title:e.title,companyName:e.company_name,comment:e.comment,upvote:"hide",downvote:"hide"};return t[d[e.vote]]="",t}))}}(e)})),a=m({reviewees:t,reviewers:n,isReviewed:n.length>0,mmData:i});var o;var l;var s;b("mountNode").html(a)},updateSuccess:function(e){u.notificationModal({class:"green",title:window.i18n.t("review_save_title"),body:window.i18n.t("review_save_message")}),k(e)},deleteSuccess:function(e){k(e)}};function g(e){var t=e.review;return{name:e.name,title:e.title,companyName:e.company_name,comment:t.comment}}function v(e){var t=g(e),n=e.review;return t.revieweeUuid=e.uuid,t.reviewUuid=n.uuid||"",t.editable=e.review.can_edit,n.comment||1===n.vote||-1===n.vote?t.isCreate=!1:t.isCreate=!0,t.commented=_.isEmpty(n.comment)?"":"active",t.updatedTime=n.updated_time,t.editable?t[d[n.vote]]="active":(t.upvote="hide",t.downvote="hide",t[d[n.vote]]=""),t}function y(e,t){e.html(h(v(t)))}function b(t){return e[t]}function w(e){e.preventDefault(),window.$(this).toggleClass("active"),window.$(this).siblings(".review-vote").removeClass("active"),window.$(this).parent().siblings(".collapse").collapse("show")}function M(e){window.$(this).parent().siblings(".collapse").collapse("show")}function x(e){var t=e.find(".review-vote.active");return t.is(".review-yes")?1:t.is(".review-no")?-1:0}function C(e){return{vote:x(e),uuid:e.data("review_uuid"),comment:e.find("textarea").val(),entity_uuid:b("entityUuid"),entity_type:b("entityType"),reviewee_uuid:e.data("reviewee_uuid")}}function D(){var e=window.$(this).parents(".review-item");i.updateReview(b("updateUrl"),C(e),"updateSuccess")}function k(e){e.can_edit=!0;var t=a.getReviewee(e.reviewee_uuid);t&&(t.review=e,y(window.$(E(e.reviewee_uuid)),t))}function S(e){e.preventDefault(),e.stopPropagation();var t=window.$(this);t.siblings(l).collapse("show"),t.find(o).removeClass("hide"),t.find(c).addClass("hide"),t.find(s).addClass("hide"),t.find(r).removeClass("hide")}function A(e){e.stopPropagation(),e.preventDefault();var n=window.$(this).closest(t);n.siblings(l).collapse("hide"),n.find(o).addClass("hide"),n.find(c).removeClass("hide"),n.find(s).removeClass("hide"),n.find(r).addClass("hide")}function T(e){var t=window.$(this).parents(".review-item").data("reviewee_uuid"),n=a.getReviewee(t);window.$(this).parents(".collapse").collapse("hide"),y(window.$(E(t)),n)}function E(e){return"#edit_review_container_"+e}function I(){u.notificationModal({class:"blue",type:"confirmation",title:window.i18n.t("delete_comment_notify_title"),body:window.i18n.t("delete_comment_notify_message"),done:O.bind(this)})}function O(){var e=C(window.$(this).parents(".review-item"));e.comment="",i.updateReview(b("updateUrl"),e,"deleteSuccess")}return{init:function(n){n.mountNode=$(n.mountPoint),function(t){window._.merge(e,t)}(n),window.envDetails.isExecutiveAdmin()&&window.envDetails.currentManagedUser.length>1?b("mountNode").html(f()):(i.fetchReviews(e),a.listen(function(e){var t=p[e.type];window._.isFunction(t)&&t(e.data)}),b("mountNode").on("click",".review-vote",w).on("click",".review-comment",M).on("click",".js_review_save",D).on("click",".js_review_cancel",T).on("click",".js_review_delete",I).on("click",t,S).on("click",o,A))}}}();e.exports=o},function(e,t){var n=window.Reflux.createActions(["fetchReviews","updateReview"]);e.exports=n},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l){return'          <button class="jn-c-btn--blue btn js_review_save">'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"create_review",{name:"t",hash:{},data:l,loc:{start:{line:27,column:60},end:{line:27,column:81}}}))+"</button>\n"},3:function(e,t,i,o,l){return'          <button class="jn-c-btn--blue btn js_review_save">'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"update_review",{name:"t",hash:{},data:l,loc:{start:{line:29,column:60},end:{line:29,column:81}}}))+"</button>\n"},5:function(e,t,i,o,l){return'          <div class="pull-left js_review_delete">'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"delete_comment",{name:"t",hash:{},data:l,loc:{start:{line:32,column:50},end:{line:32,column:72}}}))+"</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d="function",m=e.escapeExpression;return'<div class="jn-c-review-item review-item" data-reviewee_uuid = \''+m(typeof(r=null!=(r=i.revieweeUuid||(null!=t?t.revieweeUuid:t))?r:u)===d?r.call(c,{name:"revieweeUuid",hash:{},data:l,loc:{start:{line:1,column:64},end:{line:1,column:80}}}):r)+"' data-review_uuid='"+m(typeof(r=null!=(r=i.reviewUuid||(null!=t?t.reviewUuid:t))?r:u)===d?r.call(c,{name:"reviewUuid",hash:{},data:l,loc:{start:{line:1,column:100},end:{line:1,column:114}}}):r)+'\'>\n  <div class="col-xs-12 col-lg-6">\n    <div class="col-xs-6 col-sm-7">\n      <h4>'+m(typeof(r=null!=(r=i.name||(null!=t?t.name:t))?r:u)===d?r.call(c,{name:"name",hash:{},data:l,loc:{start:{line:4,column:10},end:{line:4,column:18}}}):r)+"</h4>\n      <h6>"+m(typeof(r=null!=(r=i.title||(null!=t?t.title:t))?r:u)===d?r.call(c,{name:"title",hash:{},data:l,loc:{start:{line:5,column:10},end:{line:5,column:19}}}):r)+", "+m(typeof(r=null!=(r=i.companyName||(null!=t?t.companyName:t))?r:u)===d?r.call(c,{name:"companyName",hash:{},data:l,loc:{start:{line:5,column:21},end:{line:5,column:36}}}):r)+'</h6>\n      <div class="font-8"><i>'+m(typeof(r=null!=(r=i.updatedTime||(null!=t?t.updatedTime:t))?r:u)===d?r.call(c,{name:"updatedTime",hash:{},data:l,loc:{start:{line:6,column:29},end:{line:6,column:44}}}):r)+'</i></div>\n    </div>\n    <div class="col-xs-6 col-sm-5 text-right no-padding-left">\n      <a class="icon-box review-vote review-yes '+m(typeof(r=null!=(r=i.upvote||(null!=t?t.upvote:t))?r:u)===d?r.call(c,{name:"upvote",hash:{},data:l,loc:{start:{line:9,column:48},end:{line:9,column:58}}}):r)+'" href="javascript:void(0)">\n        <i class="jif-iris-yes jif-16"></i>\n        <div class="font-8">'+m(a(n(0)).call(c,"yes",{name:"t",hash:{},data:l,loc:{start:{line:11,column:28},end:{line:11,column:39}}}))+'</div>\n      </a>\n      <a class="icon-box review-vote review-no '+m(typeof(r=null!=(r=i.downvote||(null!=t?t.downvote:t))?r:u)===d?r.call(c,{name:"downvote",hash:{},data:l,loc:{start:{line:13,column:47},end:{line:13,column:59}}}):r)+'" href="javascript:void(0)">\n        <i class="jif-iris-no jif-16"></i>\n        <div class="font-8">'+m(a(n(0)).call(c,"no",{name:"t",hash:{},data:l,loc:{start:{line:15,column:28},end:{line:15,column:38}}}))+'</div>\n      </a>\n      <a class="icon-box review-comment '+m(typeof(r=null!=(r=i.commented||(null!=t?t.commented:t))?r:u)===d?r.call(c,{name:"commented",hash:{},data:l,loc:{start:{line:17,column:40},end:{line:17,column:53}}}):r)+'" href="javascript:void(0)">\n        <i class="jif-iris-comment jif-16"></i>\n        <div class="font-8">'+m(a(n(0)).call(c,"comment",{name:"t",hash:{},data:l,loc:{start:{line:19,column:28},end:{line:19,column:43}}}))+'</div>\n      </a>\n    </div>\n    <div class="col-xs-12 jn-c-review-commentbox collapse" id="'+m(typeof(r=null!=(r=i.revieweeUuid||(null!=t?t.revieweeUuid:t))?r:u)===d?r.call(c,{name:"revieweeUuid",hash:{},data:l,loc:{start:{line:22,column:63},end:{line:22,column:79}}}):r)+'_comment_div" role="tabpanel" aria-labelledby="headingOne">\n      <textarea class="col-xs-12" placeholder="'+m(typeof(r=null!=(r=i.leave_comment||(null!=t?t.leave_comment:t))?r:u)===d?r.call(c,{name:"leave_comment",hash:{},data:l,loc:{start:{line:23,column:47},end:{line:23,column:64}}}):r)+'" id="'+m(typeof(r=null!=(r=i.revieweeUuid||(null!=t?t.revieweeUuid:t))?r:u)===d?r.call(c,{name:"revieweeUuid",hash:{},data:l,loc:{start:{line:23,column:70},end:{line:23,column:86}}}):r)+'_comment">'+m(typeof(r=null!=(r=i.comment||(null!=t?t.comment:t))?r:u)===d?r.call(c,{name:"comment",hash:{},data:l,loc:{start:{line:23,column:96},end:{line:23,column:107}}}):r)+'</textarea>\n      <div class="col-xs-12 jn-c-review-comment-btn">\n        <button class="jn-c-btn--white btn js_review_cancel">'+m(a(n(0)).call(c,"cancel",{name:"t",hash:{},data:l,loc:{start:{line:25,column:61},end:{line:25,column:75}}}))+"</button>\n"+(null!=(s=i.if.call(c,null!=t?t.isCreate:t,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.program(3,l,0),data:l,loc:{start:{line:26,column:8},end:{line:30,column:15}}}))?s:"")+(null!=(s=i.if.call(c,null!=t?t.commented:t,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l,loc:{start:{line:31,column:8},end:{line:33,column:15}}}))?s:"")+"      </div>\n    </div>\n  </div>\n</div>"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r="function",c=e.escapeExpression;return'<div class="row">\n  <div class="col-xs-12 col-lg-6">\n    <div class="jn-c-review-list-content">\n      <div class="jn-c-review-item">\n        <div class="col-xs-8">\n          <h4 class="text-ellipsis">'+c(typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:s)===r?o.call(l,{name:"name",hash:{},data:a,loc:{start:{line:6,column:36},end:{line:6,column:44}}}):o)+"</h4>\n          <h6>"+c(typeof(o=null!=(o=n.title||(null!=t?t.title:t))?o:s)===r?o.call(l,{name:"title",hash:{},data:a,loc:{start:{line:7,column:14},end:{line:7,column:23}}}):o)+", "+c(typeof(o=null!=(o=n.companyName||(null!=t?t.companyName:t))?o:s)===r?o.call(l,{name:"companyName",hash:{},data:a,loc:{start:{line:7,column:25},end:{line:7,column:40}}}):o)+'</h6>\n          <div class="font-12">'+c(typeof(o=null!=(o=n.comment||(null!=t?t.comment:t))?o:s)===r?o.call(l,{name:"comment",hash:{},data:a,loc:{start:{line:8,column:31},end:{line:8,column:42}}}):o)+'</div>\n        </div>\n        <div class="col-xs-4 text-right">\n          <a href="javascript:void(0)" class="icon-box review-yes active '+c(typeof(o=null!=(o=n.upvote||(null!=t?t.upvote:t))?o:s)===r?o.call(l,{name:"upvote",hash:{},data:a,loc:{start:{line:11,column:73},end:{line:11,column:83}}}):o)+'">\n            <i class="jif-iris-yes jif-20"></i>\n          </a>\n          <a href="javascript:void(0)" class="icon-box review-no active '+c(typeof(o=null!=(o=n.downvote||(null!=t?t.downvote:t))?o:s)===r?o.call(l,{name:"downvote",hash:{},data:a,loc:{start:{line:14,column:72},end:{line:14,column:84}}}):o)+'">\n            <i class="jif-iris-no jif-20"></i>\n          </a>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>'},useData:!0})},function(e,t){var n=Reflux.createActions(["listNotes","createNote","updateNote","deleteNote"]);e.exports=n},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return'      <div class="col-xs-3">\n        <div class="dropdown pull-right">\n          <a data-toggle="dropdown"><span class="jif-more"></span></a>\n          <ul class="dropdown-menu">\n            <li><a href="javascript:void(0)" id="js-edit-note" data-uuid='+r("function"==typeof(o=null!=(o=n.uuid||(null!=t?t.uuid:t))?o:s)?o.call(l,{name:"uuid",hash:{},data:a,loc:{start:{line:12,column:73},end:{line:12,column:81}}}):o)+'>Edit</a></li>\n            <li><a href="javascript:void(0)" id="js-delete-note" data-uuid='+r("function"==typeof(o=null!=(o=n.uuid||(null!=t?t.uuid:t))?o:s)?o.call(l,{name:"uuid",hash:{},data:a,loc:{start:{line:13,column:75},end:{line:13,column:83}}}):o)+">Delete</a></li>\n          </ul>\n        </div>\n      </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",u=e.escapeExpression;return'<div class="jn-c-note-block" id="js-note-content-'+u(typeof(l=null!=(l=n.uuid||(null!=t?t.uuid:t))?l:r)===c?l.call(s,{name:"uuid",hash:{},data:a,loc:{start:{line:1,column:49},end:{line:1,column:57}}}):l)+'">\n  <div class="row">\n    <div class="col-xs-9">\n      <div class="jn-c-note-title">'+u(typeof(l=null!=(l=n.creator_name||(null!=t?t.creator_name:t))?l:r)===c?l.call(s,{name:"creator_name",hash:{},data:a,loc:{start:{line:4,column:35},end:{line:4,column:51}}}):l)+'</div>\n      <div class="jn-c-note-title_sub">Last updated at '+u(typeof(l=null!=(l=n.updated_at||(null!=t?t.updated_at:t))?l:r)===c?l.call(s,{name:"updated_at",hash:{},data:a,loc:{start:{line:5,column:55},end:{line:5,column:69}}}):l)+"</div>\n    </div>\n"+(null!=(o=n.if.call(s,null!=t?t.can_edit:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:7,column:4},end:{line:17,column:11}}}))?o:"")+'  </div>\n  <div class="row">\n    <div class="col-xs-12">\n      <div class="jn-c-note-content" id="note_'+u(typeof(l=null!=(l=n.uuid||(null!=t?t.uuid:t))?l:r)===c?l.call(s,{name:"uuid",hash:{},data:a,loc:{start:{line:21,column:46},end:{line:21,column:54}}}):l)+'">'+u(typeof(l=null!=(l=n.note||(null!=t?t.note:t))?l:r)===c?l.call(s,{name:"note",hash:{},data:a,loc:{start:{line:21,column:56},end:{line:21,column:64}}}):l)+"</div>\n    </div>\n  </div>\n</div>"},useData:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,n,i,a){return" hide "},3:function(e,t,i,a,o,l,s){var r;return null!=(r=e.invokePartial(n(204),t,{name:"_visibility",hash:{uuid:null!=s[1]?s[1].uuid:s[1]},data:o,indent:"          ",helpers:i,partials:a,decorators:e.decorators}))?r:""},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l,s,r){var c,u,d=null!=t?t:e.nullContext||{},m=e.hooks.helperMissing,f="function",h=e.escapeExpression;return'<div id="js-note-'+h(typeof(u=null!=(u=i.action||(null!=t?t.action:t))?u:m)===f?u.call(d,{name:"action",hash:{},data:l,loc:{start:{line:1,column:17},end:{line:1,column:27}}}):u)+'-module">\n  <div class="jn-c-note-title">'+h(typeof(u=null!=(u=i.headerLabel||(null!=t?t.headerLabel:t))?u:m)===f?u.call(d,{name:"headerLabel",hash:{},data:l,loc:{start:{line:2,column:31},end:{line:2,column:46}}}):u)+'</div>\n  <div class="jn-c-note-create">\n    <a href="javascript:void(0)" class="pull-right font-light-grey1 font-12 '+(null!=(c=a(n(5)).call(d,null!=t?t.action:t,"create",{name:"compare_text",hash:{},fn:e.program(1,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:4,column:76},end:{line:4,column:132}}}))?c:"")+' close-edit-note"><span class="jif-close font-10"></span></a>\n    <textarea id="js-'+h(typeof(u=null!=(u=i.action||(null!=t?t.action:t))?u:m)===f?u.call(d,{name:"action",hash:{},data:l,loc:{start:{line:5,column:21},end:{line:5,column:31}}}):u)+'-note-content" >'+h(typeof(u=null!=(u=i.note_data||(null!=t?t.note_data:t))?u:m)===f?u.call(d,{name:"note_data",hash:{},data:l,loc:{start:{line:5,column:47},end:{line:5,column:60}}}):u)+'</textarea>\n    <div class="jn-c-note-action">\n    <div class="dropdown multiselect-close pull-right" id=\'visibleTo'+h(typeof(u=null!=(u=i.action||(null!=t?t.action:t))?u:m)===f?u.call(d,{name:"action",hash:{},data:l,loc:{start:{line:7,column:68},end:{line:7,column:78}}}):u)+'\'>\n      <button class="jn-c-btn--white btn note-visibility" data-toggle="dropdown">\n      '+h(a(n(0)).call(d,"make_visbile_to",{name:"t",hash:{},data:l,loc:{start:{line:9,column:6},end:{line:9,column:29}}}))+'\n      <span class="caret left-margin-10"></span></button>\n      <ul class="dropdown-menu jn-c-dd--multiselect note-vis-to">\n'+(null!=(c=i.each.call(d,null!=t?t.visibility:t,{name:"each",hash:{},fn:e.program(3,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:12,column:8},end:{line:14,column:17}}}))?c:"")+'      </ul>\n    </div>\n    <button id="js-'+h(typeof(u=null!=(u=i.action||(null!=t?t.action:t))?u:m)===f?u.call(d,{name:"action",hash:{},data:l,loc:{start:{line:17,column:19},end:{line:17,column:29}}}):u)+'-note" class="jn-c-btn--blue btn">'+h(typeof(u=null!=(u=i.buttonLabel||(null!=t?t.buttonLabel:t))?u:m)===f?u.call(d,{name:"buttonLabel",hash:{},data:l,loc:{start:{line:17,column:63},end:{line:17,column:78}}}):u)+"</button>\n    </div>\n  </div>\n</div>\n"},usePartial:!0,useData:!0,useDepths:!0})},function(e,t,n){var i=n(8),a=n(11),o=n(3),l=n(16),s=window.selectedActivityUuid,r=n(9),c=n(10),u=Reflux.createStore({init:function(){this.listenToMany(i),this.customForm=null,this.remoteEntitiesCount=0},onInitiateNewMeetingCustomForm:function(e){s=e,this.onGetCustomForm({onlyTopicField:!0})},extractTopicField:function(e){var t=_.find(e,function(e){return"topic_management"===e.field_name});r.setTopicSettings(t),i.changeTopicValues(t,s)},onGetCustomForm:function(e){e=e||{};var t=o.ENDPOINTS.fetch_form,n=o.fetch({url:t,data:{form_type:"meeting_request_form",activity_uuid:s}});n.then(function(t){var n=this;if(e.onlyTopicField)this.extractTopicField(t.data.custom_form_fields);else if(null===this.customForm&&t.data&&t.data.custom_form_fields)if(this.customForm=t.data,"edit"===meetingInfo.request.mode&&"undefined"!=typeof jiffle)this.onFetchSfdcCustomForm(!0);else{if(i.updateCustomFields(t.data),!envDetails.topicManagementEnabled){var a=_.find(this.customForm.custom_form_fields,function(e){return"topic_management"==e.field_name});a&&(a.hidden=!0)}_.forEach(this.customForm.custom_form_fields,function(e){"string"==typeof e.entity&&""!==e.entity.trim()&&(n.remoteEntityFields[e.entity]=e.field_name,n.remoteEntitiesCount++)}),0!=this.remoteEntitiesCount?this.trigger(this.customForm,this.remoteEntityFields):this.trigger(t)}}.bind(this)),n[n.fail?"fail":"catch"](function(e){this.trigger({type:"CustomFormError",data:e.responseJSON})}.bind(this))},remoteEntityFields:{},remoteEntityEndPoints:{topic_of_interest:o.ENDPOINTS.fetch_topics},onFetchRelatedTopics:function(e){var t=this;(e=e||{}).per_page=1e3,e.meeting_uuid=meetingInfo.request&&meetingInfo.request.uuid,e.make_topic_editable=!(!meetingInfo.request||!meetingInfo.request.uuid);var n=o.fetch({url:this.remoteEntityEndPoints.topic_of_interest,data:e});n.then(function(e){t.trigger({type:"getTopicListSuccess",payload:e})}),n[n.fail?"fail":"catch"](function(e){t.trigger({type:"getTopicListFail",payload:e})})},onFetchTopicsForEBCMeeting:function(){this.trigger({type:"fetchTopics"})},onFetchSfdcCustomForm:function(e){var t=a.model.account;if(window.envDetails.isConsecutiveMeeting&&"new"===meetingInfo.request.mode){var n=c.getConsecutiveMeetings();t=n[0].account}var s={mapped_fields:{},account_id:t.acc.id,opportunity_id:t.oppty.id,mode:meetingInfo.request.mode};"new"===meetingInfo.request.mode?s.lead_id=l.getValidLeadId(a.model):"edit"===meetingInfo.request.mode&&(s.account_id=meetingInfo.request.custom_fields.meeting_account_id,s.lead_id=meetingInfo.request.custom_fields.meeting_lead_id,s.opportunity_id=meetingInfo.request.custom_fields.meeting_opportunity_id);var r={meeting_opportunity_id:t.oppty.id};_.forEach(this.customForm.custom_form_fields,function(t){if(t.integration_field&&t.integration_field.uuid){var n={value:e||void 0===r[t.field_name]?meetingInfo.request.custom_fields[t.field_name]?meetingInfo.request.custom_fields[t.field_name]:"":r[t.field_name],prefill:"",integration_field_uuid:t.integration_field.uuid};s.mapped_fields[t.field_name]=n}});var u=o.fetch({url:o.ENDPOINTS.fetch_sf_custom_fields,data:s});u.then(function(n){e&&i.updateCustomFields(n.data);var a=meetingInfo.request.meeting_with;t.acc.name&&(a=t.acc.name),"new"===meetingInfo.request.mode&&window.isLeadsMeeting&&(a=$("#req_page_meeting_with").val());var o={sfdc_meeting_info:{custom_fields:{},meeting_with:a,second_page_active:e},custom_form_fields:_.cloneDeep(this.customForm.custom_form_fields)},l=_.cloneDeep(meetingInfo.request.custom_fields);_.forEach(o.custom_form_fields,function(e){var t=n.mapped_fields[e.field_name];if(t){var i=t.value;"textfield"===e.type&&(i=""===t.value?e.values:t.value),e.values=t.prefill,o.sfdc_meeting_info.custom_fields[e.field_name]=i}}),o.sfdc_meeting_info.custom_fields=_.assign(l,o.sfdc_meeting_info.custom_fields),this.trigger(o)}.bind(this)),u[u.fail?"fail":"catch"](function(e){console.log(e)}.bind(this))}});e.exports=u},function(e,t,n){var i=n(98),a=n(97),o=n(158),l=function(){var e=$(".js-change-meeting-type"),t=$("#meeting-type-list"),l=$(".modal-select-activity"),s=window.ReactMessage||$(".notification-modal"),r=$(".notification-modal"),c=l.find(".select-activity-help-icon"),u={fetchChangableMeetingTypesSuccess:function(e){var i=e&&e.activities;if(i&&0===i.length)return void g();var a=n(118);t.html(a({meetingTypes:i})),t.addClass("js-enabled-meeting-types"),l.modal({backdrop:!1})},fetchChangableMeetingTypesFailure:function(e){s.notificationModal({class:"red",body:e,title:i18n.t("failure")})}};function d(){return!0===window.meetingInfo.request.can_change_meeting_type&&!m()}function m(){return null!==a.getDestinationActivityUuid()}function f(){var e=i18n.t("topic_label");return window.meetingInfo.request.meeting_details&&window.meetingInfo.request.meeting_details.topic_management&&(e=window.meetingInfo.request.meeting_details.topic_management.label),e}function h(e){e.stopPropagation(),i.fetchChangableMeetingTypes("fetchChangableMeetingTypesSuccess","fetchChangableMeetingTypesFailure")}function p(e){e.preventDefault(),e.stopPropagation(),v($(e.target).closest(".activity").attr("id"))}function g(){s.notificationModal({class:"red",uiDetails:[{text:i18n.t("this_could_be_because")},{text:"".concat(i18n.t("config_not_allow"))},{text:i18n.t("or")},{text:i18n.t("topic_not_mapped",{topicOfInterestLabel:f()})}],body:i18n.t("no_changable_meeting_type_available_header")})}function v(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).dismissCallback,n=!1;void 0!==e&&(l.modal("hide"),r.notificationModal({type:"confirmation",class:"blue",title:i18n.t("change_meeting_type_header"),body:y(),doneBtnText:i18n.t("cancel_in_notification"),cancelBtnText:i18n.t("proceed_in_notification"),show:function(){r.find(".modal-done").removeClass("btn btn-blue").addClass("btn-link cancel text-nounderline")},dismiss:function(){r.find(".modal-done").addClass("btn btn-blue").removeClass("btn-link cancel text-nounderline"),!n&&t&&t()},cancel:function(){var t=window.location.href.split("#")[0],i=-1===t.indexOf("?")?"?":"&";n=!0,window.commons.redirectPage(t+i+"destination_activity_uuid="+e)}}))}function y(){var e=i18n.t("change_meeting_type_confirmation_message"),t=function(){var e="",t=(n=function(){var e=[];return e=(e=(e=e.concat(b(window.meetingInfo.request.users.internal))).concat(b(window.meetingInfo.request.users.external))).concat(w(window.meetingInfo.request.requestor_fill_survey_links))}(),_.filter(n,function(e){if("pending"===e.status||"approved"===e.status)return e}));var n;if(t.length){var i=_.groupBy(t,"status");i.approved?e=i18n.t("change_meeting_type_survey_submitted_message"):i.pending&&(e=i18n.t("change_meeting_type_survey_link_sent_message"))}return e}();return""!==t&&(e+=t),e}function b(e){var t=[];return _.forEach(e,function(e){t=t.concat(w(e))}),t}function w(e){var t=[];return _.forEach(e.survey_links,function(e){t.push(e)}),t}return{init:function(){d()&&(e.removeClass("hide"),c.removeClass("hide"),a.listen(function(e){var t=u[e.type];"function"==typeof t&&t(e.data)}),e.on("click",h),l.on("click",".js-enabled-meeting-types",p),l.on("hidden.bs.modal",function(){t.removeClass("js-enabled-meeting-types"),c.popover("destroy")}),l.on("show.bs.modal",function(){var e;e=n(207),c.popover({trigger:"click",content:e({topicLabel:f()}),placement:"right",html:!0,template:'<div class="item-popover popover font-11 "><div class="arrow"></div><div class="popover-content"></div></div>'})}));var i={shouldShowChangeMeetingTypeLink:d,onChangeMeetingTypeConfirmation:v,noCompatibleMeetingTypesFoundNotification:g};!envDetails.isConsecutiveMeeting&&o.init(i)},isMeetingInDraftMode:m}}();e.exports=l},function(e,t,n){var i=n(98),a=n(97),o="edit"===window.mode,l=function(){var e=$("#meeting_type-complement"),t={fetchChangableMeetingTypesListSuccess:function(t){if(h({activities:t.activities}))return r([],!0),!1;r(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(function(e){return{id:e.uuid,name:e.name,text:e.name}})}(t.activities)),e.select2("open")}},n={},l="";function s(){var e=[];if(o){var t=window.meetingInfo.request.activity,n=t.name,i=t.uuid;e.push({id:i,name:n,text:n})}else e.push({id:selectedActivityUuid,text:selectedActivityName});return e}function r(t,i){var a;e.select2({allowClear:!1,required:!0,placeholder:i18n.t("please_select"),data:t||s(),minimumResultsForSearch:i?1/0:2,disabled:(a=n.shouldShowChangeMeetingTypeLink,!o||!a()),dropdownCssClass:"iris-select2-dropdown",width:"100%"})}function c(){l=e.val(),a.getChangeableMeetingTypesFetchedFlag()&&h({activities:a.getChangeableMeetingTypes()})}function u(e){a.getChangeableMeetingTypesFetchedFlag()||i.fetchChangableMeetingTypes("fetchChangableMeetingTypesListSuccess","fetchChangableMeetingTypesFailure",!0)}function d(e){var t={dismissCallback:m};(0,n.onChangeMeetingTypeConfirmation)($(this).val(),t)}function m(){f({elementRef:e,valueToBeSelected:l})}function f(e){var t=e.elementRef,n=e.valueToBeSelected;t.val(n),t.trigger("change.select2")}function h(t){var i=t.activities;return!(!i||0!==i.length)&&((0,n.noCompatibleMeetingTypesFoundNotification)(),e.select2("close"),!0)}return{init:function(){var i,l,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=s,r(),o&&e.on("select2:open",c).one("select2:opening",u).on("change",d),i=((window.meetingInfo.request||{}).activity||{}).uuid,l=o?i:selectedActivityUuid,f({elementRef:e,valueToBeSelected:l}),o&&a.listen(function(e){var n=t[e.type];"function"==typeof n&&n(e.data)})}}}();e.exports=l},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return'<div class="select2-accordion topics-description" id='+r("function"==typeof(o=null!=(o=n.topic_id||(null!=t?t.topic_id:t))?o:s)?o.call(l,{name:"topic_id",hash:{},data:a,loc:{start:{line:1,column:53},end:{line:1,column:65}}}):o)+'>\n  <div class="title">\n    <div class="title-text">'+r("function"==typeof(o=null!=(o=n.topic_name||(null!=t?t.topic_name:t))?o:s)?o.call(l,{name:"topic_name",hash:{},data:a,loc:{start:{line:3,column:28},end:{line:3,column:42}}}):o)+'</div>\n  </div>\n  <div class="content">\n    '+r("function"==typeof(o=null!=(o=n.topic_description||(null!=t?t.topic_description:t))?o:s)?o.call(l,{name:"topic_description",hash:{},data:a,loc:{start:{line:6,column:4},end:{line:6,column:25}}}):o)+"\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l){var s;return null!=(s=a(n(5)).call(null!=t?t:e.nullContext||{},null!=t?t.conference_name:t,"Add link",{name:"compare_text",hash:{},fn:e.program(2,l,0),inverse:e.program(4,l,0),data:l,loc:{start:{line:9,column:2},end:{line:69,column:19}}}))?s:""},2:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r="function",c=e.escapeExpression;return'    <div class="form-group with-icon view">\n      <i class="jif-video"></i>\n      <div class="form-control-view">\n        <div class="text-ellipsis">\n          <a target=\'_blank\' href=\''+c(typeof(o=null!=(o=n.link||(null!=t?t.link:t))?o:s)===r?o.call(l,{name:"link",hash:{},data:a,loc:{start:{line:14,column:35},end:{line:14,column:43}}}):o)+"' title=\""+c(typeof(o=null!=(o=n.link||(null!=t?t.link:t))?o:s)===r?o.call(l,{name:"link",hash:{},data:a,loc:{start:{line:14,column:52},end:{line:14,column:60}}}):o)+'" rel="noopener noreferrer">'+c(typeof(o=null!=(o=n.link||(null!=t?t.link:t))?o:s)===r?o.call(l,{name:"link",hash:{},data:a,loc:{start:{line:14,column:88},end:{line:14,column:96}}}):o)+'</a>\n        </div>\n      </div>\n    </div>\n    <div class="form-group with-icon view">\n      <i class="jif-info"></i>\n      <div class="form-control-view">\n        <span title="'+c(typeof(o=null!=(o=n.desc||(null!=t?t.desc:t))?o:s)===r?o.call(l,{name:"desc",hash:{},data:a,loc:{start:{line:21,column:21},end:{line:21,column:29}}}):o)+'">'+c(typeof(o=null!=(o=n.desc||(null!=t?t.desc:t))?o:s)===r?o.call(l,{name:"desc",hash:{},data:a,loc:{start:{line:21,column:31},end:{line:21,column:39}}}):o)+"</span>\n      </div>\n    </div>\n"},4:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression;return'    <div class="js-vcon-integration-section">\n      <div class="form-group with-icon view">\n        <i class="jif-logo-'+c("function"==typeof(l=null!=(l=n.adapter_name||(null!=t?t.adapter_name:t))?l:r)?l.call(s,{name:"adapter_name",hash:{},data:a,loc:{start:{line:27,column:27},end:{line:27,column:43}}}):l)+'"></i>\n        <div class="form-control-view">\n          <div class="vcon-meeting-btn-link">\n            <div class="btn-cont">\n              <input type="textarea" value='+c("function"==typeof(l=null!=(l=n.meetingLink||(null!=t?t.meetingLink:t))?l:r)?l.call(s,{name:"meetingLink",hash:{},data:a,loc:{start:{line:31,column:43},end:{line:31,column:58}}}):l)+" class=\"js-vcon-link\" hidden>\n              <a target='_blank' href='"+c("function"==typeof(l=null!=(l=n.meetingLink||(null!=t?t.meetingLink:t))?l:r)?l.call(s,{name:"meetingLink",hash:{},data:a,loc:{start:{line:32,column:39},end:{line:32,column:54}}}):l)+'\' rel="noopener noreferrer" class="btn btn-primary">Join '+c("function"==typeof(l=null!=(l=n.conference_name||(null!=t?t.conference_name:t))?l:r)?l.call(s,{name:"conference_name",hash:{},data:a,loc:{start:{line:32,column:111},end:{line:32,column:130}}}):l)+' Meeting</a>\n            </div>\n            <i class="jif-copy js-copy-vcon-link" title="Copy conference link to clipboard"></i>\n          </div>\n          '+(null!=(o=n.if.call(s,null!=t?t.showMeetingKey:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a,loc:{start:{line:36,column:10},end:{line:36,column:68}}}))?o:"")+"\n          "+(null!=(o=n.if.call(s,null!=t?t.vconSecretKey:t,{name:"if",hash:{},fn:e.program(7,a,0),inverse:e.noop,data:a,loc:{start:{line:37,column:10},end:{line:37,column:76}}}))?o:"")+"\n        </div>\n      </div>\n"+(null!=(o=n.if.call(s,null!=t?t.vcon_message:t,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.program(11,a,0),data:a,loc:{start:{line:40,column:6},end:{line:59,column:13}}}))?o:"")+(null!=(o=n.if.call(s,null!=(o=null!=t?t.telephony:t)?o.dialinUrl:o,{name:"if",hash:{},fn:e.program(17,a,0),inverse:e.noop,data:a,loc:{start:{line:60,column:6},end:{line:67,column:13}}}))?o:"")+"    </div>\n"},5:function(e,t,n,i,a){var o;return"<div>ID: "+e.escapeExpression("function"==typeof(o=null!=(o=n.meetingkey||(null!=t?t.meetingkey:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"meetingkey",hash:{},data:a,loc:{start:{line:36,column:41},end:{line:36,column:55}}}):o)+"</div>"},7:function(e,t,n,i,a){var o;return"<div>Password: "+e.escapeExpression("function"==typeof(o=null!=(o=n.vconSecretKey||(null!=t?t.vconSecretKey:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"vconSecretKey",hash:{},data:a,loc:{start:{line:37,column:46},end:{line:37,column:63}}}):o)+"</div>"},9:function(e,t,n,i,a){var o;return'        <div class="form-group with-icon view">\n          <i class="jif-info"></i>\n          <div class="form-control-view">\n            '+e.escapeExpression("function"==typeof(o=null!=(o=n.vcon_message||(null!=t?t.vcon_message:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"vcon_message",hash:{},data:a,loc:{start:{line:44,column:12},end:{line:44,column:28}}}):o)+"\n          </div>\n        </div>\n"},11:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=(o=null!=t?t.telephony:t)?o.joinByPhone:o,{name:"if",hash:{},fn:e.program(12,a,0),inverse:e.noop,data:a,loc:{start:{line:48,column:8},end:{line:58,column:15}}}))?o:""},12:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{};return'          <div class="form-group with-icon view">\n            <i class="jif-info"></i>\n            <div class="form-control-view">\n              <div>Join by Phone</div>\n              <div>'+(null!=(o=e.lambda(null!=(o=null!=t?t.telephony:t)?o.joinByPhone:o,t))?o:"")+"</div>\n              "+(null!=(o=n.if.call(l,null!=(o=null!=t?t.telephony:t)?o.accessCode:o,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a,loc:{start:{line:54,column:14},end:{line:54,column:97}}}))?o:"")+"\n              "+(null!=(o=n.if.call(l,null!=t?t.hostKey:t,{name:"if",hash:{},fn:e.program(15,a,0),inverse:e.noop,data:a,loc:{start:{line:55,column:14},end:{line:55,column:69}}}))?o:"")+"\n            </div>\n          </div>\n"},13:function(e,t,n,i,a){var o;return"<div>Access Code: "+e.escapeExpression(e.lambda(null!=(o=null!=t?t.telephony:t)?o.accessCode:o,t))+"</div>"},15:function(e,t,n,i,a){var o;return" <div>Host Pin: "+e.escapeExpression("function"==typeof(o=null!=(o=n.hostKey||(null!=t?t.hostKey:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"hostKey",hash:{},data:a,loc:{start:{line:55,column:45},end:{line:55,column:56}}}):o)+"</div>"},17:function(e,t,n,i,a){var o;return'      <div class="form-group with-icon view">\n        <i></i>\n        <div>\n          <a href='+e.escapeExpression(e.lambda(null!=(o=null!=t?t.telephony:t)?o.dialinUrl:o,t))+' target="_blank" rel="noopener noreferrer">Conference Dial-in Numbers</a>\n        </div>\n      </div>\n'},19:function(e,t,n,i,a){var o;return'    <div class="selected-room-line2">\n      <span class="word-break-word">'+e.escapeExpression("function"==typeof(o=null!=(o=n.linkNotAvailableMessage||(null!=t?t.linkNotAvailableMessage:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"linkNotAvailableMessage",hash:{},data:a,loc:{start:{line:72,column:36},end:{line:72,column:63}}}):o)+"</span>\n    </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.escapeExpression;return'  <div class="selected-title">\n    <div class="selected-title-left"><i class="jif-video jif-16"></i> '+u("function"==typeof(r=null!=(r=i.vconLabel||(null!=t?t.vconLabel:t))?r:e.hooks.helperMissing)?r.call(c,{name:"vconLabel",hash:{},data:l,loc:{start:{line:2,column:70},end:{line:2,column:83}}}):r)+"</div>\n        <div>\n        <a href=\"javascript:void(0)\" class='go-to-main'>"+u(a(n(0)).call(c,"change_room",{name:"t",hash:{},data:l,loc:{start:{line:4,column:56},end:{line:4,column:75}}}))+'</a>\n        </div>\n  </div>\n  <div class="selected-content-vcon">\n'+(null!=(s=i.unless.call(c,null!=t?t.linkNotAvailable:t,{name:"unless",hash:{},fn:e.program(1,l,0),inverse:e.program(19,l,0),data:l,loc:{start:{line:8,column:2},end:{line:74,column:13}}}))?s:"")+"</div>"},useData:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o;return"    <div>\n"+(null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.can_schedule:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:5,column:6},end:{line:11,column:13}}}))?o:"")+"    </div>\n"},2:function(e,t,n,i,a){return"        <a href=\"javascript:void(0)\" class='js-decline-proposal'>Decline</a>\n        <a href=\"javascript:void(0)\" class='js-schedule-proposal left-margin-20'>Schedule</a>\n"},4:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.can_edit:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.noop,data:a,loc:{start:{line:8,column:6},end:{line:11,column:6}}}))?o:""},5:function(e,t,n,i,a){return"        <a href=\"javascript:void(0)\" class='js-edit-proposal'>Edit</a>\n        <a href=\"javascript:void(0)\" class='js-remove-proposal left-margin-20'>Remove</a>\n      "},7:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return'          <div class="word-break-word text-ellipsis" title="'+r("function"==typeof(o=null!=(o=n.address||(null!=t?t.address:t))?o:s)?o.call(l,{name:"address",hash:{},data:a,loc:{start:{line:22,column:60},end:{line:22,column:71}}}):o)+'">'+r("function"==typeof(o=null!=(o=n.address||(null!=t?t.address:t))?o:s)?o.call(l,{name:"address",hash:{},data:a,loc:{start:{line:22,column:73},end:{line:22,column:84}}}):o)+"</div>\n"},9:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression;return'      <div class="proposed-item">\n        <i class="jif-iris-calendar jif-16"></i>\n        <div class="proposed-item-inner">\n          <div class="break-word">'+c("function"==typeof(l=null!=(l=n.event_date||(null!=t?t.event_date:t))?l:r)?l.call(s,{name:"event_date",hash:{},data:a,loc:{start:{line:31,column:34},end:{line:31,column:48}}}):l)+"</div>\n          <div>\n            "+c("function"==typeof(l=null!=(l=n.start_time||(null!=t?t.start_time:t))?l:r)?l.call(s,{name:"start_time",hash:{},data:a,loc:{start:{line:33,column:12},end:{line:33,column:26}}}):l)+" - "+c("function"==typeof(l=null!=(l=n.end_time||(null!=t?t.end_time:t))?l:r)?l.call(s,{name:"end_time",hash:{},data:a,loc:{start:{line:33,column:29},end:{line:33,column:41}}}):l)+"\n"+(null!=(o=n.if.call(s,null!=t?t.meeting_time_zone:t,{name:"if",hash:{},fn:e.program(10,a,0),inverse:e.noop,data:a,loc:{start:{line:34,column:12},end:{line:36,column:19}}}))?o:"")+"          </div>\n        </div>\n      </div>\n"},10:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return'              (<span class="proposed-time-zone" title="'+r("function"==typeof(o=null!=(o=n.meeting_time_zone||(null!=t?t.meeting_time_zone:t))?o:s)?o.call(l,{name:"meeting_time_zone",hash:{},data:a,loc:{start:{line:35,column:55},end:{line:35,column:76}}}):o)+'">'+r("function"==typeof(o=null!=(o=n.meeting_time_zone||(null!=t?t.meeting_time_zone:t))?o:s)?o.call(l,{name:"meeting_time_zone",hash:{},data:a,loc:{start:{line:35,column:78},end:{line:35,column:99}}}):o)+"</span>)\n"},12:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.escapeExpression;return'    <div class="proposed-reason">\n      '+c(a(n(0)).call(r,"proposed_reason",{name:"t",hash:{},data:l,loc:{start:{line:44,column:6},end:{line:44,column:29}}}))+'<i class="jif-info js_tooltip" title="" data-placement="top" data-original-title="'+c("function"==typeof(s=null!=(s=i.reason||(null!=t?t.reason:t))?s:e.hooks.helperMissing)?s.call(r,{name:"reason",hash:{},data:l,loc:{start:{line:44,column:111},end:{line:44,column:121}}}):s)+'"></i>\n    </div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.escapeExpression,d=e.hooks.helperMissing;return'<div class="selected-title">\n  <div class="selected-title-left">'+u(a(n(0)).call(c,"proposed_time_and_location",{name:"t",hash:{},data:l,loc:{start:{line:2,column:35},end:{line:2,column:69}}}))+"</div>\n"+(null!=(s=i.unless.call(c,null!=t?t.hideProposalOption:t,{name:"unless",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:3,column:2},end:{line:13,column:13}}}))?s:"")+'</div>\n<div class="selected-content">\n  <div class="proposed-details">\n    <div class="proposed-item">\n      <i class="jif-location jif-16"></i>\n      <div class="proposed-item-inner">\n        <div class="word-break-word text-ellipsis" title="'+u("function"==typeof(r=null!=(r=i.name||(null!=t?t.name:t))?r:d)?r.call(c,{name:"name",hash:{},data:l,loc:{start:{line:20,column:58},end:{line:20,column:66}}}):r)+'">'+u("function"==typeof(r=null!=(r=i.name||(null!=t?t.name:t))?r:d)?r.call(c,{name:"name",hash:{},data:l,loc:{start:{line:20,column:68},end:{line:20,column:76}}}):r)+"</div>\n"+(null!=(s=i.if.call(c,null!=t?t.address:t,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l,loc:{start:{line:21,column:8},end:{line:23,column:15}}}))?s:"")+"      </div>\n    </div>\n\n"+(null!=(s=i.if.call(c,null!=t?t.start_time:t,{name:"if",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l,loc:{start:{line:27,column:4},end:{line:40,column:11}}}))?s:"")+"  </div>\n"+(null!=(s=i.if.call(c,null!=t?t.reason:t,{name:"if",hash:{},fn:e.program(12,l,0),inverse:e.noop,data:l,loc:{start:{line:42,column:2},end:{line:46,column:9}}}))?s:"")+"</div>"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d=e.escapeExpression;return'<li class="supp-att-item">\n  <div class="js-link-label-item">\n  \t<span class="link-label">'+d("function"==typeof(r=null!=(r=n.label||(null!=t?t.label:t))?r:u)?r.call(c,{name:"label",hash:{},data:a,loc:{start:{line:4,column:28},end:{line:4,column:37}}}):r)+'</span>\n  </div>\n  <div class="'+(null!=(s=n.if.call(c,null!=t?t.dataUrl:t,{name:"if",hash:{},fn:e.program(2,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:6,column:14},end:{line:6,column:80}}}))?s:"")+'" title="'+d("function"==typeof(r=null!=(r=n.name||(null!=t?t.name:t))?r:u)?r.call(c,{name:"name",hash:{},data:a,loc:{start:{line:6,column:89},end:{line:6,column:97}}}):r)+'" data-url="'+d("function"==typeof(r=null!=(r=n.dataUrl||(null!=t?t.dataUrl:t))?r:u)?r.call(c,{name:"dataUrl",hash:{},data:a,loc:{start:{line:6,column:109},end:{line:6,column:120}}}):r)+'">\n    <span>'+d("function"==typeof(r=null!=(r=n.name||(null!=t?t.name:t))?r:u)?r.call(c,{name:"name",hash:{},data:a,loc:{start:{line:7,column:10},end:{line:7,column:18}}}):r)+"</span>\n    "+(null!=(s=n.unless.call(c,null!=t?t.isLink:t,{name:"unless",hash:{},fn:e.program(4,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:8,column:4},end:{line:8,column:69}}}))?s:"")+"\n  </div>\n"+(null!=(s=n.if.call(c,null!=l[1]?l[1].canEdit:l[1],{name:"if",hash:{},fn:e.program(6,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:10,column:2},end:{line:12,column:9}}}))?s:"")+"</li>\n"},2:function(e,t,n,i,a){return" clickable-item js-uploaded-attachment-item "},4:function(e,t,i,a,o){return"<span>"+e.escapeExpression((l=n(224),l&&(l.__esModule?l.default:l)).call(null!=t?t:e.nullContext||{},null!=t?t.size:t,{name:"calculate_size",hash:{},data:o,loc:{start:{line:8,column:28},end:{line:8,column:51}}}))+"</span>";var l},6:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return'  <span class="jif-close pull-right supp-att-item-close js-attachment-remove js-delete-attachment" data-link="'+r("function"==typeof(o=null!=(o=n.isLink||(null!=t?t.isLink:t))?o:s)?o.call(l,{name:"isLink",hash:{},data:a,loc:{start:{line:11,column:110},end:{line:11,column:120}}}):o)+'" data-uuid="'+r("function"==typeof(o=null!=(o=n.uuid||(null!=t?t.uuid:t))?o:s)?o.call(l,{name:"uuid",hash:{},data:a,loc:{start:{line:11,column:133},end:{line:11,column:141}}}):o)+'" data-link-name="'+r("function"==typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:s)?o.call(l,{name:"name",hash:{},data:a,loc:{start:{line:11,column:159},end:{line:11,column:167}}}):o)+'"></span>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,o,l){var s;return null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.files:t,{name:"each",hash:{},fn:e.program(1,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:14,column:9}}}))?s:""},useData:!0,useDepths:!0})},function(e,t){var n=Reflux.createActions(["getSwappableRoomList","swapRoomsWithOtherMeetings"]);e.exports=n},function(e,t,n){var i=n(131),a=n(3),o=Reflux.createStore({init:function(){this.listenToMany(i),this.model={requestorUUID:"",integrationName:"",authAttempted:!1}},getModel:function(e){return e?this.model[e]:this.model},setModel:function(e,t){this.model[e]=t},onGetVConAuthorizationURL:function(e){var t=this,n="".concat(a.ENDPOINTS.fetch_oauth_meta,"/").concat(e),i=a.fetch({url:n,data:{}});i.then(function(e){t.trigger({type:"getVConAuthorizationURLSuccess",data:e})}),i[i.fail?"fail":"catch"](function(n){t.trigger({type:"getVConAuthorizationURLFailure",data:{data:[]}}),console.log("Failed to get the redirection URL for VCon ".concat(e),n)})},onCheckRequestorAuthorizedForVCon:function(e,t,n){var i,o,l=this,s="".concat(a.ENDPOINTS.check_user_authorized_to_integration,"/").concat(n),r={user_based_auth_attribs:!0,event_uuid:e,user_uuid:t,profile:!!(null===(i=window)||void 0===i?void 0:null===(o=i.envDetails)||void 0===o?void 0:o.isProfilePage)},c=a.fetch({url:s,data:r});c.then(function(e){l.trigger({type:"VConAuthorizationResponseSuccess",data:e})}),c[c.fail?"fail":"catch"](function(e){l.trigger({type:"VConAuthorizationResponseFailure",data:e}),console.log("Failed to check user authorization for VCon",e)})},onUnAuthenticateUser:function(e,t,n){var i=this,o="".concat(a.ENDPOINTS.de_authorize_conferences,"/").concat(n),l={event_uuid:e,user_uuid:t},s=a.update({contentType:"application/json",url:o,data:l,reqStringify:!0});s.then(function(e){i.trigger({type:"VConUnAuthenticateResponseSuccess",data:e})}),s[s.fail?"fail":"catch"](function(e){i.trigger({type:"VConUnAuthenticateResponseFailure",data:e}),console.log("Failed to unauthenticate",e)})}});e.exports=o},function(e,t,n){var i=n(164),a=n(131),o=function(){var e=null;var t={getVConAuthorizationURLSuccess:function(t){t.conference_name,function(t){if(!e||e.closed){i.setModel("authAttempted",!0);var n=t;e=window.open(n,"JiffleNow-Webex-OAuth","scrollbars=no,resizable=no,status=no,location=no,toolbar=no,menubar=no, width=1000,height=600,left=200,top=100");var o=setInterval(function(){if(e&&e.closed){var t,n;clearInterval(o),e=null;var l=i.getModel(),s=l.requestorUUID,r=l.integrationName,c=null===(t=window.envDetails)||void 0===t?void 0:null===(n=t.event)||void 0===n?void 0:n.uuid;a.CheckRequestorAuthorizedForVCon(c,s,r)}},500)}else e.focus()}(t.redirection_url)},getVConAuthorizationURLFailure:function(e){console.log(e),i.setModel("authAttempted",!1)}};function n(){var e;i.listen((e=t,function(t){if(t.type){var n=e[t.type];"function"==typeof n&&n(t.data)}}))}return{init:function(){n()},authenticateUser:function(e,t){i.setModel("requestorUUID",e),i.setModel("integrationName",t),a.GetVConAuthorizationURL(t)},unAuthenticateUser:function(e,t){var n,i,o=null===(n=window.envDetails)||void 0===n?void 0:null===(i=n.event)||void 0===i?void 0:i.uuid;a.UnAuthenticateUser(o,e,t)}}}();e.exports=o},function(e,t){var n=Reflux.createActions(["getExternalRequestDetails"]);e.exports=n},,,,,,,,,,,function(e,t,n){var i=window.enLocale,a=i.book_meeting,o=i.attachments,l=i.notes,s=i.reviews,r=i.opt_in_messages,c=i.custom_labels,u=i.comments;initI18n(_.assign({},a,o,l,s,r,c,u));var d=n(3),m=n(178),f=n(91);$(document).ready(function(){if($(document).tooltip({trigger:"hover",selector:".js_tooltip"}),$(document).popover({trigger:"hover",selector:".js_popover",template:'<div class="item-popover popover font-11"><div class="arrow"></div><div class="popover-content"></div></div>'}),window.ReactMessage&&window.ReactMessage.mount(document.querySelector(".notification-mount")),"view"!==window.mode||window.envDetails.isConsecutiveMeeting){var e=scheduler._on_mouse_up;scheduler._on_mouse_up=function(t){if(8===_isIE){var n=this.getEvents();!this._drag_id&&n.length>0&&(this._drag_id=n[0].id)}return e.apply(this,arguments)},((t=window.navigator.userAgent.toLowerCase()).indexOf("msie")>0||t.indexOf("trident")>0)&&$(document).on("click mousedown",".dhx_menu_icon.icon_delete",function(){var e=$(this).closest("[event_id]").attr("event_id");scheduler.deleteEvent(e)})}var t;if("undefined"!=typeof jiffle){mode="new";var i=window.envDetails.isConsecutiveMeeting?d.ENDPOINTS.fetch_consecutive_meeting_info:d.ENDPOINTS.fetch_meeting_info;"edit"===$.urlParam("mode")?(mode="edit",i=window.envDetails.isConsecutiveMeeting?d.ENDPOINTS.fetch_edit_consecutive_meeting_info:d.ENDPOINTS.fetch_edit_meeting_info):"view"===$.urlParam("mode")&&(mode="view",i=window.envDetails.isConsecutiveMeeting?d.ENDPOINTS.fetch_view_consecutive_meeting_info:d.ENDPOINTS.fetch_view_meeting_info),d.sfdcHandler.bookMeetingInit({mode:mode,url:i},function(){window.isLeadsMeeting=f.isLeadsMeeting(),m(),setupUiI18n()})}else if(queryString&&"string"==typeof queryString.external_request_uuid){n(241).init(queryString.external_request_uuid,function(){m(),setupUiI18n()})}else m(),setupUiI18n()})},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=function(){var e=n(3),t=n(136),i=n(144),o=n(65),l=n(145),s=n(217),r=n(126),c=n(91),u=n(143),d=n(67),m=n(94),f=n(218),h=n(225),p=n(76),g=n(228),v=n(230),y=n(231),b=n(232),w=n(158),M=n(127),x=n(157),C=n(233),D=n(235),k=n(236),S=n(86),A=n(237),T=n(39),E=n(119),I=n(37).CalendarAvailabilityStore,O=n(10);k.init();var P=n(238),j=n(165),q=window,R=q.isOngoingSales,N=q.mappingEnabled,F=q.envDetails,U=F.event,L=F.isMeetingTypeVirtualAndFullDay,Y=F.isConsecutiveMeeting;window.isVirtualEvent=U.is_virtual_event||U.is_emeet_instance,window.isMeetingTypeVirtualAndFullDay=L,window.isOngoingSalesOrMeetingTypeVirtualAndFullDay=!!(R||L&&!N),window.showWeekPickerCalendar=R||window.isVirtualEvent&&!N&&!Y,"new"===window.mode&&A.isHistoryEnabled()&&A.init();var B=window.meetingInfo.request.location_preference_proposal,z=$.urlParam("proposal_flow");if(("schedule"===z||"edit"===z)&&"approved"===meetingInfo.request.status&&!_.isEmpty(B)){var H=moment(B.start_time,"YYYY-MM-DD hh:mm a"),V=moment(B.end_time,"YYYY-MM-DD hh:mm a"),G={location_preference:B.preference,room:B.room,start_time:H.format("DD-MM-YYYY HH:mm a"),end_time:V.format("DD-MM-YYYY HH:mm a"),cal_start_time:H.format("YYYY-MM-DD hh:mm a Z"),cal_end_time:V.format("YYYY-MM-DD hh:mm a Z"),utc_start_time:"".concat(H.format("YYYY-MM-DDThh:mm:ss.SSS"),"Z"),utc_end_time:"".concat(V.format("YYYY-MM-DDThh:mm:ss.SSS"),"Z")},Z={};"edit"===z&&(Z={location_preference:meetingInfo.request.location_preference,room:meetingInfo.request.room,start_time:meetingInfo.request.start_time,end_time:meetingInfo.request.end_time,cal_start_time:meetingInfo.request.cal_start_time,cal_end_time:meetingInfo.request.cal_end_time,utc_start_time:meetingInfo.request.utc_start_time,utc_end_time:meetingInfo.request.utc_end_time}),window.meetingInfo.request=a(a(a({},window.meetingInfo.request),G),{},{originalData:Z})}var W=function(){if(rails_to_html.topic_config&&"true"===String(rails_to_html.topic_config.topic_management_enabled)){var e=$("#js-select-topic-holder");$("#js-selected-topic-text").removeClass("hide"),e.removeClass("hide")}rails_to_html.activity_name&&$(".js-activity-name").html(rails_to_html.activity_name),rails_to_html.event_task_activity&&$(".js-activity-task-name").text(rails_to_html.event_task_activity)};window.envDetails.setBlockToken=D,M.init(n(14).AttendeeStore,n(10)),f.init(),C.init({path:"view"===mode?"book_meeting_view":"book_meeting"}),window.isOngoingSalesOrMeetingTypeVirtualAndFullDay&&u.init({showMeetingTimezoneDropdown:window.isOngoingSales,setMeetingTimezoneDefaultToEventTimezone:window.isMeetingTypeVirtualAndFullDay}),window.showWeekPickerCalendar&&d.init(I),envDetails.isConsecutiveMeeting&&(p.init(),g.init(),v.init(),"new"!==mode&&(y.init(),b.init())),"view"!==mode?(envDetails.isConsecutiveMeeting||W(),o.init(),"edit"===mode&&(h.init(),x.init()),"new"!==mode||envDetails.isConsecutiveMeeting||w.init(),l.init(),"undefined"!=typeof jiffle?S.init({callback:function(){K(),t.init.apply(null,arguments),i.init()},templateName:"add_attendee_form",isNewUser:!0}):(t.init(),i.init()),j.init(),P.init(),m.init({mountPoint:$("#proceed_page"),isSFDC:$("#sf-jiffle-now").length,isFromBookMeeting:!0,meetingRequestUuid:meetingInfo.request.uuid,meetingRequestor:meetingInfo.request.requestor})):envDetails.isConsecutiveMeeting||(W(),s.init());var J=window.meetingInfo&&window.meetingInfo.request&&window.meetingInfo.request.invite_options;function K(){window.isLeadsMeeting?"new"===mode?e.sfdcHandler.fetchLeadDetails().then(function(){c.init()}):c.init():"new"===mode&&$.urlParam("contactid")?e.sfdcHandler.fetchContactDetails().then(function(){r.init({consecutiveMeetingsMainStore:O})}):r.init({consecutiveMeetingsMainStore:O})}T.updateDeclineComments(J),E.init()}},function(e,t,n){var i=n(137),a=n(3),o=Reflux.createStore({init:function(){this.listenToMany(i)},onGetRequestorMailForm:function(e,t){a.fetch({url:a.ENDPOINTS.fetch_requestor_email,data:{meeting_uuid:t}}).then(function(t){this.trigger({action:e,payload:t.data})}.bind(this))},onSendRequestorMail:function(e,t){a.update({url:a.ENDPOINTS.send_requestor_email,data:e}).then(function(e){this.trigger({action:t,payload:e.data})}.bind(this))}});e.exports=o},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.escapeExpression,d=e.lambda,m=e.hooks.helperMissing;return'<div class="form-group">\n  <label for="#">'+u(a(n(0)).call(c,"to",{name:"t",hash:{},data:l,loc:{start:{line:2,column:17},end:{line:2,column:27}}}))+'</label>\n  <input type="text" class="form-control" disabled value="'+u(d(null!=(s=null!=t?t.requestor:t)?s.first_name:s,t))+" "+u(d(null!=(s=null!=t?t.requestor:t)?s.last_name:s,t))+" < "+u(d(null!=(s=null!=t?t.requestor:t)?s.email:s,t))+' >">\n</div>\n<div class="form-group row">\n  <div class="col-xs-10" style="line-height: 36px;">\n    <label>'+u(a(n(0)).call(c,"send_cc_to_me",{name:"t",hash:{},data:l,loc:{start:{line:7,column:11},end:{line:7,column:32}}}))+'</label>\n  </div>\n  <div class="col-xs-2">\n    <div class="toggle-switch">\n      <input type="checkbox" class="form-control" checked id="cc_me" name="cc_me">\n      <label for="cc_me"></label>\n    </div>\n  </div>\n</div>\n<div class="form-group">\n  <label for="#">'+u(a(n(0)).call(c,"subject",{name:"t",hash:{},data:l,loc:{start:{line:17,column:17},end:{line:17,column:32}}}))+'</label>\n  <input type="text" class="form-control" value="'+u("function"==typeof(r=null!=(r=i.subject||(null!=t?t.subject:t))?r:m)?r.call(c,{name:"subject",hash:{},data:l,loc:{start:{line:18,column:49},end:{line:18,column:60}}}):r)+'" id="subject" name="subject">\n</div>\n<div class="form-group">\n  <label for="#">'+u(a(n(0)).call(c,"body",{name:"t",hash:{},data:l,loc:{start:{line:21,column:17},end:{line:21,column:29}}}))+'</label>\n  <div class="">\n    <div class="inp-tmpl-body" name="body" id="ckeditor-mail-body">'+(null!=(s="function"==typeof(r=null!=(r=i.template_body||(null!=t?t.template_body:t))?r:m)?r.call(c,{name:"template_body",hash:{},data:l,loc:{start:{line:23,column:67},end:{line:23,column:86}}}):r)?s:"")+'</div>\n  </div>\n</div>\n<button type="submit" class="btn btn-lg btn-block btn-blue" id="send-mail-to-requestor">'+u(a(n(0)).call(c,"send_mail",{name:"t",hash:{},data:l,loc:{start:{line:26,column:88},end:{line:26,column:105}}}))+"</button>"},useData:!0})},function(e,t,n){n(9);var i=n(3),a=n(16),o={onSubmitConsecutiveMeetings:function(e,t){this.normalizeAttendees();var n="new"===mode?this.getSortedMeetings():this.getActiveMeetings(),a=i.update({url:i.ENDPOINTS.create_consecutive_meetings,data:this.getFormattedData(e,t,n)});a.then(function(e){this.trigger({type:"onEventSaved",data:e})}.bind(this)),a[a.fail?"fail":"catch"](function(e){this.trigger({type:"onEventSaveFailed",data:e.responseJSON})}.bind(this))},getFormattedData:function(e,t,n){var i=this.formComponent.getValues();i.currency_field&&"string"==typeof i.currency_field&&(i.currency_field=i.currency_field.replace(/,/g,""));var o=i.meeting_with;delete i.meeting_with;var l=n.map(function(t){var n={meeting_request:t.getColumnAttributes({custom_fields:i,requestor:this.requestor,meeting_with:o,quick_meeting:e}),current_location_uuid:envDetails.current_location_uuid,topic_uuid:t.topic.uuid,meeting_uuid:t.isNew?null:t.uuid};return a.addMeetingRequestParams(n.meeting_request,t),n.meeting_request.requestor=this.requestor,n.meeting_request.quick_meeting=e,n}.bind(this));return{meetings:JSON.stringify(l),custom_fields:i,consecutive_activity_uuid:envDetails.activityUuid,consecutive_meeting_uuid:envDetails.consecutive_meeting_uuid,send_ics:t}}};e.exports=o},function(e,t,n){n(9);var i=n(3),a={onShowMeetingTypes:function(e){this.setMeetingRequestor(e);var t=i.fetch({url:i.ENDPOINTS.meeting_types_of_consecutive_sub_meetings,data:{requestor_uuid:e}});t.then(function(e){this.setActivities(e.data),this.trigger({type:"onShowMeetingTypes",data:e.data})}.bind(this)),t[t.fail?"fail":"catch"](function(){this.trigger({type:"onShowMeetingTypes",data:this.activities})}.bind(this))},setActivities:function(e){this.activities=e},onSetMeetingTypeSettings:function(e){"function"==typeof this.currMeetingInProgress.setActivitySettings&&this.currMeetingInProgress.setActivitySettings(e)},onSetTopicSettings:function(e){if(e){var t=e.hidden,n=e.label;this.currMeetingInProgress.setTopicSettings({enabled:!t,label:n})}else this.currMeetingInProgress.setTopicSettings({enabled:!1,label:""})}};e.exports=a},function(e,t,n){n(9);var i={onEditCurrentMeeting:function(e){if(this.canEdit(e)){var t=this.getMeetingIndex(e);-1!==t&&(this.normalizeAttendees(),this.setUpMeetingState(this.consecutiveMeetings[t],t))}},onDiscardCurrentMeeting:function(e){var t=this.getMeetingIndex(e);if(-1!==t){var n=this.findNextMeeting(t);this.removedMeetings.push({meeting:this.consecutiveMeetings.splice(t,1),index:t}),n?(this.setUpMeetingState(n,this.consecutiveMeetings.length-1),this.fillMeetingOptions(n),this.trigger({type:"onDiscardMeeting"})):this.resetConsecutiveMeetings()}},findNextMeeting:function(e){var t=this.consecutiveMeetings.filter(function(e){return"cancelled"!==e.status&&!e.isNew}),n=this.consecutiveMeetings[e+1],i=this.consecutiveMeetings[e-1],a=null;return n&&"cancelled"!==n.status?a=n:i&&"cancelled"!==i.status?a=i:t.length&&(a=t[t.length-1]),a},resetConsecutiveMeetings:function(){this.consecutiveMeetings=[],this.trigger({type:"resetConsecutiveMeetings"}),this.updateCurrentMeetingDisplay(this.consecutiveMeetings.length-1)},setUpMeetingState:function(e,t){var n=e.meetingType.uuid;this.getOnBehalfActions(e),this.setupMeetingTopic(e),this.setupMeetingType(n,!e.isNew),this.setCurrentMeeting(e),this.updateOtherModules(n,e),this.updateCurrentMeetingDisplay(t)},fillMeetingOptions:function(e){var t=this.getSortedMeetings().map(function(e){return e.getDisplayOptions()});this.trigger({type:"fillMeetingOptions",data:{meetings:t,currentSelection:e.uuid}})},updateMeetingOptions:function(e){this.trigger({type:"updateMeetingsDropdown",data:{meeting:e.getDisplayOptions()}})},onUpdateSelectedRoom:function(e){var t={};e.room?(t.room={name:e.room.name||"",uuid:e.room.uuid||"",offsite:void 0!==e.room.address,isBoothTour:e.room.isBoothTour,booth_tour_name:e.room.name,booth_tour_address:e.room.address,offsite_name:e.room.name||"",offsite_address:e.room.address,address:e.room.address,capacity:e.room.capacity||""},t.booth_tour_uuid=e.booth_tour_uuid):t.room={name:"",uuid:"",offsite:!1,offsite_name:"",capacity:"",isBoothTour:!1},this.updateMeetingsQueue(t)},onUpdateSelectedAttendees:function(e,t,n){e.meeting_host_label=window.envDetails.meeting_host_label,e.assign_requestors_as_meeting_host_by_default=window.envDetails.assign_requestors_as_meeting_host_by_default,e.assign_mapped_user_as_meeting_host_by_default=window.envDetails.assign_mapped_user_as_meeting_host_by_default,t=t||{},this.currMeetingInProgress.isMeetingOverride=t.overRided;var i=this.validateOtherMeetingRooms(t);if(this.impactedMeetingsWhileOverride=i.overRidedMeetings,this.updateNewCreatedUsers(e),i.valid||this.checkExternalOveridePopUpValue(t)){if(!n){var a=t,o=a.type,l=a.operation,s=a.user;"external"===o&&"insert"===l&&this.trigger({type:"externalAttendeeAdded",user:s}),this.updateAttendeesForMeetings(e)}this.trigger({type:"reinviteAttendees",data:n})}else!i.valid&&t.isJmmOrAbove?this.trigger({type:"canJmmOrAboveOverideRoomCapacity",data:{meetings:e,opts:t,validateRoomObj:i,callbackFunction:n}}):i.valid||t.isJmmOrAbove?this.unselectAttendee(t.uuid,i):this.trigger({type:"capacityOverflowForMeeting",data:{meetings:e,opts:t,validateRoomObj:i,alreadyMMOverided:this.alreadyMMOverided(),callbackFunction:n}})},updateNewCreatedUsers:function(e){this.currMeetingInProgress.newCreatedUsers=e.newCreatedUsers},checkExternalOveridePopUpValue:function(e){return"external"==e.type&&this.externalOverRidedPopupValue},alreadyMMOverided:function(){return this.currMeetingInProgress.totalExistingCount>this.currMeetingInProgress.room.capacity},updateAttendeesForMeetings:function(e){this.updateAttendeesForOtherMeetings(e),this.updateMeetingsQueue({internal:e.internal,external:e.external})},onUpdateSelectedTime:function(e){this.updateMeetingsQueue({event:e.event}),this.fillMeetingOptions(e)},onCurrMeetingTopicChange:function(e,t){this.currMeetingInProgress.topic={name:t,uuid:e}},onUpdatePersistRequestorAsHost:function(){this.currMeetingInProgress.persistRequestorAsHost=!1},updateSelfAttendance:function(e){this.currMeetingInProgress.attendingMeetingStatus=e},setCurrentMeeting:function(e){this.currMeetingInProgress=e},getCurrentMeeting:function(){return this.currMeetingInProgress}};e.exports=i},function(e,t,n){n(9);var i={getMeetingIndex:function(e){return _.findIndex(this.consecutiveMeetings,{uuid:e})},getOrderedMeetings:function(e){var t=this.consecutiveMeetings.map(function(e){return e.getDisplayAttributes()});return t.splice(e,1).concat(t.reverse())},updateCurrentMeetingDisplay:function(e){this.trigger({type:"updateMeetingsInMaking",data:this.getOrderedMeetings(e)})},getDoubleBookedParams:function(){return this.getActiveMeetings().map(function(e){return _.pick(e.getColumnAttributes(),["start_time","end_time","users","meeting_uuid"])})},getSortedMeetings:function(){return _.orderBy(this.consecutiveMeetings,["active","event.start_date"],["desc","asc"])},getActiveMeetings:function(){return _.filter(this.consecutiveMeetings,{active:!0})},getNonOverridedMeetings:function(){return _.filter(this.consecutiveMeetings,{active:!0,isMeetingOverride:!1})},getRemainingMeetingsData:function(){var e=[];if(!this.isOnlyMeeting()){var t=this.currMeetingInProgress.uuid;_.forEach(this.getActiveMeetings(),function(n){n.uuid!==t&&e.push({meeting_request:_.pick(n.getColumnAttributes(),["start_time","end_time","users","room_uuid","activity_uuid"]),meeting_uuid:n.isNew?null:n.uuid})})}return{meetings:JSON.stringify(e),consecutive_activity_uuid:envDetails.activityUuid,consecutive_meeting_uuid:envDetails.consecutive_meeting_uuid,consecutive_meetings:!0}}};e.exports=i},function(e,t,n){n(9);var i=n(3),a=n(138),o=n(8),l={declinedUserStatus:"declined",onGetConsecutiveMeetingDetails:function(e,t){var n=i.replaceUrlParams(i.ENDPOINTS.consecutive_meetings_details,["{uuid}",e]),o=i.fetch({url:n});o.then(function(e){var n=e.data.consecutive_meeting;this.consecutiveMeetingActionUrls=e.data.action_urls,this.consecutiveMeetings=n.meetings.map(function(e){return new a(e.uuid,this.getModelData(e))}.bind(this)),this.consecutiveMeetings=this.getSortedMeetings(),this.setMeetingRequestor(n.requestor.uuid),this.updateMeetingsData(t),this.trigger({type:"consecutiveMeetingDetails",data:{consecMeeting:n,formRenderer:this.formComponent}}),this.trigger({type:"consecutiveMeetingActions",data:this.consecutiveMeetingActionUrls})}.bind(this)),o[o.fail?"fail":"catch"](function(){this.trigger({type:"consecutiveMeetingDetailsFailure",data:this.activities})}.bind(this))},updateMeetingsData:function(e){var t,n=0;this.consecutiveMeetings.length&&(e&&-1===(n=this.getMeetingIndex(e))&&(n=this.consecutiveMeetings.length-1),t=this.consecutiveMeetings[n],this.setUpMeetingState(t,n),this.fillMeetingOptions(t))},getOnBehalfActions:function(e){!1===e.isNew&&o.getOnBehalfActions(e)},getModelData:function(e){var t="BoothTour"===e.room.type;return{event:{start_date:this.getFormattedDate(e.start_time),end_date:this.getFormattedDate(e.end_time),break_duration:e.meeting_break.meeting_break_duration},status:e.status,booth_tour_uuid:t?e.room.uuid:null,room:{name:e.room.name,address:e.room.offsite||t?e.room.location:void 0,offsite_name:e.room.name,offsite_address:e.room.location,offsite:e.room.offsite,uuid:e.room.uuid,capacity:e.room.capacity,isBoothTour:t,booth_tour_display_name:e.booth_tour_label},meeting_with:e.meeting_with,inviteOptions:e.invite_options,cancel_options:e.cancel_options,id:e.id,internal:e.users.internal,external:e.users.external,totalExistingCount:this.filterNonDeclinedUsers(e.users.internal)+this.filterNonDeclinedUsers(e.users.external),attendingMeetingStatus:_.find(e.users.internal,{uuid:envDetails.currentUser.uuid})?"yes":"no",meetingType:{name:e.activity.name,uuid:e.activity.uuid},activityName:e.activity.name,topic:e.topic,account:{is_changed:!0,acc:{id:"",name:""},oppty:{id:"",name:""}},meeting_host_label:e.activity.meeting_host_label,assign_requestors_as_meeting_host_by_default:e.activity.assign_requestors_as_meeting_host_by_default,assign_mapped_user_as_meeting_host_by_default:e.activity.assign_mapped_user_as_meeting_host_by_default,can_edit:e.edit}},filterNonDeclinedUsers:function(e){return _.filter(e,function(e){return e.invite_status!==this.declinedUserStatus}.bind(this)).length},setupMeetingTopic:function(e){var t=e.topic.uuid;$("#topic_management").val(t),window.meetingInfo.request.topic_uuid=t,window.topic_uuid=t},setupMeetingType:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];$("#select_meeting_type").val(e).trigger("change.select2").prop("disabled",t)},getFormattedDate:function(e){return moment(moment(e).utc().format("DD-MM-YYYY HH:mm"),"DD-MM-YYYY HH:mm").toDate()},normalizeAttendees:function(){if("edit"===mode){var e={};_.forEach(this.currMeetingInProgress.external,function(t){e[t.uuid]=t.invite_status}),_.forEach(this.getActiveMeetings(),function(t){t.updateExternalAttendeeStatuses(e)})}}};e.exports=l},function(e,t,n){n(9);var i=n(8),a=n(3),o={onApproveConsecutiveMeetings:function(){i.meetingAction(this.consecutiveMeetingActionUrls.approve_all_url,"post","approveSuccess","onMeetingActionFailed",this)},onCancelConsecutiveMeetings:function(e){i.meetingAction(this.consecutiveMeetingActionUrls.cancel_all_url,"post","cancelSuccess","onMeetingActionFailed",this,{cancel_comments:e})},onCancelCurrentMeeting:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";i.meetingAction(a.ENDPOINTS.cancel_meeting.replace("{meeting_uuid}",e),"put","onMeetingCancelled","onMeetingActionFailed",null,{cancel_comments:t})},onUpdateCurrentMeetingStatus:function(e){this.currMeetingInProgress.status=e,this.updateMeetingOptions(this.currMeetingInProgress)},updateCurrMeetingInviteStatus:function(e,t){this.currMeetingInProgress.updateInviteStatus(e,t),this.normalizeAttendees(),this.updateCurrentMeetingDisplay()}};e.exports=o},function(e,t,n){n(9);var i=n(8),a={onValidateCurrentMeetingProgress:function(e){var t=e.successCallBack,n=e.failureCallBack,a=e.ignoreDiffDates;this.consecutiveMeetings.length?i.validateMeeting(function(){a?t():this.validateMeeitngDatesAndWarn(t)}.bind(this),n):t()},validateOtherMeetingRooms:function(e){var t=!0,n=[],i=[];if("insert"===e.operation){var a=e.isCurrUser||"external"===e.type?1:0,o=this.currMeetingInProgress.isMeetingOverride?[]:[this.currMeetingInProgress],l="external"==e.type?this.getNonOverridedMeetings():o;_.forEach(l,function(o,l){n.push(o);var s=o.hasEnoughRoom(a);t&=s,"external"==e.type&&!s&&i.push(o)})}return{valid:t,invalidMeetings:n,overRidedMeetings:i}},validateMeeitngDatesAndWarn:function(e){this.validateDates()?e():this.trigger({type:"warnDifferentDatesBeforeChange",callback:e})},validateDates:function(){var e=!0,t=new Date(this.currMeetingInProgress.event.start_date).toDateString();return _.forEach(this.getActiveMeetings(),function(n,i){e&=new Date(n.event.start_date).toDateString()===t}),e},isOnlyMeeting:function(){return 1===this.consecutiveMeetings.length},canEdit:function(e){return!(this.isOnlyMeeting()||this.currMeetingInProgress.uuid===e)}};e.exports=a},function(e,t,n){var i=n(100),a={fileUploadManager:null,updateAttachmentAttributes:function(e,t){if(!envDetails.isConsecutiveMeeting&&"cancelled"!==meetingInfo.request.status&&this.isEnabled(envDetails.canShowAttachmentsField)&&this.isEnabled(e.include_briefing_docs)){var n={resourceUuid:envDetails.currentMeetingUuid,resourceType:"meeting_request",canEdit:"view"!==mode,activityUuid:window.selectedActivityUuid};Array.isArray(t)||(t=[]),i.initAttachmentsComponent($("#js-attachments-form"),e,n,t),this.listenTo(i.setJiffleFileManager,this.onSetJiffleFileManager)}},onSetJiffleFileManager:function(e){this.fileUploadManager=e},getAttachments:function(){var e={};return this.fileUploadManager&&"function"==typeof this.fileUploadManager.getAttachments&&(e=this.fileUploadManager.getAttachments()),e},isEnabled:function(e){return"yes"===e||!0===e||"true"===e}};e.exports=a},function(e,t,n){var i=n(3),a={boothTourConfigs:{},isBoothTourConfigsFetched:!1,getBoothTourUuid:function(e){return this.boothTourConfigs[e]},onGetBoothTourLocationUuids:function(e){var t=i.fetch({url:i.ENDPOINTS.get_booth_tour_details});t.then(function(e){_.forEach(e.data.booth_tours,function(e){this.boothTourConfigs[e.activity_uuid]=e.booth_tour_uuid||""}.bind(this)),this.isBoothTourConfigsFetched=!0}.bind(this)),t[t.fail?"fail":"catch"](function(e){}.bind(this))}};e.exports=a},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r="function",c=e.escapeExpression;return'<div class="briefing-info-desc">\n\t<ul>\n\t\t<li>\n\t\t\t<div class="briefing-info-title">\n\t\t\t\tBriefing Attendee(s)\n\t\t\t</div> \n\t\t\t<div class="briefing-info-detail">\n\t\t\t\t<div id="internalAttendeeSpan">\n\t\t\t\t\t<span>Internal: </span><div class="briefing-att-name">'+c(typeof(o=null!=(o=n.internalAttendees||(null!=t?t.internalAttendees:t))?o:s)===r?o.call(l,{name:"internalAttendees",hash:{},data:a,loc:{start:{line:9,column:59},end:{line:9,column:80}}}):o)+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div id="externalAttendeeSpan">\n\t\t\t\t\t<span>External: </span><div class="briefing-att-name">'+c(typeof(o=null!=(o=n.externalAttendees||(null!=t?t.externalAttendees:t))?o:s)===r?o.call(l,{name:"externalAttendees",hash:{},data:a,loc:{start:{line:12,column:59},end:{line:12,column:80}}}):o)+'</div>\n\t\t\t\t</div>\n\t\t\t</div> \n\t\t</li>\n\t\t<li> \n\t\t\t<div class="briefing-info-title">\n\t\t\t\tBriefing Agenda Attendee(s)\n\t\t\t</div> \n\t\t\t<div class="briefing-info-detail">\n\t\t\t\t<div id="agendaInternalAttendeeSpan">\n\t\t\t\t\t<span>Internal: </span><div class="briefing-att-name">'+c(typeof(o=null!=(o=n.agendaInternalAttendee||(null!=t?t.agendaInternalAttendee:t))?o:s)===r?o.call(l,{name:"agendaInternalAttendee",hash:{},data:a,loc:{start:{line:22,column:59},end:{line:22,column:85}}}):o)+'</div>\n\t\t\t\t</div>\n\t\t\t\t<div id="agendaExternalAttendeeSpan">\n\t\t\t\t\t<span>External: </span><div class="briefing-att-name">'+c(typeof(o=null!=(o=n.agendaExternalAttendee||(null!=t?t.agendaExternalAttendee:t))?o:s)===r?o.call(l,{name:"agendaExternalAttendee",hash:{},data:a,loc:{start:{line:25,column:59},end:{line:25,column:85}}}):o)+'</div>\n\t\t\t\t</div>\n\t\t\t</div> \n\t\t</li>\n\n\n\t\t\x3c!-- <li> \n\t\t\t<p>Briefing External Attendee(s) :&nbsp;\n\t\t\t\t<span id="externalAttendeeSpan">'+c(typeof(o=null!=(o=n.externalAttendees||(null!=t?t.externalAttendees:t))?o:s)===r?o.call(l,{name:"externalAttendees",hash:{},data:a,loc:{start:{line:33,column:36},end:{line:33,column:57}}}):o)+'</span>\n\t\t\t</p>\n\t\t</li>\n\t\t<li> \n\t\t\t<i class="jif-info right-margin-2 jif-blue jif-12 pull-left"></i> \n\t\t\t<p>Briefing Internal Attendee(s) :&nbsp;\n\t\t\t\t<span id="internalAttendeeSpan">'+c(typeof(o=null!=(o=n.internalAttendees||(null!=t?t.internalAttendees:t))?o:s)===r?o.call(l,{name:"internalAttendees",hash:{},data:a,loc:{start:{line:39,column:36},end:{line:39,column:57}}}):o)+'</span>\n\t\t\t</p>\n\t\t</li>\n\t\t<li> \n\t\t\t<i class="jif-info right-margin-2 jif-blue jif-12 pull-left"></i> \n\t\t\t<p>Briefing Agenda Internal Particpant(s) :&nbsp;\n\t\t\t\t<span id="agendaInternalAttendeeSpan">'+c(typeof(o=null!=(o=n.agendaInternalAttendee||(null!=t?t.agendaInternalAttendee:t))?o:s)===r?o.call(l,{name:"agendaInternalAttendee",hash:{},data:a,loc:{start:{line:45,column:42},end:{line:45,column:68}}}):o)+'</span>\n\t\t\t</p>\n\t\t</li>\n\t\t<li>\n          <i class="jif-info right-margin-2 jif-blue jif-12 pull-left"></i>\n          <p>Briefing Agenda External Particpant(s) :&nbsp;\n          \t\t<span id="agendaExternalAttendeeSpan">'+c(typeof(o=null!=(o=n.agendaInternalAttendee||(null!=t?t.agendaInternalAttendee:t))?o:s)===r?o.call(l,{name:"agendaInternalAttendee",hash:{},data:a,loc:{start:{line:51,column:50},end:{line:51,column:76}}}):o)+"</span>\n          </p>\n        </li> --\x3e\n\t</ul>\n</div>"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",u=e.escapeExpression;return'<div class="preferred-slot" data-start='+u(typeof(l=null!=(l=n.start||(null!=t?t.start:t))?l:r)===c?l.call(s,{name:"start",hash:{},data:a,loc:{start:{line:2,column:39},end:{line:2,column:48}}}):l)+" data-end="+u(typeof(l=null!=(l=n.end||(null!=t?t.end:t))?l:r)===c?l.call(s,{name:"end",hash:{},data:a,loc:{start:{line:2,column:58},end:{line:2,column:65}}}):l)+'>\n    <div class="star '+(null!=(o=n.if.call(s,null!=t?t.priority:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.noop,data:a,loc:{start:{line:3,column:21},end:{line:3,column:52}}}))?o:"")+'">&#9733;</div>\n    <div class="slot-detail">\n        <div class="preferred-time">'+u(typeof(l=null!=(l=n.startTime||(null!=t?t.startTime:t))?l:r)===c?l.call(s,{name:"startTime",hash:{},data:a,loc:{start:{line:5,column:36},end:{line:5,column:49}}}):l)+" - "+u(typeof(l=null!=(l=n.endTime||(null!=t?t.endTime:t))?l:r)===c?l.call(s,{name:"endTime",hash:{},data:a,loc:{start:{line:5,column:52},end:{line:5,column:63}}}):l)+'</div>\n        <div class="preferred-date">'+u(typeof(l=null!=(l=n.preferredDate||(null!=t?t.preferredDate:t))?l:r)===c?l.call(s,{name:"preferredDate",hash:{},data:a,loc:{start:{line:6,column:36},end:{line:6,column:53}}}):l)+"</div>\n    </div>\n</div>\n"},2:function(e,t,n,i,a){return"priority"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return null!=(o=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.slots:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:9,column:9}}}))?o:""},useData:!0})},function(e,t,n){var i=n(147),a=n(3),o=Reflux.createStore({init:function(){this.listenToMany(i),this.history={},this.fetchingHistory=!1,this.pagination={page:1,totalPages:1e3}},getUniqueHistory:function(e,t){return _.sortBy(_.values(_.extend(_.keyBy(e,"id"),_.keyBy(t,"id"))),function(e){return e.created_at}).reverse()},updateHistory:function(e){var t=this,n=function(){t.history.hasOwnProperty(i)?t.history[i]=t.getUniqueHistory(t.history[i],e[i]):t.history[i]=e[i];var n=/&lt;\/br&gt;/g,a=/&lt;br\/&gt;/g;t.history[i]=t.history[i].map(function(e){return e.info=e.info&&e.info.replace(n,"").replace(a,"<br/>"),e.info_highlight=e.info_highlight&&e.info_highlight.replace(n,"").replace(a,"<br/>"),e})};for(var i in e)n()},onResetHistory:function(){this.pagination={page:1,totalPages:1e3},this.history={}},onGetHistory:function(e){if(0==this.fetchingHistory){this.fetchingHistory=!0;var t={url:e.url,data:{page:e.page||1,search:e.searchText,per_page:e.perPage}};e.prefix&&_.assign(t,{prefix:e.prefix}),a.fetch(t).then(function(t){this.fetchingHistory=!1,this.pagination.page=e.page||1,this.pagination.totalPages=t.data.total_pages,this.updateHistory(t.data.audit_messages),this.trigger({action:"getHistory",data:{history:this.history,total_pages:t.data.total_pages,current_page:this.pagination.page}})}.bind(this))}}});e.exports=o},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,n,i,a,o,l){var s;return null!=(s=n.each.call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(2,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:3,column:4},end:{line:21,column:13}}}))?s:""},2:function(e,t,i,o,l,s,r){var c,u=e.escapeExpression,d=null!=t?t:e.nullContext||{};return"      <li class='work'>\n        <div class=\"relative\">\n          <span class='date'>"+u(e.lambda(e.data(l,1)&&e.data(l,1).key,t))+'</span>\n          <span class="time">'+u(a(n(148)).call(d,null!=t?t.created_at:t,{name:"time_conversion_with_location",hash:{},data:l,loc:{start:{line:7,column:29},end:{line:7,column:73}}}))+"</span>\n          <span class='circle'></span>\n        </div>\n        <div class='content'>\n          "+(null!=(c=a(n(19)).call(d,null!=t?t.message_highlight:t,{name:"i18nSafeString",hash:{},data:l,loc:{start:{line:11,column:10},end:{line:11,column:48}}}))?c:"")+"&nbsp;&nbsp;&nbsp;&nbsp;\n"+(null!=(c=i.if.call(d,null!=t?t.info_highlight:t,{name:"if",hash:{},fn:e.program(3,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:12,column:10},end:{line:18,column:17}}}))?c:"")+"        </div>\n      </li>\n"},3:function(e,t,n,i,a){var o,l;return'            <a href="javascript:void(0)" class="font-blue font-semi-bold history_section_hide">(&#8211;)</a>\n            <a href="javascript:void(0)" class="font-blue font-semi-bold history_section_show hide">(+)</a>\n            <div class="font-style-italic info_section history-info-section show">\n              <span class="font-semi-bold">Info:&nbsp;</span>'+(null!=(o="function"==typeof(l=null!=(l=n.info_highlight||(null!=t?t.info_highlight:t))?l:e.hooks.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"info_highlight",hash:{},data:a,loc:{start:{line:16,column:61},end:{line:16,column:81}}}):l)?o:"")+"\n            </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,o,l){var s;return"<ul class='timeline no-border'>\n"+(null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.history:t,{name:"each",hash:{},fn:e.program(1,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:2,column:2},end:{line:22,column:11}}}))?s:"")+"</ul>\n"},useData:!0,useDepths:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,n,i,a,o,l){var s;return null!=(s=n.each.call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(2,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:3,column:4},end:{line:23,column:13}}}))?s:""},2:function(e,t,i,o,l,s,r){var c,u=null!=t?t:e.nullContext||{};return"      <li class='work'>\n        <div class=\"relative\">\n"+(null!=(c=a(n(5)).call(u,l&&l.key,0,{name:"compare_text",hash:{},fn:e.program(3,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:6,column:10},end:{line:8,column:27}}}))?c:"")+'          <span class="time">'+e.escapeExpression(a(n(148)).call(u,null!=t?t.created_at:t,{name:"time_conversion_with_location",hash:{},data:l,loc:{start:{line:9,column:29},end:{line:9,column:73}}}))+"</span>\n          <span class='circle'></span>\n        </div>\n        <div class='content'>\n          "+(null!=(c=a(n(19)).call(u,null!=t?t.message:t,{name:"i18nSafeString",hash:{},data:l,loc:{start:{line:13,column:10},end:{line:13,column:38}}}))?c:"")+"&nbsp;&nbsp;&nbsp;&nbsp;\n"+(null!=(c=i.if.call(u,null!=t?t.info:t,{name:"if",hash:{},fn:e.program(5,l,0,s,r),inverse:e.noop,data:l,loc:{start:{line:14,column:10},end:{line:20,column:17}}}))?c:"")+"        </div>\n      </li>\n"},3:function(e,t,n,i,a,o,l){return"            <span class='date'>"+e.escapeExpression(e.lambda(e.data(a,1)&&e.data(a,1).key,t))+"</span>\n"},5:function(e,t,n,i,a){var o,l;return'            <a href="javascript:void(0)" class="font-blue font-semi-bold hide history_section_hide">(&#8211;)</a>\n            <a href="javascript:void(0)" class="font-blue font-semi-bold history_section_show">(+)</a>\n            <div class="info_section history-info-section">\n              <span>Info:&nbsp;</span>'+(null!=(o="function"==typeof(l=null!=(l=n.info||(null!=t?t.info:t))?l:e.hooks.helperMissing)?l.call(null!=t?t:e.nullContext||{},{name:"info",hash:{},data:a,loc:{start:{line:18,column:38},end:{line:18,column:48}}}):l)?o:"")+"\n            </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a,o,l){var s;return"<ul class='timeline'>\n"+(null!=(s=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.history:t,{name:"each",hash:{},fn:e.program(1,a,0,o,l),inverse:e.noop,data:a,loc:{start:{line:2,column:2},end:{line:24,column:11}}}))?s:"")+"</ul>\n\n"},useData:!0,useDepths:!0})},function(e,t,n){var i=n(150),a=n(3),o=window.Reflux.createStore({init:function(){this.reviews={},this.listenToMany(i)},onFetchReviews:function(e){a.fetch({url:e.fetchUrl,data:{entity_type:e.entityType,entity_uuid:e.entityUuid}}).done(function(e){this.reviews=e.data,this.trigger({type:"fetch",data:e.data})}.bind(this))},onUpdateReview:function(e,t,n){a.update({url:e,data:t}).done(function(e){this.trigger({type:n,data:e.data})}.bind(this))},getReviewee:function(e){if(!window._.isEmpty(this.reviews)&&"reviewees"in this.reviews)return window._.find(this.reviews.reviewees,{uuid:e})}});e.exports=o},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,i,a,o){var l;return(null!=(l=e.invokePartial(n(197),t,{name:"_reviewees",data:o,helpers:i,partials:a,decorators:e.decorators}))?l:"")+(null!=(l=e.invokePartial(n(199),t,{name:"_reviewers",data:o,helpers:i,partials:a,decorators:e.decorators}))?l:"")+(null!=(l=e.invokePartial(n(200),t,{name:"_mm",data:o,helpers:i,partials:a,decorators:e.decorators}))?l:"")},usePartial:!0,useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.editable:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:2,column:2},end:{line:6,column:9}}}))?o:""},2:function(e,t,i,a,o){var l;return null!=(l=e.invokePartial(n(198),t,{name:"_review_edit_container",data:o,indent:"    ",helpers:i,partials:a,decorators:e.decorators}))?l:""},4:function(e,t,i,a,o){var l;return null!=(l=e.invokePartial(n(152),t,{name:"_review_read_only",data:o,indent:"    ",helpers:i,partials:a,decorators:e.decorators}))?l:""},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return null!=(o=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.reviewees:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:7,column:9}}}))?o:""},usePartial:!0,useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,i,a,o){var l,s;return'<div class="row" id="edit_review_container_'+e.escapeExpression("function"==typeof(s=null!=(s=i.revieweeUuid||(null!=t?t.revieweeUuid:t))?s:e.hooks.helperMissing)?s.call(null!=t?t:e.nullContext||{},{name:"revieweeUuid",hash:{},data:o,loc:{start:{line:1,column:43},end:{line:1,column:59}}}):s)+'">\n'+(null!=(l=e.invokePartial(n(151),t,{name:"_review_edit",data:o,indent:"  ",helpers:i,partials:a,decorators:e.decorators}))?l:"")+"</div>\n"},usePartial:!0,useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,i,a,o){return'  <div class="row">\n    <div class="jn-c-review-list-header">\n      <div class="col-xs-6">\n        <h4>'+e.escapeExpression((l=n(0),l&&(l.__esModule?l.default:l)).call(null!=t?t:e.nullContext||{},"your_reviews",{name:"t",hash:{},data:o,loc:{start:{line:5,column:12},end:{line:5,column:33}}}))+"</h4>\n      </div>\n    </div>\n  </div>\n";var l},3:function(e,t,i,a,o){var l;return null!=(l=e.invokePartial(n(152),t,{name:"_review_read_only",data:o,indent:"  ",helpers:i,partials:a,decorators:e.decorators}))?l:""},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{};return(null!=(o=n.if.call(l,null!=t?t.isReviewed:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:9,column:7}}}))?o:"")+(null!=(o=n.each.call(l,null!=t?t.reviewers:t,{name:"each",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:10,column:0},end:{line:12,column:9}}}))?o:"")},usePartial:!0,useData:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d="function",m=e.escapeExpression;return'  <div class="row">\n    <div class="jn-c-review-list-block">\n      <div class="col-xs-12 col-lg-6">\n        <div class="jn-c-mm-review-item">\n          <div class="jn-c-mm-review-list" role="button">\n            <div class="col-xs-12 no-padding">\n              <div class="col-xs-6">\n                <h4 class="text-ellipsis js_limit_view">\n                  <span >'+m(typeof(r=null!=(r=i.firstName||(null!=t?t.firstName:t))?r:u)===d?r.call(c,{name:"firstName",hash:{},data:l,loc:{start:{line:10,column:25},end:{line:10,column:38}}}):r)+"</span>&nbsp;\n                  <span>"+m(typeof(r=null!=(r=i.lastName||(null!=t?t.lastName:t))?r:u)===d?r.call(c,{name:"lastName",hash:{},data:l,loc:{start:{line:11,column:24},end:{line:11,column:36}}}):r)+'</span>&nbsp;\n                </h4>\n                <h4 class="text-ellipsis hide js_expanded_view">\n                  <span>'+m(typeof(r=null!=(r=i.firstName||(null!=t?t.firstName:t))?r:u)===d?r.call(c,{name:"firstName",hash:{},data:l,loc:{start:{line:14,column:24},end:{line:14,column:37}}}):r)+m(a(n(0)).call(c,"punctuation",{name:"t",hash:{},data:l,loc:{start:{line:14,column:37},end:{line:14,column:56}}}))+"</span>&nbsp;\n                  <span>"+m(a(n(0)).call(c,"reviews",{name:"t",hash:{},data:l,loc:{start:{line:15,column:24},end:{line:15,column:39}}}))+'</span>&nbsp;\n                </h4>\n              </div>\n              <div class="col-xs-6 text-right no-padding-left js_icons_list">\n                <span class="jn-c-mm-review-icon">\n                  <i class="jif-iris-yes jif-18"></i>\n                  <span>'+m(typeof(r=null!=(r=i.upVoteCount||(null!=t?t.upVoteCount:t))?r:u)===d?r.call(c,{name:"upVoteCount",hash:{},data:l,loc:{start:{line:21,column:24},end:{line:21,column:39}}}):r)+'</span>\n                </span>\n                <span class="jn-c-mm-review-icon">\n                  <i class="jif-iris-no jif-18"></i>\n                  <span>'+m(typeof(r=null!=(r=i.downVoteCount||(null!=t?t.downVoteCount:t))?r:u)===d?r.call(c,{name:"downVoteCount",hash:{},data:l,loc:{start:{line:25,column:24},end:{line:25,column:41}}}):r)+'</span>\n                </span>\n                <span class="jn-c-mm-review-icon">\n                  <i class="jif-iris-comment jif-18"></i>\n                  <span>'+m(typeof(r=null!=(r=i.commentCount||(null!=t?t.commentCount:t))?r:u)===d?r.call(c,{name:"commentCount",hash:{},data:l,loc:{start:{line:29,column:24},end:{line:29,column:40}}}):r)+'</span>\n                </span>\n              </div>\n              <div class="col-xs-6 text-right hide js_collapse_btn">\n                <span class="font-blue font-10 cursor-pointer line-height-35">'+m(a(n(0)).call(c,"collapse",{name:"t",hash:{},data:l,loc:{start:{line:33,column:78},end:{line:33,column:94}}}))+'</span>\n              </div>\n            </div>\n          </div>\n\n          <div class="col-xs-12 jn-c-review-list-block-container collapse" id="mm-review-list_'+m(typeof(r=null!=(r=i.uuid||(null!=t?t.uuid:t))?r:u)===d?r.call(c,{name:"uuid",hash:{},data:l,loc:{start:{line:38,column:94},end:{line:38,column:102}}}):r)+'" role="tabpanel" aria-labelledby="headingOne">\n'+(null!=(s=i.each.call(c,null!=t?t.reviews:t,{name:"each",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:39,column:14},end:{line:57,column:23}}}))?s:"")+"            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n"},2:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r="function",c=e.escapeExpression;return'                <div class="jn-c-review-list-content">\n                  <div class="jn-c-review-item">\n                    <div class="col-xs-8">\n                      <h4 class="text-ellipsis">'+c(typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:s)===r?o.call(l,{name:"name",hash:{},data:a,loc:{start:{line:43,column:48},end:{line:43,column:56}}}):o)+"</h4>\n                      <h6>"+c(typeof(o=null!=(o=n.title||(null!=t?t.title:t))?o:s)===r?o.call(l,{name:"title",hash:{},data:a,loc:{start:{line:44,column:26},end:{line:44,column:35}}}):o)+", "+c(typeof(o=null!=(o=n.companyName||(null!=t?t.companyName:t))?o:s)===r?o.call(l,{name:"companyName",hash:{},data:a,loc:{start:{line:44,column:37},end:{line:44,column:52}}}):o)+'</h6>\n                      <div class="font-12">'+c(typeof(o=null!=(o=n.comment||(null!=t?t.comment:t))?o:s)===r?o.call(l,{name:"comment",hash:{},data:a,loc:{start:{line:45,column:43},end:{line:45,column:54}}}):o)+'</div>\n                    </div>\n                    <div class="col-xs-4 text-right">\n                      <a href="javascript:void(0)" class="icon-box '+c(typeof(o=null!=(o=n.upvote||(null!=t?t.upvote:t))?o:s)===r?o.call(l,{name:"upvote",hash:{},data:a,loc:{start:{line:48,column:67},end:{line:48,column:77}}}):o)+'">\n                        <i class="jif-iris-yes jif-20"></i>\n                      </a>\n                      <a href="javascript:void(0)" class="icon-box '+c(typeof(o=null!=(o=n.downvote||(null!=t?t.downvote:t))?o:s)===r?o.call(l,{name:"downvote",hash:{},data:a,loc:{start:{line:51,column:67},end:{line:51,column:79}}}):o)+'">\n                        <i class="jif-iris-no jif-20"></i>\n                      </a>\n                    </div>\n                  </div>\n                </div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return null!=(o=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.mmData:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:64,column:9}}}))?o:""},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,i,a,o){return'<div class="row">\n  <div class="col-xs-12 col-lg-6">\n    '+e.escapeExpression((l=n(0),l&&(l.__esModule?l.default:l)).call(null!=t?t:e.nullContext||{},"ea_multiple",{name:"t",hash:{},data:o,loc:{start:{line:3,column:4},end:{line:3,column:23}}}))+"\n  </div>\n</div>\n";var l},useData:!0})},function(e,t,n){var i=n(153),a=n(3),o=Reflux.createStore({init:function(){this.listenToMany(i),this.setNoteUrlsHash={},this.notes=[],this.current_page=1,this.per_page_count=10,this.fetching=!1,this.currentEditableUuid="",this.notesVisibility={}},setNoteData:function(e){_.forEach(e,function(e){this.setNoteUrl(e),this.setNoteVisibility(e)}.bind(this))},setNoteUrl:function(e){this.setNoteUrlsHash[e.uuid]=e.note_urls},setNoteVisibility:function(e){var t=[];_.forEach(e.formatted_visibility,function(e){var n=e.name,i=e.display_name,a=e.selected,o=e.disabled;t.push({name:n,displayName:i,value:a,disabled:o})}),this.notesVisibility[e.uuid]=t},getNoteVisibilty:function(e){return this.notesVisibility[e]},setCurrentEditableNoteUuid:function(e){this.currentEditableUuid=e},getNoteUuid:function(){return this.currentEditableUuid},getNoteUrl:function(e){return this.setNoteUrlsHash[e]},resetNotes:function(){this.notes=[],this.setNoteUrlsHash={},this.current_page=1},getNoteDetails:function(e){return _.find(this.notes,function(t){return t.uuid==e})},setCurrentPage:function(e){this.current_page=e},getCurrentPage:function(){return this.current_page},setTotalPageCount:function(e){this.total_pages=e},getTotalPageCount:function(){return this.total_pages},updateFetchState:function(e){this.fetching=e},getFetchState:function(e){return this.fetching},onListNotes:function(e,t){if(0==this.getFetchState()){this.updateFetchState(!0);var n=_.merge({page:t,per_page:this.per_page_count});a.fetch({url:e,data:n}).then(function(e){this.notes=this.notes.concat(e.data),this.setCurrentPage(this.getCurrentPage()+1),this.setTotalPageCount(Math.ceil(e.total_entries/this.per_page_count)),this.setNoteData(this.notes),this.trigger({action:"listNotes",data:this.notes}),this.updateFetchState(!1)}.bind(this))}},onCreateNote:function(e){a.update({url:e.createUrl,data:{note:e.note,visibility:e.visibility}}).then(function(e){this.resetNotes(),this.trigger({action:"SuccessNoteCreation",data:e.data})}.bind(this))},onUpdateNote:function(e){a.update({url:e.updateUrl,data:{note:e.note,visibility:e.visibility}}).then(function(e){this.resetNotes(),this.trigger({action:"SuccessNoteUpdation",data:e.data})}.bind(this))},onDeleteNote:function(e,t,n){var i=a.update({url:e});i.then(function(e){this.resetNotes(),this.trigger({action:t,data:e.message})}.bind(this)),i[i.fail?"fail":"catch"](function(e){this.trigger({action:n,data:e.message})}.bind(this))}});e.exports=o},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,i,a,o){var l;return null!=(l=e.invokePartial(n(154),t,{name:"_note",data:o,indent:"  ",helpers:i,partials:a,decorators:e.decorators}))?l:""},compiler:[8,">= 4.3.0"],main:function(e,t,i,a,o){var l;return(null!=(l=e.invokePartial(n(155),t,{name:"_note_create",data:o,helpers:i,partials:a,decorators:e.decorators}))?l:"")+(null!=(l=i.each.call(null!=t?t:e.nullContext||{},null!=t?t.notes:t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:0},end:{line:4,column:9}}}))?l:"")},usePartial:!0,useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){return"checked"},3:function(e,t,n,i,a){return"disabled"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",u=e.escapeExpression;return'<li>\n  <div class="jn-c-checkbox">\n    <input type="checkbox" id="'+u(typeof(l=null!=(l=n.uuid||(null!=t?t.uuid:t))?l:r)===c?l.call(s,{name:"uuid",hash:{},data:a,loc:{start:{line:3,column:31},end:{line:3,column:39}}}):l)+"-"+u(typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:r)===c?l.call(s,{name:"name",hash:{},data:a,loc:{start:{line:3,column:40},end:{line:3,column:48}}}):l)+'" class="vis-note" '+(null!=(o=n.if.call(s,null!=t?t.value:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:3,column:67},end:{line:3,column:94}}}))?o:"")+" "+(null!=(o=n.if.call(s,null!=t?t.disabled:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:3,column:95},end:{line:3,column:126}}}))?o:"")+'>\n    <label for="'+u(typeof(l=null!=(l=n.uuid||(null!=t?t.uuid:t))?l:r)===c?l.call(s,{name:"uuid",hash:{},data:a,loc:{start:{line:4,column:16},end:{line:4,column:24}}}):l)+"-"+u(typeof(l=null!=(l=n.name||(null!=t?t.name:t))?l:r)===c?l.call(s,{name:"name",hash:{},data:a,loc:{start:{line:4,column:25},end:{line:4,column:33}}}):l)+'">'+u(typeof(l=null!=(l=n.displayName||(null!=t?t.displayName:t))?l:r)===c?l.call(s,{name:"displayName",hash:{},data:a,loc:{start:{line:4,column:35},end:{line:4,column:50}}}):l)+"</label>\n  </div>\n</li>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.start_time:t,{name:"if",hash:{},fn:e.program(2,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:2,column:2},end:{line:10,column:9}}}))?o:""},2:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return"    <li data-uuid='"+r("function"==typeof(o=null!=(o=n.uuid||(null!=t?t.uuid:t))?o:s)?o.call(l,{name:"uuid",hash:{},data:a,loc:{start:{line:3,column:19},end:{line:3,column:27}}}):o)+'\' class="js-edit-current-meeting">\n      '+r("function"==typeof(o=null!=(o=n.start_time||(null!=t?t.start_time:t))?o:s)?o.call(l,{name:"start_time",hash:{},data:a,loc:{start:{line:4,column:6},end:{line:4,column:20}}}):o)+" - "+r("function"==typeof(o=null!=(o=n.end_time||(null!=t?t.end_time:t))?o:s)?o.call(l,{name:"end_time",hash:{},data:a,loc:{start:{line:4,column:23},end:{line:4,column:35}}}):o)+"\n    </li>\n"},4:function(e,t,n,i,a){var o;return"    <li data-uuid='"+e.escapeExpression("function"==typeof(o=null!=(o=n.uuid||(null!=t?t.uuid:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"uuid",hash:{},data:a,loc:{start:{line:7,column:19},end:{line:7,column:27}}}):o)+"' class='active con-newmeeting js-edit-current-meeting'>\n      New Meeting\n    </li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return(null!=(o=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.list:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:11,column:9}}}))?o:"")+"\n"},useData:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.escapeExpression,u=e.hooks.helperMissing;return'<div class="con-popover-header">\n  <div class="text-ellipsis">\n    '+c(a(n(0)).call(r,"meeting_type_label",{name:"t",hash:{},data:l,loc:{start:{line:3,column:4},end:{line:3,column:30}}}))+" <b>"+c("function"==typeof(s=null!=(s=i.meetingType||(null!=t?t.meetingType:t))?s:u)?s.call(r,{name:"meetingType",hash:{},data:l,loc:{start:{line:3,column:34},end:{line:3,column:49}}}):s)+'</b>\n  </div>\n  <div class="text-ellipsis">\n    '+c(a(n(0)).call(r,"location_of_the_meeting",{name:"t",hash:{},data:l,loc:{start:{line:6,column:4},end:{line:6,column:35}}}))+" <b>"+c("function"==typeof(s=null!=(s=i.roomName||(null!=t?t.roomName:t))?s:u)?s.call(r,{name:"roomName",hash:{},data:l,loc:{start:{line:6,column:39},end:{line:6,column:51}}}):s)+'</b>\n  </div>\n</div>\n<div class="con-popover-body">\n    <div>\n      Internal Attendees: <b>'+c("function"==typeof(s=null!=(s=i.internalAttendees||(null!=t?t.internalAttendees:t))?s:u)?s.call(r,{name:"internalAttendees",hash:{},data:l,loc:{start:{line:11,column:29},end:{line:11,column:50}}}):s)+"</b>\n    </div>\n    <div>\n      External Attendees: <b>"+c("function"==typeof(s=null!=(s=i.externalAttendees||(null!=t?t.externalAttendees:t))?s:u)?s.call(r,{name:"externalAttendees",hash:{},data:l,loc:{start:{line:14,column:29},end:{line:14,column:50}}}):s)+"</b>\n    </div>\n  </div>\n</div>"},useData:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s=null!=t?t:e.nullContext||{},r=e.escapeExpression;return r(a(n(0)).call(s,"change_meeting_type_not_available",{name:"t",hash:{},data:l,loc:{start:{line:1,column:0},end:{line:1,column:41}}}))+',<br><br>\n<ol class="ordered-list-style padding-10">\n\t<li>'+r(a(n(20)).call(s,"change_meeting_type_show_meeting_type_tooltip_condition_topic",{name:"tr",hash:{topicOfInterestLabel:null!=t?t.topicLabel:t,key:"change_meeting_type_show_meeting_type_tooltip_condition_topic"},data:l,loc:{start:{line:3,column:5},end:{line:3,column:175}}}))+"</li><br>\n\t"+r(a(n(0)).call(s,"or",{name:"t",hash:{},data:l,loc:{start:{line:4,column:1},end:{line:4,column:11}}}))+"<br><br>\n\t<li>"+r(a(n(0)).call(s,"change_meeting_type_show_meeting_type_tooltip_condition_configuration",{name:"t",hash:{},data:l,loc:{start:{line:5,column:5},end:{line:5,column:82}}}))+"</li>\n</ol>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,i,a,o){var l,s,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression;return'<div class="modal-header">\n  <h4 class="modal-title">\n    '+u("function"==typeof(l=null!=(l=i.title||(null!=t?t.title:t))?l:c)?l.call(r,{name:"title",hash:{},data:o,loc:{start:{line:3,column:4},end:{line:3,column:13}}}):l)+'\n    <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n      <i class="jif-12 jif-iris-cancel-thin"></i>\n    </button>\n  </h4>\n</div>\n<div class="modal-body">\n  <div class="form-group">\n    <label for="reason">'+u((s=n(0),s&&(s.__esModule?s.default:s)).call(r,"change_location_preference_reason",{name:"t",hash:{},data:o,loc:{start:{line:11,column:24},end:{line:11,column:65}}}))+'</label>\n    <textarea name="reason" id="reason" class="form-control form-element-ignorable"></textarea>\n  </div>\n</div>\n<div class="modal-footer">\n  <div class="text-right">\n    <a href="javascript:void(0)" class="btn btn-tertiary cancel" data-i18n="CANCEL">'+u("function"==typeof(l=null!=(l=i.cancel||(null!=t?t.cancel:t))?l:c)?l.call(r,{name:"cancel",hash:{},data:o,loc:{start:{line:17,column:84},end:{line:17,column:94}}}):l)+'</a>\n    <a href="javascript:void(0)" class="btn btn-blue proceed" data-i18n="SUBMIT">'+u("function"==typeof(l=null!=(l=i.proceed||(null!=t?t.proceed:t))?l:c)?l.call(r,{name:"proceed",hash:{},data:o,loc:{start:{line:18,column:81},end:{line:18,column:92}}}):l)+"</a>\n  </div>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(11),a=n(15),o=function(){var e=$("#req_page_meeting_with");function t(){return i.getModelData().requestorName!==meetingInfo.request.requestor.user_name}return{meetingInfoChanged:function(){return"edit"===window.mode&&(window.currentModelData=i.getModelData(),window.meetingInfo.request,"edit"!==window.mode||i.getOnDemandFirstPageLoaded()||window.isEBCEvent||window.envDetails.isConsecutiveMeeting?meetingInfo.request.meeting_with!==e.val()||meetingInfo.request.room.name!==i.getModelData().room.name||i.getModelData().internal.length!==meetingInfo.request.users.internal.length||!_.isEqual(i.getModelData().internal,meetingInfo.request.users.internal)||i.getModelData().external.length!==meetingInfo.request.users.external.length||!_.isEqual(i.getModelData().external,meetingInfo.request.users.external)||t()||(s=a.jsDateToDateTimeFormat(currentModelData.event.start_date),r=a.jsDateToDateTimeFormat(moment(meetingInfo.request.start_time,"DD-MM-YYYY hh:mm a")._d),c=a.jsDateToDateTimeFormat(currentModelData.event.end_date),u=a.jsDateToDateTimeFormat(moment(meetingInfo.request.end_time,"DD-MM-YYYY hh:mm a")._d),r!==s||c!==u)||(o=i.getModelData().vcon,l=meetingInfo.request.vcon,l&&o&&"Add link"===o.conference_name&&"Add link"===l.conference_name?o.AddLink.link!==l.link:!_.isEqual(o,l))||meetingInfo.request.location_preference!==i.getModelData().location_preference||(n=i.getViewInTimezoneParams(),(null!==meetingInfo.request.view_in_timezone||void 0!==n)&&!_.isEqual(meetingInfo.request.view_in_timezone,i.getViewInTimezoneParams())):t());var n;var o,l;var s,r,c,u}}}();e.exports=o},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){return'\t\t<div class="font-semi-bold">You will no longer have access to this meeting. Are you sure?</div>\n\t\t<br/><br/>\n'},3:function(e,t,n,i,a){return'\t\t<div class="font-semi-bold">This action may remove your meeting host privileges. Do you want to proceed?</div>\n\t\t<br/><br/>\n'},5:function(e,t,n,i,a){return'\t\t<div class="font-semi-bold">Changing Topic will remove following from your selections.</div>\n\t\t<br/><br/>\n'},7:function(e,t,n,i,a){var o;return'\t\t<div class="font-semi-bold">Attendees</div>\n\t\t<label class="font-12">'+e.escapeExpression("function"==typeof(o=null!=(o=n.users||(null!=t?t.users:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"users",hash:{},data:a,loc:{start:{line:16,column:25},end:{line:16,column:34}}}):o)+"</label>\n\t\t<br/>\n"},9:function(e,t,n,i,a){var o;return'\t\t<div class="font-semi-bold">Location</div>\n\t\t<label class="font-12">'+e.escapeExpression("function"==typeof(o=null!=(o=n.rooms||(null!=t?t.rooms:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"rooms",hash:{},data:a,loc:{start:{line:21,column:25},end:{line:21,column:34}}}):o)+"</label>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,i,a,o){var l,s,r=null!=t?t:e.nullContext||{};return"<div>\n"+(null!=(l=i.if.call(r,null!=t?t.showTopicHeader:t,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:2,column:1},end:{line:5,column:8}}}))?l:"")+(null!=(l=i.if.call(r,null!=t?t.meetingHost:t,{name:"if",hash:{},fn:e.program(3,o,0),inverse:e.noop,data:o,loc:{start:{line:6,column:1},end:{line:9,column:8}}}))?l:"")+(null!=(l=(s=n(211),s&&(s.__esModule?s.default:s)).call(r,null!=t?t.users:t,null!=t?t.rooms:t,{name:"check_arrays",hash:{},fn:e.program(5,o,0),inverse:e.noop,data:o,loc:{start:{line:10,column:1},end:{line:13,column:18}}}))?l:"")+(null!=(l=i.if.call(r,null!=t?t.users:t,{name:"if",hash:{},fn:e.program(7,o,0),inverse:e.noop,data:o,loc:{start:{line:14,column:1},end:{line:18,column:8}}}))?l:"")+(null!=(l=i.if.call(r,null!=t?t.rooms:t,{name:"if",hash:{},fn:e.program(9,o,0),inverse:e.noop,data:o,loc:{start:{line:19,column:1},end:{line:22,column:8}}}))?l:"")+"</div>\n"},useData:!0})},function(e,t){e.exports=function(e,t,n){return e&&e.length||t&&t.length?n.fn(this):n.inverse(this)}},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o;return"  <div>"+e.escapeExpression("function"==typeof(o=null!=(o=n.doubleBookMessage||(null!=t?t.doubleBookMessage:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"doubleBookMessage",hash:{},data:a,loc:{start:{line:2,column:7},end:{line:2,column:28}}}):o)+"</div>\n"},3:function(e,t,n,i,a){return"      <li>"+e.escapeExpression(e.lambda(t,t))+"</li>\n"},5:function(e,t,i,o,l){return"  <div>"+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"footer_double_booked_body_for_cm",{name:"t",hash:{},data:l,loc:{start:{line:12,column:7},end:{line:12,column:47}}}))+"</div>\n"},7:function(e,t,n,i,a){var o;return'  <div class="double-booked-title">'+e.escapeExpression("function"==typeof(o=null!=(o=n.waitlistMessage||(null!=t?t.waitlistMessage:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"waitlistMessage",hash:{},data:a,loc:{start:{line:15,column:35},end:{line:15,column:54}}}):o)+"</div>\n"},9:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{},s=e.hooks.helperMissing,r=e.escapeExpression;return"      <li>"+r("function"==typeof(o=null!=(o=n.name||(null!=t?t.name:t))?o:s)?o.call(l,{name:"name",hash:{},data:a,loc:{start:{line:20,column:10},end:{line:20,column:18}}}):o)+" from "+r("function"==typeof(o=null!=(o=n.timeFormat||(null!=t?t.timeFormat:t))?o:s)?o.call(l,{name:"timeFormat",hash:{},data:a,loc:{start:{line:20,column:24},end:{line:20,column:38}}}):o)+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{};return(null!=(s=i.if.call(r,null!=t?t.showDoubleBook:t,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:1,column:0},end:{line:3,column:7}}}))?s:"")+'<div>\n  <ul class="double-booked-attendee-list">\n'+(null!=(s=i.each.call(r,null!=t?t.doubleBookAttendees:t,{name:"each",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:6,column:4},end:{line:8,column:13}}}))?s:"")+"  </ul>\n</div>\n"+(null!=(s=a(n(87)).call(r,null!=t?t.showDoubleBook:t,null!=t?t.isConsecutive:t,{name:"nestedAnd",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l,loc:{start:{line:11,column:0},end:{line:13,column:14}}}))?s:"")+(null!=(s=i.if.call(r,null!=t?t.showSoftBlock:t,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l,loc:{start:{line:14,column:0},end:{line:16,column:7}}}))?s:"")+'<div>\n  <ul class="double-booked-attendee-list">\n'+(null!=(s=i.each.call(r,null!=t?t.softBlockAttendees:t,{name:"each",hash:{},fn:e.program(9,l,0),inverse:e.noop,data:l,loc:{start:{line:19,column:4},end:{line:21,column:13}}}))?s:"")+"  </ul>\n</div>\n"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,i,a,o){var l,s,r,c=e.lambda,u=e.escapeExpression,d=null!=t?t:e.nullContext||{};return'  <div class="js-vcon-link-section">\n    <div class="form-group with-icon">\n      <i class="jif-weblink"></i>\n      <input type="text" name="vconLink" class="form-control js-vcon-link-url" value="'+u(c(null!=(l=null!=t?t.AddLink:t)?l.link:l,t))+'" placeholder="'+u((r=n(0),r&&(r.__esModule?r.default:r)).call(d,"paste_vcon_link_label",{name:"t",hash:{},data:o,loc:{start:{line:4,column:117},end:{line:4,column:146}}}))+'"/>\n    </div>\n    <div class="form-group with-icon">\n      <i class="jif-info js_tooltip" title="" data-placement="top" data-original-title="Conference Dial-in information"></i>\n      <textarea class="form-control js-vcon-link-desc" value="'+u(c(null!=(l=null!=t?t.AddLink:t)?l.desc:l,t))+'" placeholder="'+u("function"==typeof(s=null!=(s=i.videoConferencingDialinInformationLabel||(null!=t?t.videoConferencingDialinInformationLabel:t))?s:e.hooks.helperMissing)?s.call(d,{name:"videoConferencingDialinInformationLabel",hash:{},data:o,loc:{start:{line:8,column:93},end:{line:8,column:136}}}):s)+'">'+u(c(null!=(l=null!=t?t.AddLink:t)?l.desc:l,t))+"</textarea>\n    </div>\n  </div>"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o;return"<div>ID: "+e.escapeExpression("function"==typeof(o=null!=(o=n.meetingkey||(null!=t?t.meetingkey:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"meetingkey",hash:{},data:a,loc:{start:{line:12,column:39},end:{line:12,column:53}}}):o)+"</div>"},3:function(e,t,n,i,a){var o;return"<div>Password: "+e.escapeExpression("function"==typeof(o=null!=(o=n.vconSecretKey||(null!=t?t.vconSecretKey:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"vconSecretKey",hash:{},data:a,loc:{start:{line:13,column:44},end:{line:13,column:61}}}):o)+"</div>"},5:function(e,t,n,i,a){var o;return'      <div class="form-group with-icon view">\n        <i class="jif-info"></i>\n        <div class="form-control-view">\n          '+e.escapeExpression("function"==typeof(o=null!=(o=n.vcon_message||(null!=t?t.vcon_message:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"vcon_message",hash:{},data:a,loc:{start:{line:20,column:10},end:{line:20,column:26}}}):o)+"\n        </div>\n      </div>\n"},7:function(e,t,n,i,a){var o;return null!=(o=n.if.call(null!=t?t:e.nullContext||{},null!=(o=null!=t?t.telephony:t)?o.joinByPhone:o,{name:"if",hash:{},fn:e.program(8,a,0),inverse:e.noop,data:a,loc:{start:{line:24,column:6},end:{line:34,column:13}}}))?o:""},8:function(e,t,n,i,a){var o,l=null!=t?t:e.nullContext||{};return'      <div class="form-group with-icon view">\n        <i class="jif-info"></i>\n        <div class="form-control-view">\n          <div>Join by Phone</div>\n          <div>'+(null!=(o=e.lambda(null!=(o=null!=t?t.telephony:t)?o.joinByPhone:o,t))?o:"")+"</div>\n          "+(null!=(o=n.if.call(l,null!=(o=null!=t?t.telephony:t)?o.accessCode:o,{name:"if",hash:{},fn:e.program(9,a,0),inverse:e.noop,data:a,loc:{start:{line:30,column:10},end:{line:30,column:93}}}))?o:"")+"\n          "+(null!=(o=n.if.call(l,null!=t?t.hostKey:t,{name:"if",hash:{},fn:e.program(11,a,0),inverse:e.noop,data:a,loc:{start:{line:31,column:10},end:{line:31,column:65}}}))?o:"")+"\n        </div>\n      </div>\n"},9:function(e,t,n,i,a){var o;return"<div>Access Code: "+e.escapeExpression(e.lambda(null!=(o=null!=t?t.telephony:t)?o.accessCode:o,t))+"</div>"},11:function(e,t,n,i,a){var o;return" <div>Host Pin: "+e.escapeExpression("function"==typeof(o=null!=(o=n.hostKey||(null!=t?t.hostKey:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"hostKey",hash:{},data:a,loc:{start:{line:31,column:41},end:{line:31,column:52}}}):o)+"</div>"},13:function(e,t,n,i,a){var o;return'<div class="form-group with-icon view">\n      <i></i>\n      <div>\n        <a href='+e.escapeExpression(e.lambda(null!=(o=null!=t?t.telephony:t)?o.dialinUrl:o,t))+' target="_blank">Conference Dial-in Numbers</a>\n      </div>\n    </div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression;return'  <div class="js-vcon-integration-section">\n    <div class="form-group with-icon view">\n      <div class="form-control-icon"><i class="jif-logo-'+c("function"==typeof(l=null!=(l=n.adapter_name||(null!=t?t.adapter_name:t))?l:r)?l.call(s,{name:"adapter_name",hash:{},data:a,loc:{start:{line:3,column:56},end:{line:3,column:72}}}):l)+'"></i></div>\n      <div class="form-control-view">\n        <div class="vcon-meeting-btn-link">\n          <div class="btn-cont">\n            <input type="textarea" value='+c("function"==typeof(l=null!=(l=n.meetingLink||(null!=t?t.meetingLink:t))?l:r)?l.call(s,{name:"meetingLink",hash:{},data:a,loc:{start:{line:7,column:41},end:{line:7,column:56}}}):l)+' class="js-vcon-link" hidden>\n            <a href='+c("function"==typeof(l=null!=(l=n.meetingLink||(null!=t?t.meetingLink:t))?l:r)?l.call(s,{name:"meetingLink",hash:{},data:a,loc:{start:{line:8,column:20},end:{line:8,column:35}}}):l)+' class="btn btn-primary" target="_blank">Join '+c("function"==typeof(l=null!=(l=n.conference_name||(null!=t?t.conference_name:t))?l:r)?l.call(s,{name:"conference_name",hash:{},data:a,loc:{start:{line:8,column:81},end:{line:8,column:100}}}):l)+' Meeting</a>\n          </div>\n          <i class="jif-copy js-copy-vcon-link" title="Copy conference link to clipboard"></i>\n        </div>\n        '+(null!=(o=n.if.call(s,null!=t?t.showMeetingKey:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:12,column:8},end:{line:12,column:66}}}))?o:"")+"\n        "+(null!=(o=n.if.call(s,null!=t?t.vconSecretKey:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:13,column:8},end:{line:13,column:74}}}))?o:"")+"\n      </div>\n    </div>\n"+(null!=(o=n.if.call(s,null!=t?t.vcon_message:t,{name:"if",hash:{},fn:e.program(5,a,0),inverse:e.program(7,a,0),data:a,loc:{start:{line:16,column:4},end:{line:35,column:11}}}))?o:"")+"    "+(null!=(o=n.if.call(s,null!=(o=null!=t?t.telephony:t)?o.dialinUrl:o,{name:"if",hash:{},fn:e.program(13,a,0),inverse:e.noop,data:a,loc:{start:{line:36,column:4},end:{line:42,column:11}}}))?o:"")+"  </div>"},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){return'<div class="text-right vcon-clear">\n        <button class="btn btn-secondary js-vcon-cancel">Clear</button>\n</div>'},useData:!0})},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return'<form action="javascript:void(0)" class="jiffle-form vcon-details-form">\n  <div class="form-group with-icon">\n    <label>'+e.escapeExpression("function"==typeof(o=null!=(o=n.vconLabel||(null!=t?t.vconLabel:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"vconLabel",hash:{},data:a,loc:{start:{line:3,column:11},end:{line:3,column:24}}}):o)+'</label>\n    <div class="vcon-container">\n      <i class="jif-video"></i>\n      <select name="vconOptions" class="form-control js-vcon-options">\n        <option></option>\n      </select>\n    </div>\n  </div>\n</form>\n<div class="vcon-detail hide"></div>\n'},useData:!0})},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(11),r=n(156),c=n(8),u=n(29),d=n(13).MeetingStore,m=n(146),f=n(117),h=n(149),p=n(99),g=n(30).BriefingRequestStore,v=n(3),y=n(15),b=n(88),w=n(78),M=n(39),x=function(){var e,t,i=$("#proceed-page"),o=$(".selected-room",i),x=$(".selected-vcon",i),C=$(".selected-time",i),D=$(".selected-internal-attendee .selected-attendee-list",i),k=$(".selected-external-attendee .selected-attendee-list",i),S=$(".selected-location-preference",i),A=$("#requestor-select"),T=$("#dynamic_form",i),E=$(".approved-text"),I=$(".meeting-status"),O=$(".accept-meeting"),P=$(".conflict-meeting"),j=$(".participation-meeting"),q=$(".decline-meeting"),R=$(".transfer-meeting"),N=$(".approve-meeting"),F=$(".cancel-meeting"),U=$(".js-meeting-survey"),L=$(".selected-attendee-list"),Y=$(".count.js_attendee_count"),B=$(".book-meeting .briefing-id-btn"),z=0,H=0,V=(envDetails.isCSM()||envDetails.isJuniorMM()||envDetails.isExecutiveAdmin()||window.meetingInfo.request.is_meeting_host)&&"new"!=meetingInfo.request.mode&&!envDetails.isConsecutiveMeeting,G=v.ENDPOINTS.meeting_list,Z=window.ReactMessage||$(".notification-modal"),W=$(".notification-modal"),J={onMeetingAccepted:function(e){Z.notificationModal({timeout:!0,class:"green",body:e.message,title:i18n.t("meeting_accept_success_header")}),Re(e.data.actions),qe(e.data.status);var n=envDetails.currentUser.uuid;t=e.data.actions_on_behalf,Ce(n,e.data.invite_status,e)},onMeetingDeclined:function(e){Z.notificationModal({timeout:!0,class:"green",body:e.message,title:i18n.t("meeting_decline_success_header"),dismiss:function(){window.meetingInfo.request.is_meeting_host&&location.reload()}}),Re(e.data.actions),qe(e.data.status);var n=envDetails.currentUser.uuid;t=e.data.actions_on_behalf,Ce(n,e.data.invite_status,e),he(),function(e){if("StaffScheduling"!==envDetails.eventType||!e.max_capacity)return;$("#available_capacity").html(i18n.t("available_slots_info",{availableSlots:e.available_slots,maxCapacity:e.max_capacity}))}(e.data)},onMeetingApproved:function(e){Z.notificationModal({timeout:!0,class:"green",body:e.message,title:i18n.t("meeting_approve_success_header")}),Re(e.data.actions),qe(e.data.status)},onMeetingCancelled:function(e){var t=envDetails.urlPrefix+G;if("undefined"!=typeof isEBCEvent&&1==isEBCEvent){var n=document.getElementsByTagName("base")[0].href;if("undefined"!=typeof briefing_uuid){var i=v.ENDPOINTS.list_briefings_agenda.replace("{QUERY_PARAMS}","?current_location_uuid="+envDetails.current_location_uuid);t=n+i+"/"+briefing_uuid}else t=n+v.ENDPOINTS.event_home}if("undefined"!=typeof jiffle){var a=window.location.search,o=new RegExp("[?&]mode=([^&#]*)").exec(a),l=new RegExp("[?&]meeting=([^&#]*)").exec(a);l&&(a=a.replace(l[0],"")),o&&(a=a.replace(o[0],"")),t=v.ENDPOINTS.apex_jnmeetings+a}window.commons.redirectPage(t)},onMeetingActionFailed:function(e){t=e,Z.notificationModal({class:"red",body:t.message||t.join(", "),errors:t,title:i18n.t("failure"),useUiErrorFormatter:!0});var t},onBehalfOfSuccess:function(e){var n=e.onBehalfOf;qe(e.data.status),meetingInfo.request.status=e.data.status,Re(e.data.actions),meetingInfo.request.action_urls=e.data.actions_urls,t=e.data.actions_on_behalf,Ce(n,e.data.invite_status,e),he()},onBehalfOfFailure:function(e){var t=[];_.forEach(e.responseJSON.errors,function(e){t.push(e)});var n=i18n.t("failure");"re_invite"==e.responseJSON.action&&(n=e.responseJSON.error_header);setTimeout(function(){Z.notificationModal({timeout:!0,class:"red",body:t.join(", "),title:n})},500)},onTransferSuccess:function(){Z.notificationModal({timeout:!0,class:"green",body:i18n.t("transfer_success"),title:i18n.t("success"),dismiss:function(){window.location.reload()}})},onTransferFailure:function(e){var t=e.responseJSON||e,n=(t.errors||t).details,i=(void 0===n?{}:n).error||i18n.t("transfer_failure");showErrorsForMeetingAction([i])},locationProposalCallback:b.locationProposalCallback},K=[],Q=0,X={accept_meeting_url:"Accept",decline_meeting_url:"Decline",reinvite_url:"ReInvite",endorse_url:"Endorse",transfer_meeting_url:"Transfer"},ee={remove:"remove",accept:"accept",decline:"decline",transfer:"transfer"},te={remove:"remove",accept:"accept",decline:"decline"},ne={onGetAllMeetingTypes:function(e){if(200===e.status||e.success){var t=e.data.manual_scheduling_configs;u.setMstConfigs(t)}}},ie={notes:!1,history:!1},ae={"#targetId_meeting-history-tab":ce,"#targetId_notes-list":ue};function oe(){var e=window.meetingInfo.request.location_preference_proposal;if("approved"===meetingInfo.request.status&&!_.isEmpty(e)){var t=moment(e.start_time,"YYYY-MM-DD hh:mm a")._d,i=moment(e.end_time,"YYYY-MM-DD hh:mm a")._d,a={type:window.meetingInfo.request.activity,room:e.room,offsite:e.room.offsite,isBoothTour:"BoothTour"===e.room.type};d.setProposalData({start_time:t,end_time:i,meeting_time_zone:le(),break_duration:meetingInfo.request.meeting_break&&meetingInfo.request.meeting_break.meeting_break_duration,room:a,location_preference:e.preference,reason:e.reason,can_edit:e.can_edit_proposal,can_schedule:e.can_schedule}),function(){var e=n(161),t=d.getProposalData(),i=moment(t.start_time).format("hh:mm a"),a=se(t.end_time,t.break_duration),o=moment(t.start_time,"DD-MM-YYYY")._d.toMediumDate(),l=t.room,s=(l=void 0===l?{}:l).room,r=void 0===s?{}:s,c=r&&r.name||("on_site"===t.location_preference?"Onsite":"-"),u=e({start_time:i,end_time:a,event_date:o,reason:t.reason,address:r&&(r.address||r.location),name:c,meeting_time_zone:t.meeting_time_zone,hideProposalOption:!0});S.html(u).removeClass("hide")}()}}function le(){("".concat(window.envDetails.event.timezone_gmt_offset,", ").concat(window.envDetails.event.time_zone_display_name)||"").trim()||envDetails.event.time_zone;return!0===window.isEBCEvent?window.envDetails.current_location.time_zone_display_name||window.envDetails.current_location.timezone:function(e){var t=e.meeting_time_zone,n=e.meeting_time_zone_offset,i=e.meeting_time_zone_city;if(n&&i)return"".concat(n," ").concat(i.split(",")[0]);return n||t}(meetingInfo.request)}function se(e,t){var n=e._isAMomentObject?e:moment(e,"hh:mm A");return n.subtract(t,"minutes"),n.format("hh:mm A")}function re(e){var t=e||{},n=t.time,i=t.timezone;if(n){var a=n.startDate,o=n.endDate,s=y.jsDateOrDateStringToTime(a),r=y.jsDateOrDateStringToTime(o),c="object"===l(a)?a:moment(a,"YYYY-MM-DD hh:mm A")._d;return{start:s,end:r,date:moment(c,"DD-MM-YYYY")._d.toMediumDate(),timezone:i.cityName}}}function ce(){window.meetingInfo.request.can_access_history&&!ie.history&&(m.init({fetchUrl:v.ENDPOINTS.meeting_history.replace("{uuid}",window.meetingInfo.request.uuid),mountPoint:"#meeting-history"}),ie.history=!0)}function ue(){window.meetingInfo.request.can_access_note&&!ie.notes&&(f.init({entityUuid:window.meetingInfo.request.uuid,createUrl:window.meetingInfo.request.note_urls.create_meetintg_note_url,fetchUrl:window.meetingInfo.request.note_urls.fetch_meeting_note_url,mountPoint:"#meeting-notes"}),ie.notes=!0)}function de(e,t){H="StaffScheduling"!==envDetails.eventType?_.filter(e,{invite_status:"declined"}).length+_.filter(t,{invite_status:"declined"}).length:_.filter(e,{invite_status:"declined"}).length}function me(e,t){z=e.concat(t).length}function fe(){var e=$("#sf-jiffle-now");e.length&&$.urlParam&&$.urlParam("ebc")&&($(".selected-external-attendee").addClass("hide"),e.removeClass().addClass("jiffle-briefings iris-bootstrap"))}function he(){var e=window.meetingInfo.request.agenda_participants_count||0,t=$("#roomFullHolder"),n=$("#occupiedRoomHolder"),i=Q-(z-H+e);i<=0?(t.removeClass("hide"),n.addClass("hide")):(t.addClass("hide"),n.removeClass("hide").find(".occupiedCount").text(i))}function pe(e){meetingInfo.request.users.external=e.data.data.external_attendees,_.forEach(meetingInfo.request.users.external,function(e){"Declined"===e.ics_status&&(e.invite_status="declined")}),me(meetingInfo.request.users.internal,meetingInfo.request.users.external),de(meetingInfo.request.users.internal,meetingInfo.request.users.external),he()}function _e(e,t){var n=t||{};_.forOwn(X,function(t,i){n[i]?(e[t]="",e[i]=n[i]):e[t]="hide"})}function ge(t){t.preventDefault(),t.stopPropagation();var n=$(this),i=n.closest(".selected-attendee-item").data("uuid");!n.closest(".selected-attendee-item").hasClass("declined")||e||Q>z-H?W.notificationModal({type:"confirmation",class:"green",title:i18n.t("confirmation_title"),body:ve(i)?i18n.t("reinvite_confirm_email_message"):i18n.t("reinvite_confirm_message"),done:function(){var e=n.data("url");c.behalfOfMeetingAction(e,i,"post","onBehalfOfSuccess","onBehalfOfFailure")}}):Z.notificationModal({class:"red",title:i18n.t("cannot_reinvite_title"),body:i18n.t("cannot_reinvite_as_capacity_reached_in_view")})}function ve(e){var t=function(e){return _.find(K,{uuid:e})}(e),n=d.getMstConfigs();return b.isEmailNotification(t,n)}function ye(e){e.preventDefault(),e.stopPropagation(),attendeeType=$(this).closest(".selected-attendee-item").data("attendee_type");var t="internal"===attendeeType?meetingInfo.request.users.internal:meetingInfo.request.users.external,i=$(this).closest(".selected-attendee-item").data("uuid");attendeeUuid=i;var a=n(25),o=_.find(t,function(e){return e.uuid==i});_.forEach(o.survey_links,function(e){e.response_uuid?e.action=v.ENDPOINTS.survey_responses+"/"+e.response_uuid:e.survey_response_create_url&&(e.action=e.survey_response_create_url.slice(1)),e.attendee=o.uuid,e.show_survey=_.includes(e.user_access,window.envDetails.role)||window.meetingInfo.request.is_meeting_host}),$("#attendee-survey-container").html(a({surveys:o.survey_links})),0==o.show_send_mail?$("#js-attendee-survey-mail").hide():$("#js-attendee-survey-mail").show(),c.updateSurveyType("attendee"),$(".js-attendee-survey-modal").modal({show:!0,backdrop:"static"}).data("uuid",i)}function be(e){e.preventDefault(),e.stopPropagation();var t=$(this).filter("#js-requestor-survey").length,i=n(25),a=t?meetingInfo.request.requestor_fill_survey_links:meetingInfo.request.fill_survey_links;_.forEach(a.survey_links,function(e){e.response_uuid?e.action=v.ENDPOINTS.survey_responses+"/"+e.response_uuid:e.survey_response_create_url&&(e.action=e.survey_response_create_url.slice(1)),t&&(e.attendee=meetingInfo.request.requestor.uuid),e.show_survey=!0}),$("#attendee-survey-container").html(i({surveys:a.survey_links})),$("#js-attendee-survey-mail").hide(),t&&a.show_send_mail&&$("#js-attendee-survey-mail").show(),$(".js-attendee-survey-modal").modal({show:!0,backdrop:"static"})}function we(e){e.preventDefault(),e.stopPropagation();var t=$(this).closest(".selected-attendee-item");c.behalfOfMeetingAction($(this).data("url"),t.data("uuid"),"post","onBehalfOfSuccess","onBehalfOfFailure")}function Me(e){e.preventDefault(),e.stopPropagation();var t=$(this),n=t.closest(".selected-attendee-item").data("uuid"),i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c.behalfOfMeetingAction(t.data("url"),n,"post","onBehalfOfSuccess","onBehalfOfFailure",{declined_comments:e})},a=b.isDeclineCommentEnabled(n),o=a.enabled,l=a.showOnlyOthers,s=l?[]:M.getDeclineComments();o?w.show({comments:l?[]:s,callback:i}):i()}function xe(e){e.preventDefault(),e.stopPropagation();var t=$(this),n=t.closest(".selected-attendee-item").data("uuid");window.TransferMeetingModal.open({callback:function(e){c.behalfOfMeetingAction(t.data("url"),n,"post","onTransferSuccess","onTransferFailure",{selected_attendee:e})},params:Pe()})}function Ce(e,n,i){var a=meetingInfo.request.users.internal,o=meetingInfo.request.users.external;a.map(function(a){var o=_.find(i.data.users.internal,{uuid:e});a.uuid==e?(Se(a,t[a.uuid],n),a.edit_partial_participation=o.edit_partial_participation||!1,a.view_partial_participation=o.view_partial_participation||!1):_e(a,t[a.uuid])}),o.map(function(i){i.uuid==e?Se(i,t[i.uuid],n):_e(i,t[i.uuid])}),me(a,o),de(a,o),"StaffScheduling"==envDetails.eventType&&"view"==window.mode?(occupiedRoomHolder=$("#occupiedRoomHolder"),occupiedRoomHolder.addClass("hide")):he(),ke(a,o)}function De(e){var t=[],n="";modalEl=$(this).closest(".js-attendee-survey-modal"),modalEl.find(".js-meeting-servey-item").each(function(e,i){var a=$(i).data("uuid");$("#survey-"+a).is(":checked")&&(t.push($(i).data("uuid")),n=$(i).data("attendee"))}),t.length>0?c.triggerSurveyMails(n,meetingInfo.request.uuid,t):Z.notificationModal({class:"yellow",title:i18n.t("required_survey"),body:i18n.t("survey_not_selected")})}function ke(e,t){var i=n(79),a={users:e,isConsecutive:envDetails.isConsecutiveMeeting,remove:!1,actions:!0,role_enabled:V,remove_label:i18n.t(ee.remove),accept_label:i18n.t(ee.accept),decline_label:i18n.t(ee.decline),transfer_label:i18n.t(ee.transfer),type:"internal",meetingCancelled:"cancelled"===window.meetingInfo.request.status,in_person_label:meetingInfo.request.in_person_label,virtual_label:meetingInfo.request.virtual_label};if(window.envDetails.enable_meeting_host&&window.envDetails.enable_meeting_host.toBoolean()){var o={meeting_host_label:window.envDetails.meeting_host_label,enable_meeting_host:window.envDetails.enable_meeting_host.toBoolean()};_.merge(a,o),a.users=_.orderBy(e,["meeting_host"],["desc"])}var l=i(a),s=i({users:t,remove:!1,actions:!0,role_enabled:V,remove_label:i18n.t(te.remove),accept_label:i18n.t(te.accept),decline_label:i18n.t(te.decline),type:"external",meetingCancelled:"cancelled"===window.meetingInfo.request.status,in_person_label:meetingInfo.request.in_person_label,virtual_label:meetingInfo.request.virtual_label});D.html(l),k.html(s),"cancelled"===meetingInfo.request.status&&$(".dropdown",".selected-internal-attendee").addClass("hide"),Y.html(e.length)}function Se(e,t,n){n&&(e.invite_status=n),_e(e,t)}function Ae(e){e.preventDefault(),e.stopPropagation();var t=meetingInfo.request.action_urls.accept_meeting_url;c.meetingAction(t,"post","onMeetingAccepted","onMeetingActionFailed")}function Te(e){e.preventDefault(),e.stopPropagation();var t=meetingInfo.request.action_urls.conflict_meeting_url;window.commons.openPageInNewTab(t)}function Ee(e){e.preventDefault();var t=window.meetingInfo.request.action_urls.export_report_url;t&&commons.openPageInNewTab(t)}function Ie(e){e.preventDefault(),e.stopPropagation();var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=meetingInfo.request.action_urls.decline_meeting_url;c.meetingAction(t,"post","onMeetingDeclined","onMeetingActionFailed",null,{declined_comments:e})},n=b.isDeclineCommentEnabled().enabled,i=M.getDeclineComments();n?w.show({comments:i,callback:t}):t()}function Oe(e){e.preventDefault(),e.stopPropagation();window.TransferMeetingModal.open({callback:function(e){var t=meetingInfo.request.action_urls.transfer_meeting_url;c.meetingAction(t,"post","onTransferSuccess","onTransferFailure",null,{selected_attendee:e})},params:Pe()})}function Pe(){var e=moment(meetingInfo.request.end_time,"DD-MM-YYYY HH:mm"),t=moment(meetingInfo.request.start_time,"DD-MM-YYYY HH:mm");return{activity_uuid:meetingInfo.request.activity.uuid,topic_uuid:meetingInfo.request.topic_uuid,event_date:e.format("DD-MM-YYYY"),start_time:60*t.get("hours")+t.get("minutes"),end_time:60*e.get("hours")+e.get("minutes"),meeting_request:meetingInfo.request.uuid}}function je(e){e.preventDefault(),e.stopPropagation();var t=meetingInfo.request.action_urls.approve_meeting_url;c.meetingAction(t,"put","onMeetingApproved","onMeetingActionFailed")}function $e(e){e.preventDefault(),e.stopPropagation();var t=meetingInfo.request.action_urls.cancel_meeting_url;b.cancelMeeting({callback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c.meetingAction(t,"put","onMeetingCancelled","onMeetingActionFailed",null,{cancel_comments:e})}})}function qe(e){I.removeClass("pending cancelled approved").addClass(e),E.text(e),meetingInfo.request.status=e}function Re(e){var t;O.addClass("hide"),q.addClass("hide"),R.addClass("hide"),N.addClass("hide"),F.addClass("hide"),j.addClass("hide"),P.addClass("hide"),e.map(function(e,t){if("export report"===(e=e.toLowerCase())){if(e="export-report","undefined"!=typeof jiffle)return}else"transfer meeting"===e&&(e="transfer");$("."+e+"-meeting").removeClass("hide")}),t=$(".js-secondary-action-list").find("li:not(.hide)").length,$(".js-secondary-action-dropdown")[t?"removeClass":"addClass"]("hide")}function Ne(e){if(e&&(e.data&&e.data.custom_form_fields&&(e.custom_form_fields=e.data.custom_form_fields),e.custom_form_fields)){if(formRenderer=$(T).formViewRenderer({fieldCollection:e.custom_form_fields}),formRenderer.init(),meetingInfo.request){var t=meetingInfo.request.custom_fields||{};t.meeting_with=meetingInfo.request.meeting_with,t.topic_management=meetingInfo.request.topic_management&&meetingInfo.request.topic_management.name,meetingInfo.request.custom_fields=t,formRenderer.setValues(meetingInfo.request)}formRenderer.afterLoad()}}return{init:function(){r.listen(Ne),g.listen(pe),s.listen(function(e){var t=e.action,n=e.payload||{},i=J[t];i&&i(n)}),d.listen(function(e){if(e.type){var t=e.data,n=ne[e.type];"function"==typeof n&&n(t)}}),c.getCustomForm(),u.getAllMeetingTypes({});var l=$.urlParam("briefing_uuid");!_.isEmpty(l)&&p.briefingDetails(l);var m=meetingInfo.request,f={};_.isEmpty(m.room)?f={roomNotAvailable:!0,roomNotAvailableMessage:m.room_not_assigned_msg||i18n.t("room_not_assigned_msg")}:m.room.uuid?"BoothTour"===m.room.type?f={offsite:!0,name:m.room.name,address:m.room.location}:(room_capacity="StaffScheduling"==envDetails.eventType?m.max_capacity:m.room.capacity,f={offsite:!1,display_name:m.activity.display_name,room_name:m.room.name,capacity:room_capacity}):f={offsite:!0,name:m.room.offsite_location_name||m.room.name,address:m.room.offsite_location_address||m.room.location,capacity:""};var w=n(40);$(o).html(w(f)),function(e){if(window.isEBCEvent||window.isVirtualEvent&&!window.envDetails.isConsecutiveMeeting){var t=n(160),i=window.envDetails.vconLabel;if(e&&e.link){var o="MicrosoftTeams"!==e.adapter_name;proceedHtml=t(a(a({},e),{},{showMeetingKey:o,vconLabel:i}))}else proceedHtml=t({linkNotAvailable:!0,linkNotAvailableMessage:i18n.t("link_not_assigned_msg")});$(x).removeClass("hide").html(proceedHtml)}}(meetingInfo.request.vcon);var M=n(81),D=y.convertDateTimeServerToTime(m.start_time),k=y.convertDateTimeServerToTime(m.end_time),S=y.convertDateTimeServerToJsDate(m.start_time).toMediumDate();$(".book-meeting .meeting-id").removeAttr("data-i18n").text(i18n.t("meeting_id")+m.id),!0===isEBCEvent&&void 0!==meetingInfo.request.briefing_id?B.text("View Briefing ID  #".concat(meetingInfo.request.briefing_id)):B.remove(),html=M({break_duration:m.meeting_break.meeting_break_duration,start_time:D,end_time:se(k,m.meeting_break.meeting_break_duration||0),event_date:S,meeting_time_zone:le(),showGotoMainOptionFromDetails:!1,secondaryTimezoneInfo:re(meetingInfo.request.view_in_timezone_info)}),C.html(html);var T=m.users.internal,j=m.users.external;K=K.concat(T,j),t=actions_on_behalf,T.map(function(e,n){t[e.uuid]?_e(e,t[e.uuid]):_.forOwn(X,function(t,n){e[t]="hide"})}),j.map(function(e,n){t[e.uuid]?_e(e,t[e.uuid]):_.forOwn(X,function(t,n){e[t]="hide"})}),ke(T,j);var Y=m.users.internal.length,z=m.users.external.length;$(".selectedInternalAttendeeCount").text(Y),$(".selectedInternalAttendeeCount + span").html(i18n.t(1==Y?"internal_participant":"internal_participants")),$(".selectedExternalAttendeeCount").text(z),$(".selectedExternalAttendeeCount + span").html(i18n.t(1==z?"external_participant":"external_participants"));var H=m.requestor;A.addClass("hide"),$("[id^='requestor-label-div']").removeClass("hide").text(H.first_name+" "+H.last_name),"undefined"==typeof jiffle&&(U.filter("#js-meeting-survey")[meetingInfo.request.fill_survey?"removeClass":"addClass"]("hide"),U.filter("#js-requestor-survey")[meetingInfo.request.requestor_fill_survey?"removeClass":"addClass"]("hide")),Re(m.actions),E.text(m.status),I.addClass(m.status),me(m.users.internal,m.users.external),de(m.users.internal,m.users.external),Q="StaffScheduling"==envDetails.eventType?m.max_capacity||1e4:f.capacity,e=f.offsite||!1,he(),fe(),he(),fe(),"StaffScheduling"==envDetails.eventType&&"view"==window.mode?(occupiedRoomHolder=$("#occupiedRoomHolder"),occupiedRoomHolder.addClass("hide")):he(),$(".go-to-main").hide(),$(".go-to-main-internal").addClass("hide"),$(".go-to-main-external").addClass("hide"),O.on("click",Ae),q.on("click",Ie),R.on("click",Oe),N.on("click",je),F.on("click",$e),U.on("click",be),P.on("click",Te),$(".export-report-meeting").on("click",Ee),B.on("click",b.gotoBriefing),L.on("click",".attendee_accept",we).on("click",".attendee_decline",Me).on("click",".attendee_transfer",xe).on("click",".attendee_reinvite",ge).on("click",".attendee_survey",ye),i.on("click","#js-meeting-history-tab",ce).on("click",".js-remove-proposal",b.removeProposal).on("click",".js-decline-proposal",b.declineProposal).on("click","#js-meeting-notes-tab",ue),$(document).on("click","#js-attendee-survey-mail",De),window.meetingInfo.can_access_reviews&&h.init({entityUuid:window.meetingInfo.request.uuid,mountPoint:"#meeting-review-tab",fetchUrl:v.ENDPOINTS.get_reviews,updateUrl:v.ENDPOINTS.update_review,entityType:window.entityNameForReview}),"function"==typeof ae[window.location.hash]&&ae[window.location.hash](),$("#sf-jiffle-now").length&&$("a[href='#meeting-history-tab']").parent().addClass("hide");var V=$(".mount-transfer-meeting-modal");V.length&&window.TransferMeetingModal&&window.TransferMeetingModal.init(V),oe()}}}();e.exports=x},function(e,t,n){var i=n(100),a=n(219),o=n(220),l=function(){var e,t=$(".notification-modal"),n={uploadSuccessful:function(t){e.clearError(),e.hideProgress(),e.setFileUrl(t.attachmentUrl,t.attachmentUuid,t.attachedFile),e.resetInitCall()},initAttachmentCmp:function(t){var n=t.data.form,a=t.data.settings,l=t.data.resourceConfigs,s=t.data.preloadedAttachments;(e=new o($(n).removeClass("hide"),i)).setConfigs(a,l),e.setupUI(),e.setAttachments(s),i.setJiffleFileManager(e)},uploadFailed:function(t){l(i18n.t("something_went_wrong"),t.message,"red",function(){e.removeFileUrl(t.attachedFile),e.hideProgress(),e.resetInitCall()})},removeUploadSuccessful:function(t){e.clearError(),e.resetInitCall()},removeUploadFailed:function(t){l(i18n.t("something_went_wrong"),t.message,"red",function(){e.resetInitCall()})}};function l(e,n,i,a){t.notificationModal({type:"notification",title:e||"",body:n||"",class:i||"red",dismiss:s(a)})}function s(e){return _.isFunction(e)?e:_.noop}return{init:function(){a.listen(function(e){s(n[e.type])(e)})}}}();e.exports=l},function(e,t,n){var i=n(100),a=n(3),o=Reflux.createStore({init:function(){this.fileUploadManager=null,this.listenToMany(i)},onInitAttachmentsComponent:function(e,t,n,i){this.trigger({type:"initAttachmentCmp",data:{form:e,settings:t,resourceConfigs:n,preloadedAttachments:i}})},onUploadAttachment:function(e,t,n,i){var o=a.update({url:a.ENDPOINTS.file_upload_url.replace("{type}",n),data:e,contentType:!1,processData:!1,xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){e.lengthComputable&&i(e.loaded,e.total)},!1),e}});o.then(function(e){var n=e.data;this.trigger({type:"uploadSuccessful",attachmentUrl:n.url,attachmentUuid:n.uuid||n.url,attachedFile:t})}.bind(this)),o[o.fail?"fail":"catch"](function(e){var n=_.flatten(_.values(((e||{}).responseJSON||{}).errors||[]));413===e.status&&n.push(i18n.t("file_too_large_msg")),0===n.length&&n.push(i18n.t("please_retry")),this.trigger({type:"uploadFailed",message:n.join(", "),attachedFile:t})}.bind(this))},onRemoveAttachment:function(e){var t=a.update({url:a.ENDPOINTS.remove_uploaded_file_url.replace("{uuid}",e.uuid),type:"PUT",data:e});t.then(function(e){this.trigger({type:"removeUploadSuccessful"})}.bind(this)),t[t.fail?"fail":"catch"](function(t){var n=_.flatten(_.values(((t||{}).responseJSON||{}).errors||[]));this.trigger({type:"removeUploadFailed",message:n,removedFile:e})}.bind(this))}});e.exports=o},function(e,t,n){var i=n(221);e.exports=function(e,t){var a,o,l,s,r,c,u,d,m,f,h,p,g,v="file",y="link",b=e,w=$(".notification-modal"),M=[],x=[],C=!0;function D(e){var t=0==f.val();s.prop("disabled",t)}function k(e){e.preventDefault(),e.stopPropagation(),r.removeClass("hide"),d.addClass("hide"),f.trigger("focus")}function S(e){e.preventDefault(),e.stopPropagation(),F()}function A(e){e.preventDefault(),e.stopPropagation();var n,i,o,l,s,r,c=$(this).data("link")?y:v;n=i18n.t("remove_attached_file_title"),i=i18n.t("remove_attached_file_message",{attachmentType:c}),o=function(){var e=$(this),n={uuid:e.data("uuid")};if(e.data("link"))L(n,x);else{Y(n);var i={type:a.getResourceType(),uuid:n.uuid,activity_uuid:a.getActivity(),initial_call:C};t.removeAttachment(i)}}.bind(this),r=!1,w.notificationModal({type:"confirmation",title:n||"",body:i||"",class:"blue",done:function(){r=!0},dismiss:function(){r?G(o)():G(l)(),G(s)()}})}function T(e,t){p.val(Math.round(100*e/t)),g.text(i18n.t("upload_status",{loaded:window.commons.displayFileSize(e),total:window.commons.displayFileSize(t)}))}function E(){var e=this.files.item(0);l.val("");var n=new FileReader;n.onload=function(n){var i;!function(e){_.assign(e,{uuid:"_"+Math.random().toString(36).substr(2,9),originalName:j(e.name||""),timestamp:_.now()})}(e),i=_.pick(e,"originalName"),o.validateDuplicateAttachment(i,M,!1)&&N(1)&&function(e){return o.validateFileExtension(e,H,V)}(e)&&function(e){return o.validateTotalSize(e,M,H,V)}(e)&&function(e){M.push(e),U();var n=new FormData,i=B(x,y);n.append("links",JSON.stringify(i)),n.append("initial_call",C),n.append("resource_uuid",a.getResourceUuid()),n.append("activity_uuid",a.getActivity()),n.append("file",e),$("#cover").fadeIn(),p.removeClass("hide"),g.removeClass("hide"),t.uploadAttachment(n,e,a.getResourceType(),T)}(e)},n.readAsDataURL(e)}function I(e){e.preventDefault(),e.stopPropagation();var t,n=(f.val()||"").trim(),i=(h.val()||"").trim(),a={originalName:q(n),label:i};n&&(t=a,o.validateDuplicateAttachment(t,x,!0))&&N(1)&&(function(e,t){_.assign(e,{isLink:!0,uuid:t,name:t,timestamp:_.now()})}(a,n),x.push(a),O(n,n,a,x),F())}function O(e,t,n,i){var a=_.find(i,{uuid:n.uuid});a&&(a.dataUrl=e,a.uuid=t,U())}function P(e){e.preventDefault(),e.stopPropagation();var t=$(this).data("url");t&&commons.openPageInNewTab(function(e){return/^https?:\/\//.test(e)?e:"https://"+e}(t),"_blank","noopener,noreferrer")}function j(e){var t=e.lastIndexOf(".");return e.substring(0,t)+e.substring(t).toLowerCase()}function q(e){var t=e.indexOf("?");return-1===t?e.toLowerCase():e.substring(0,t).toLowerCase()+e.substring(t)}function R(){C=!1}function N(e){return o.validateAttachmentCount(e,M.length+x.length)}function F(){f.val("").trigger("keyup"),h.val(""),r.addClass("hide"),d.removeClass("hide")}function U(){m.html(n(162)({files:_.sortBy(M.concat(x),"timestamp"),canEdit:a.canEdit()},{allowProtoPropertiesByDefault:!0}))}function L(e,t){_.remove(t,{uuid:e.uuid}),U()}function Y(e){L(e,M)}function B(e,t){return _.map(e,function(e){return{uuid:e.uuid,type:t,desc:e.name,label:e.label}})}function z(e,t,n,i){return _.map(e,function(e){return{uuid:e.uuid,type:t,size:1024*e.size*1024,name:e.desc,originalName:i(e.desc),dataUrl:e[n],isLink:t===y,label:e.label}})}function H(){c.addClass("hide"),u.text("")}function V(e){c.removeClass("hide"),u.text(e),setTimeout(H,3e3)}function G(e){return _.isFunction(e)?e:_.noop}_.assign(this,{setupUI:function(){var e,t,i;e=a.canEdit(),t=n(223)({showLinkCmp:e&&a.canShowLink(),showUploadFileCmp:e&&a.canUploadFiles(),files:M.concat(x),canEdit:e,max_size:a.getMaxFileSize()}),b.html(t),l=$('input[type="file"]',b),$(".js-insert-link-btn",b),$(".js-cancel-link-btn",b),s=$(".js-add-link-btn",b),r=$(".js-insert-link-section",b),c=$(".js-attachment-error-block",b),d=$(".js-attachment-btn-section",b),m=$(".js-file-list-container",b),f=$('input[name="attach_link"]',b),h=$('input[name="link_label"]',b),u=c.find(".js-error-msg-block"),p=$("progress",b),g=$(".js-upload-status",b),i=a.getAllowedExtensions(),l.prop({multiple:!1,accept:i.join(", ")}),b.on("change",'input[type="file"]',E).on("keyup",'input[name="attach_link"]',D).on("click",".js-add-link-btn",I).on("click",".js-insert-link-btn",k).on("click",".js-cancel-link-btn",S).on("click",".js-delete-attachment",A).on("click",".js-uploaded-attachment-item",P)},resetInitCall:R,removeFileUrl:Y,clearError:H,showError:V,setFileUrl:function(e,t,n){R(),O(e,t,n,M)},getAttachments:function(){var e=B(M,v).concat(B(x,y));return{attachments:JSON.stringify(e)}},setAttachments:function(e){Array.isArray(e)&&e.length>0&&(e=_.groupBy(e,"type"),x=z(e[y],y,"desc",q),M=z(e[v],v,"url",j),U())},hideProgress:function(){p.val("0").addClass("hide"),g.text("").addClass("hide")},setConfigs:function(e,t){var n=new i(e,t);n.initConfigs(),a=n.getConfigs(),o=n.getValidators()}})}},function(e,t,n){e.exports=function(e,t){var i="briefing_doc_as_link",a="briefing_doc_as_attachment",o="max_no_of_briefing_docs",l="supported_format_of_briefing_docs",s="max_size_of_briefing_docs",r="resourceType",c="resourceUuid",u="activityUuid",d="canEdit",m=$(".notification-modal");function f(e){return this.configs[e]}function h(e,t,n,i,a){if(i=b(i),a=b(a),_.some(t,e)){var o=n?"link":"file",l=i18n.t("exsiting_"+o),s=i18n.t("exsisting_"+o+"_message");return y(l,s,"yellow"),a(s),!1}return i(),!0}function p(e,t,n,i){return n=b(n),i=b(i),n(),!0}function g(e,t,i){t=b(t),i=b(i);var a=this.configs[l],o=e.name||"",s=o.substring(o.lastIndexOf("."));if(-1===a.indexOf(s.toLowerCase())){var r=n(222)(a);return y(i18n.t("unsupported_file_format"),r,"yellow listing-modal",function(){i(i18n.t("unsupported_file_format"))}),!1}return t(),!0}function v(e,t,n,i){return n=b(n),i=b(i),_.sumBy(t,"size")+e.size<=1024*this.configs[s]*1024?(n(),!0):(y(i18n.t("max_size_of_files_exceed_header",{size:this.configs[s]}),i18n.t("max_size_of_files_exceed_message"),"red"),!1)}function y(e,t,n,i){m.notificationModal({type:"notification",title:e||"",body:t||"",class:n||"red",dismiss:b(i)})}function b(e){return _.isFunction(e)?e:_.noop}this.configs={},_.assign(this,{initConfigs:function(){var n=[a,i,o,l,s],r={};_.forEach(n,function(t){var n=e[t];switch(t){case a:case i:r[t]=function(e){return!0===e||"true"===e||"yes"===e}(n);break;case o:case s:r[t]=Number(n);break;case l:"string"==typeof n&&(n=JSON.parse(n)),n instanceof Array?r[t]=n.slice():r[t]=[]}}),_.assign(this.configs,r,t)},getConfigs:function(){return{canShowLink:f.bind(this,i),canUploadFiles:f.bind(this,a),getMaxFileSize:f.bind(this,s),getMaxAttachmentCount:f.bind(this,o),getAllowedExtensions:f.bind(this,l),getResourceUuid:f.bind(this,c),getResourceType:f.bind(this,r),canEdit:f.bind(this,d),getActivity:f.bind(this,u)}},getValidators:function(){return{validateTotalSize:v.bind(this),validateFileExtension:g.bind(this),validateAttachmentCount:p.bind(this),validateDuplicateAttachment:h.bind(this)}}})}},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){return"\t\t\t<li>"+e.escapeExpression(e.lambda(t,t))+"</li>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,i,a,o){var l,s,r=null!=t?t:e.nullContext||{};return'<div class="list-title">'+e.escapeExpression((s=n(0),s&&(s.__esModule?s.default:s)).call(r,"list_of_unsupported_file",{name:"t",hash:{},data:o,loc:{start:{line:1,column:24},end:{line:1,column:56}}}))+'</div>\n<div>\n\t<ul class="list-items">\n'+(null!=(l=i.each.call(r,t,{name:"each",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o,loc:{start:{line:4,column:2},end:{line:6,column:11}}}))?l:"")+"\t</ul>\n</div>"},useData:!0})},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l){var s=null!=t?t:e.nullContext||{},r=e.escapeExpression;return'  <div class="supporting-att-section form-cont js-insert-link-section hide animated fadeInRight">\n    <div class="row">\n      <div class="col-xs-12">\n        <div class="form-group">\n          <label>'+r(a(n(0)).call(s,"insert_link",{name:"t",hash:{},data:l,loc:{start:{line:14,column:17},end:{line:14,column:36}}}))+'</label>\n          <input type="text" name="attach_link" class="form-control" placeholder="'+r(a(n(0)).call(s,"enter_url",{name:"t",hash:{},data:l,loc:{start:{line:15,column:82},end:{line:15,column:99}}}))+'">\n        </div>\n      </div>\n      <div class="col-xs-12">\n        <div class="form-group">\n          <label>'+r(a(n(0)).call(s,"add_the_label_here",{name:"t",hash:{},data:l,loc:{start:{line:20,column:17},end:{line:20,column:43}}}))+'</label>\n          <input type="text" name="link_label" class="form-control link-label-input" placeholder="'+r(a(n(0)).call(s,"enter_text",{name:"t",hash:{},data:l,loc:{start:{line:21,column:98},end:{line:21,column:116}}}))+'">\n        </div>\n      </div>\n      <div class="col-xs-12 text-right">\n        <button disabled class="btn btn-secondary js-add-link-btn pull-right">'+r(a(n(0)).call(s,"save",{name:"t",hash:{},data:l,loc:{start:{line:25,column:78},end:{line:25,column:90}}}))+'</button>\n        <a href="javascript:void(0)" class="btn btn-tertiary cancel js-cancel-link-btn pull-right">'+r(a(n(0)).call(s,"discard",{name:"t",hash:{},data:l,loc:{start:{line:26,column:99},end:{line:26,column:114}}}))+"</a>\n      </div>\n    </div>\n  </div>\n"},3:function(e,t,n,i,a){return'  <div class="js-attachment-btn-section">\n    <div class="row">\n      <div class="col-xs-12">\n        <progress class="hide col-xs-12" value="0" max="100"></progress>\n      </div>\n      <div class="col-xs-12">\n        <span class="js-upload-status hide"></span>\n      </div>\n    </div>\n  </div>\n'},5:function(e,t,i,o,l){return'        <div class="col-xs-6">\n          <div class="form-group">\n            <label class="action btn-submit js-insert-link-btn"><i class="jif-plus-circle-o"></i>'+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"insert_link",{name:"t",hash:{},data:l,loc:{start:{line:48,column:97},end:{line:48,column:116}}}))+"</label>\n          </div>\n        </div>\n"},7:function(e,t,i,o,l){var s=null!=t?t:e.nullContext||{},r=e.escapeExpression;return'      <div class="col-xs-6">\n        <div class="form-group">\n          <label class="action" for="attachments_upload_file"><i class="jif-upload"></i>'+r(a(n(0)).call(s,"upload_a_file",{name:"t",hash:{},data:l,loc:{start:{line:55,column:88},end:{line:55,column:109}}}))+'</label>\n          <input id="attachments_upload_file" class="hide" type="file" title="'+r(a(n(0)).call(s,"upload_a_file",{name:"t",hash:{},data:l,loc:{start:{line:56,column:78},end:{line:56,column:100}}}))+'">\n        </div>\n      </div>\n'},compiler:[8,">= 4.3.0"],main:function(e,t,i,o,l){var s,r=null!=t?t:e.nullContext||{},c=e.escapeExpression;return'<div class="supporting-attachment">\n<label>'+c(a(n(0)).call(r,"briefing_documents",{name:"t",hash:{},data:l,loc:{start:{line:2,column:7},end:{line:2,column:33}}}))+'</label>\n<span class="jn-help-block form-builder-help-block">'+c(a(n(0)).call(r,"briefing_documents_max_limit",{name:"t",hash:{},data:l,loc:{start:{line:3,column:52},end:{line:3,column:88}}}))+'</span>\n<div class="supporting-att-section">\n  <ul class="supp-att-list js-selected-file-list js-file-list-container">\n'+(null!=(s=e.invokePartial(n(162),t,{name:"_file_list_component",data:l,indent:"    ",helpers:i,partials:o,decorators:e.decorators}))?s:"")+"  </ul>\n</div>\n"+(null!=(s=i.if.call(r,null!=t?t.showLinkCmp:t,{name:"if",hash:{},fn:e.program(1,l,0),inverse:e.noop,data:l,loc:{start:{line:9,column:0},end:{line:30,column:7}}}))?s:"")+(null!=(s=i.if.call(r,null!=t?t.showUploadFileCmp:t,{name:"if",hash:{},fn:e.program(3,l,0),inverse:e.noop,data:l,loc:{start:{line:31,column:0},end:{line:42,column:7}}}))?s:"")+'<div class="supporting-att-section js-attachment-btn-section">\n  <div class="row">\n'+(null!=(s=i.if.call(r,null!=t?t.showLinkCmp:t,{name:"if",hash:{},fn:e.program(5,l,0),inverse:e.noop,data:l,loc:{start:{line:45,column:4},end:{line:51,column:11}}}))?s:"")+(null!=(s=i.if.call(r,null!=t?t.showUploadFileCmp:t,{name:"if",hash:{},fn:e.program(7,l,0),inverse:e.noop,data:l,loc:{start:{line:52,column:4},end:{line:59,column:11}}}))?s:"")+'    <div class="supp-att-error-block js-attachment-error-block hide">\n      <div class="col-xs-12">\n        <i class="jif-error"></i>\n        <span class="js-error-msg-block"></span>\n      </div>\n    </div>\n  </div>\n</div>\n</div>'},usePartial:!0,useData:!0})},function(e,t){e.exports=function(e){return"number"==typeof e?" ("+window.commons.displayFileSize(e)+")":""}},function(e,t,n){function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=n(226),l=n(163),s=n(3),r=n(13).MeetingStore,c=n(14).AttendeeStore,u=function(){var e=$(".notification-modal"),t={isMascalRoomSwap:!1,selectedMeeting:null,selected_meeting_uuid:null,swapButtonMountPoint:$("#proceed_page"),swapRoomListMountPoint:$("#roomSwapModal"),swapRoomCancelBtn:$("#swap-room-btn-cancel"),roomListTemplatePath:"Templates/book/swap_room_listing",showNotification:window.ReactMessage.notificationModal||$.fn.notificationModal.bind(e),showConfirmation:$.fn.notificationModal.bind(e),roomListContainer:$("#roomSwapModal").find("#swappable-room-list")},a={renderSwappableRooms:function(e){if(_.isEmpty(e.payload.rooms))t.showNotification({title:i18n.t("no_swappable_rooms"),class:"yellow",body:i18n.t("try_changing_room")});else{var i=n(227);t.roomListContainer.html(i(e.payload)),t.isMascalRoomSwap?($(".jn-c-previewpane--btn").hide(),t.roomListContainer.prev(".jn-c-previewpane__scroll").hide(),t.roomListContainer.removeClass("hide").fadeIn(300)):t.swapRoomListMountPoint.modal({show:!0,backdrop:"static"})}},swapRoomSuccess:function(e){m(),t.showNotification({class:"green",title:i18n.t("swap_room_success_title",{first_name:envDetails.currentUser.first_name}),body:i18n.t("swap_room_success_message"+(t.isMascalRoomSwap?"_mascal":"")),dismiss:function(){var e=s.ENDPOINTS.meeting_list;window.commons.redirectPage(envDetails.urlPrefix+e)}})},swapRoomFailure:function(e){m(),t.showNotification({class:"red",title:i18n.t("swap_room_failure_title"),body:e.payload||i18n.t("swap_room_failure_message"),dismiss:function(){}})}};function u(e){"function"==typeof a[e.action]&&a[e.action](e)}function d(){t.showConfirmation({type:"confirmation",class:"yellow",title:i18n.t("are_you_sure"),body:i18n.t("confirm_swap_room"),done:v,dismiss:m})}function m(){t.swapRoomListMountPoint.modal("hide")}function f(e){var n=$(e.currentTarget).data("uuid"),a=o.getSwapableRoomdata(n);if(c.isJuniorMMorAbove()){var l="",s=function(e){var n="";(function(e){var n,a,o=r.attendeeCount,l=r.selectedRoom.capacity;t.isMascalRoomSwap&&(n=t.selectedMeeting,a=n.users,l=n.room.capacity,o=_.uniq([].concat(i(a.internal),i(a.external),i(a.agenda)),"uuid").length);return!c.getOverRideRoomcapacityPopup()&&(l<e.number_of_attendees||e.room_capacity<o)})(e)&&(n=t.isMascalRoomSwap?i18n.t("swap_room_overide_confirm_inline_message"):i18n.t("override_room_capacity_body"));return n}(a),u=function(e){var n="";h(e)||p(e)?h(e)?p(e)||(n=i18n.t("room_not_mapped",{room:e.room_name,meeting_type:t.isMascalRoomSwap?t.selectedMeeting.activity.display_name:window.meetingInfo.request.activity&&window.meetingInfo.request.activity.display_name})):n=i18n.t("room_not_mapped",{room:t.isMascalRoomSwap?t.selectedMeeting.room.name:r.selectedRoom.name||window.meetingInfo.request.room&&window.meetingInfo.request.room.name,meeting_type:e.meeting_type}):n=i18n.t("both_rooms_unmapped_to_meetings");return n}(a);if(s&&(l=s+"<br>"),u&&(l+=u),l){var d=!1;t.showConfirmation({type:"confirmation",class:"yellow",title:i18n.t("are_you_sure"),body:l,done:function(){d=!0},dismiss:function(){d?s&&c.persistOverRideRoomPopup(d):t.roomListContainer.find(".js-swap_room_with_meeting").prop("checked",!1)}})}}}function h(e){var n=(t.isMascalRoomSwap?t.selectedMeeting.room:r.selectedRoom).activities;if(n&&n.length){var i=_.map(n,"uuid");if("ALL"==i[0])return!0;if(i.indexOf(e.meeting_type_uuid)>-1)return!0}return!1}function p(e){return e.mapped_to_meeting}function g(){t.roomListContainer.html(""),t.swapRoomListMountPoint.find("#errorMsg").text("")}function v(){var e=t.roomListContainer.find('[name="swap_room_with_meeting"]:checked');if(_.isEmpty(e))t.isMascalRoomSwap?t.showNotification({body:i18n.t("select_room_to_swap"),class:"red"}):t.swapRoomListMountPoint.find("#errorMsg").text(i18n.t("select_room_to_swap"));else{var n={toMeeting:e.data("uuid")},i=!1;t.showConfirmation({type:"confirmation",class:"blue",title:i18n.t("send_swap_room_update_ics_title"),body:i18n.t("send_swap_room_update_ics_body"),proceedActionText:"Yes",cancelActionText:"No",done:function(){i=!0},dismiss:function(){n.sendIcs=i,l.swapRoomsWithOtherMeetings(n,"swapRoomSuccess","swapRoomFailure")}})}}function y(e,n){t.swapButtonMountPoint.find(".js-swap-room-btn")[n.isOffsite||n.isMappingEnabledActivity||n.isSFDC?"addClass":"removeClass"]("hide")}function b(e){e.preventDefault(),l.getSwappableRoomList(t.selected_meeting_uuid,"renderSwappableRooms")}return{init:function(e){e&&_.assign(t,e),o.listen(u),t.swapButtonMountPoint.on("room_change",y).on("click",".js-swap-room-btn",b),t.swapRoomListMountPoint.on("click","#swap-room-btn",d).on("hidden.bs.modal",g),t.swapRoomListMountPoint.on("click","#swap-room-btn-cancel",function(){m()}),t.swapRoomListMountPoint.on("click",".js-swap_room_with_meeting",f)},initUiForMascal:function(e){e&&_.assign(t,e)}}}();e.exports=u},function(e,t,n){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=n(163),o=n(3),l=Reflux.createStore({init:function(){this.listenToMany(a),this.swapableRoomList={},this.current_meeting_uuid=null},setSwapableRoomdata:function(e){_.forEach(e.rooms,function(e){this.swapableRoomList[e.meeting_uuid]=e}.bind(this))},getSwapableRoomdata:function(e){return this.swapableRoomList[e]},onGetSwappableRoomList:function(e,t){this.current_meeting_uuid=e||meetingInfo.request.uuid||"";var n=o.fetch({url:o.ENDPOINTS.get_swappable_room_list,data:{meeting_uuid:this.current_meeting_uuid}});n.then(function(e){this.setSwapableRoomdata(e.data),this.trigger({action:t,payload:e.data}),this.trigger({action:"updateFooterActions",data:e.data})}.bind(this)),n[n.fail?"fail":"catch"](function(e){this.trigger({action:t,payload:[]})}.bind(this))},onSwapRoomsWithOtherMeetings:function(e,t,n){var a=o.update({url:o.ENDPOINTS.swap_room_submit,data:{from_meeting_uuid:this.current_meeting_uuid||meetingInfo.request.uuid||"",to_meeting_uuid:e.toMeeting,send_ics:e.sendIcs}});a.then(function(n){this.trigger({action:t,payload:n.data}),this.trigger({action:"renderUserInvitessList",data:this.getSwapableRoomdata(e.toMeeting)})}.bind(this)),a[a.fail?"fail":"catch"](function(e){var t=[];e.responseJSON&&"object"===i(e.responseJSON.errors)&&(t=_.flatten(_.values(e.responseJSON.errors))),this.trigger({action:n,payload:t.join(", ")})}.bind(this))}});e.exports=l},function(e,t,n){var i=n(2);function a(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template({1:function(e,t,i,o,l){var s,r,c=null!=t?t:e.nullContext||{},u=e.hooks.helperMissing,d="function",m=e.escapeExpression;return'  <div class="col-md-12">\n    <label for="meeting-selection-'+m(typeof(r=null!=(r=i.index||l&&l.index)?r:u)===d?r.call(c,{name:"index",hash:{},data:l,loc:{start:{line:4,column:34},end:{line:4,column:44}}}):r)+'">\n      <div class="room-item-list item">\n        <div class="card">\n          <div class="card-header">\n             <div class="card-header-content">\n                <div class="card-select">\n                   <input type="radio" name="swap_room_with_meeting" data-uuid="'+m(typeof(r=null!=(r=i.meeting_uuid||(null!=t?t.meeting_uuid:t))?r:u)===d?r.call(c,{name:"meeting_uuid",hash:{},data:l,loc:{start:{line:10,column:80},end:{line:10,column:96}}}):r)+'" id="meeting-selection-'+m(typeof(r=null!=(r=i.index||l&&l.index)?r:u)===d?r.call(c,{name:"index",hash:{},data:l,loc:{start:{line:10,column:120},end:{line:10,column:130}}}):r)+'" class="js-swap_room_with_meeting">\n                   <label for="meeting-selection-'+m(typeof(r=null!=(r=i.index||l&&l.index)?r:u)===d?r.call(c,{name:"index",hash:{},data:l,loc:{start:{line:11,column:49},end:{line:11,column:59}}}):r)+'">\n                      <div>R</div>\n                   </label>\n                </div>\n                <div class="card-click">\n                  <div class="font-md font-semi-bold">'+m(typeof(r=null!=(r=i.room_name||(null!=t?t.room_name:t))?r:u)===d?r.call(c,{name:"room_name",hash:{},data:l,loc:{start:{line:16,column:54},end:{line:16,column:67}}}):r)+'</div>\n                  <div>\n                    <label class="font-sm">'+m(a(n(0)).call(c,"capacity",{name:"t",hash:{},data:l,loc:{start:{line:18,column:43},end:{line:18,column:59}}}))+'</label>\n                    <span class="font-sm">'+m(typeof(r=null!=(r=i.room_capacity||(null!=t?t.room_capacity:t))?r:u)===d?r.call(c,{name:"room_capacity",hash:{},data:l,loc:{start:{line:19,column:42},end:{line:19,column:59}}}):r)+'</span>\n                  </div>\n                </div>\n             </div>\n          </div>\n          <div class="card-content">\n             <div class="card-detail-content">\n                  <div class="card-detail">\n                    <span class="font-md font-semi-bold"><div>'+m(typeof(r=null!=(r=i.meeting_time_range||(null!=t?t.meeting_time_range:t))?r:u)===d?r.call(c,{name:"meeting_time_range",hash:{},data:l,loc:{start:{line:27,column:62},end:{line:27,column:84}}}):r)+"</div>"+m(typeof(r=null!=(r=i.meeting_time_zone||(null!=t?t.meeting_time_zone:t))?r:u)===d?r.call(c,{name:"meeting_time_zone",hash:{},data:l,loc:{start:{line:27,column:90},end:{line:27,column:111}}}):r)+'</span>\n                    <span class="font-md">'+m(typeof(r=null!=(r=i.meeting_with||(null!=t?t.meeting_with:t))?r:u)===d?r.call(c,{name:"meeting_with",hash:{},data:l,loc:{start:{line:28,column:42},end:{line:28,column:58}}}):r)+'</span>\n                    <span class="font-md"><span class="font-semi-bold">'+m(typeof(r=null!=(r=i.number_of_attendees||(null!=t?t.number_of_attendees:t))?r:u)===d?r.call(c,{name:"number_of_attendees",hash:{},data:l,loc:{start:{line:29,column:71},end:{line:29,column:94}}}):r)+'</span>\n                    <span>&nbsp;Attendee(s)</span>\n                  </div>\n                  <div class="card-detail">\n                    <span class="font-md font-semi-bold">ID #'+m(typeof(r=null!=(r=i.meeting_id||(null!=t?t.meeting_id:t))?r:u)===d?r.call(c,{name:"meeting_id",hash:{},data:l,loc:{start:{line:33,column:61},end:{line:33,column:75}}}):r)+'</span>\n                    <span class="font-md">'+m(typeof(r=null!=(r=i.meeting_type||(null!=t?t.meeting_type:t))?r:u)===d?r.call(c,{name:"meeting_type",hash:{},data:l,loc:{start:{line:34,column:42},end:{line:34,column:58}}}):r)+"</span>\n                    "+(null!=(s=i.if.call(c,null!=t?t.meeting_topic:t,{name:"if",hash:{},fn:e.program(2,l,0),inverse:e.noop,data:l,loc:{start:{line:35,column:20},end:{line:35,column:94}}}))?s:"")+"\n                  </div>\n             </div>\n          </div>\n        </div>\n      </div>\n    </label>\n  </div>\n"},2:function(e,t,n,i,a){var o;return'<span class="font-md">'+e.escapeExpression("function"==typeof(o=null!=(o=n.meeting_topic||(null!=t?t.meeting_topic:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"meeting_topic",hash:{},data:a,loc:{start:{line:35,column:63},end:{line:35,column:80}}}):o)+"</span>"},4:function(e,t,i,o,l){return'    <div class="col-md-12">\n      <div class="room-item-list item">\n        <div class="card">\n          <div class="card-content">\n           <div class="card-detail-content">\n            <div class="card-detail">\n              '+e.escapeExpression(a(n(0)).call(null!=t?t:e.nullContext||{},"no_swappable_rooms",{name:"t",hash:{},data:l,loc:{start:{line:50,column:14},end:{line:50,column:40}}}))+"\n            </div>\n           </div>\n          </div>\n          \n        </div>\n      </div>\n    </div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o;return'<div class="row">\n'+(null!=(o=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.rooms:t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.program(4,a,0),data:a,loc:{start:{line:2,column:2},end:{line:58,column:11}}}))?o:"")+"</div>"},useData:!0})},function(e,t,n){var i=n(9),a=n(10),o=(n(8),n(11)),l=n(24),s=n(76),r=n(88),c=function(){var e={updateMeetingsDropdown:function(e){var t=e.data.meeting;m.find('option[value="'+t.uuid+'"]').replaceWith(x(t)),m.val(t.uuid).trigger("change.select2")},fillMeetingOptions:function(e){m.html(e.data.meetings.map(x)).val(e.data.currentSelection).trigger("change.select2")},warnDifferentDatesBeforeChange:function(e){C(i18n.t("warning_invalid_date_title"),i18n.t("warning_invalid_date_selection"),"yellow"),"function"==typeof e.callback&&e.callback()}},t=window.ReactMessage||$(".notification-modal"),c=$(".notification-modal"),u=$("#meeting-request-container"),d=$("#proceed_page"),m=$("#js-select-consecutive-meeting",d),f=$(".js-meeting-entities"),h=$("#meeting-empty-state"),p=".js-delete-current-meeting",g=$("#topic_management-complement");function v(t){"function"==typeof e[t.type]&&(s.mapBoothTourToPayload(this,t),e[t.type](t))}function y(e){var t=$(this).val();s.highlightMeetingTab(t),o.setTopicDirty(!1),i.editCurrentMeeting(t)}function b(e){e.preventDefault();var t=$(this).data("uuid"),n=a.getMeeting(t);!1===_.isEmpty(n)&&n.getDisplayAttributes().is_editable?(a.setEditCurrentMeetingField(t),i.validateCurrentMeetingProgress({successCallBack:function(){(!g.prop("required")||null!==g.val()&&"-"!==g.val())&&l.isFormValid()&&(w(),o.setTopicDirty(!1),i.editCurrentMeeting.trigger(t),s.changeDeleteIconLabel(n),s.displayTabs(),s.highlightMeetingTab(t))},failureCallBack:C,ignoreDiffDates:!0})):"cancelled"===n.status&&C("",i18n.t("consec_meeting_edit_on_cancel_meeting"))}var w=function(){f.removeClass("hide"),h.addClass("hide")};function M(e){e.preventDefault();var t,n,o,l,s,u=!1,d=a.currMeetingInProgress.getDisplayAttributes(),m=d.mode,f=d.uuid;if("edit"!==m)return t=i18n.t("confirmation_title"),n=i18n.t("".concat(m,"_consecutive_curr_meeting_discard_msg")),o=function(){u=!0},l=$.noop,s=function(){u&&i.discardCurrentMeeting(f)},void c.notificationModal({type:"confirmation",title:t||"",body:n||"",class:"blue",done:o,cancel:l,dismiss:s});r.cancelMeeting({callback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";i.cancelCurrentMeeting(f,e)}})}function x(e){var t=new Option(n(229)(e),e.uuid);return t.setAttribute("title",e.activityName+"\n"+e.timeRange),t}function C(e,n,i,a){t.notificationModal({title:e||"",body:n||"",class:i||"red",dismiss:a||$.noop})}return{init:function(){a.listen(v),u.on("click",".js-edit-current-meeting",b).on("click",p,M),d.on("change","#js-select-consecutive-meeting",y),m.select2({width:"100%",allowClear:!1,data:[],escapeMarkup:function(e){return e}})}}}();e.exports=c},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,n,i,a){var o;return"       "+e.escapeExpression("function"==typeof(o=null!=(o=n.meetingId||(null!=t?t.meetingId:t))?o:e.hooks.helperMissing)?o.call(null!=t?t:e.nullContext||{},{name:"meetingId",hash:{},data:a,loc:{start:{line:4,column:7},end:{line:4,column:20}}}):o)+"&nbsp\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c=e.escapeExpression;return'<div class="js-meeting-dropdown meeting-status '+c("function"==typeof(l=null!=(l=n.status||(null!=t?t.status:t))?l:r)?l.call(s,{name:"status",hash:{},data:a,loc:{start:{line:1,column:47},end:{line:1,column:57}}}):l)+'"></div>\n<div class="activity-name">\n'+(null!=(o=n.if.call(s,null!=t?t.meetingId:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:3,column:3},end:{line:5,column:10}}}))?o:"")+"   "+c("function"==typeof(l=null!=(l=n.activityName||(null!=t?t.activityName:t))?l:r)?l.call(s,{name:"activityName",hash:{},data:a,loc:{start:{line:6,column:3},end:{line:6,column:19}}}):l)+'\n </div>\n<span class="time-range">'+c("function"==typeof(l=null!=(l=n.timeRange||(null!=t?t.timeRange:t))?l:r)?l.call(s,{name:"timeRange",hash:{},data:a,loc:{start:{line:8,column:25},end:{line:8,column:38}}}):l)+"</span>"},useData:!0})},function(e,t,n){var i=n(9),a=n(10),o=n(8),l=n(76),s=function(){var e={onEventSaved:function(e){var n=envDetails.currentUser.first_name,i="created"===e.data.data.record_status?"cons_meeting_creation_success_with_ID":"cons_meeting_updation_success_with_ID";t.notificationModal({title:i18n.t("meeting_notify_success_title",{user_first_name:n}),body:i18n.t(i,{meetingID:e.data.data.meeting_id}),class:"green",dismiss:function(){commons.setItem("eventId",e.data.data.meeting_id),o.redirectPage()}})},onEventSaveFailed:function(e){e=e.data;var n=_.flatten(_.values(e.errors));t.notificationModal({timeout:!0,class:"red",body:n.join(", "),title:e.title||i18n.t("meeting_notify_failure_title")})},invalidDates:function(){e=i18n.t("invalid_date_title"),n=i18n.t("invalid_date_selection"),t.notificationModal({title:e,body:n,class:"red",dismiss:i});var e,n,i}},t=window.ReactMessage||$(".notification-modal"),n=$("#meeting-request-container"),s=$("#proceed_page"),r=$("#requestor-select-complement",n);function c(t){"function"==typeof e[t.type]&&(l.mapBoothTourToPayload.call(this,t),e[t.type](t))}function u(e,t){var n=r.val();a.setMeetingRequestor(n),i.submitConsecutiveMeetings(t.isQuickBook,t.sendIcs)}return{init:function(){a.listen(c),n.on("meetingQuickSave",u),s.on("meetingSave",u)}}}();e.exports=s},function(e,t,n){var i=n(9),a=n(117),o=n(94),l=n(10),s=(n(8),n(76)),r=function(){var e={consecutiveMeetingDetails:function(e){t.removeClass("hide");var i=e.data.consecMeeting||{};c=i.requestor,u=o.setOptions,d=o.showRequestorEmailButton,meetingInfo.request.requestor=c,u({meetingRequestor:c}),d(),n.each(function(e,t){$(t).html(new Option(c.first_name+" "+c.last_name,c.uuid,!0)).trigger("change.select2")}),function(e){e.formRenderer.setValues(e.consecMeeting)}(e.data),a=i.activity,a=a||{},window.selectedActivityName=a.name||"",$(".js-activity-name").html(window.selectedActivityName),r.removeAttr("data-i18n").text(i18n.t("consecutive_meeting_id",{id:i.id})),s.displayTabs(),s.highlightMeetingTab(l.currMeetingInProgress.uuid),s.changeDeleteIconLabel(l.currMeetingInProgress),s.fetchMeetingTypes();var a;var c,u,d},initFetchMeetingDetails:function(){i.getConsecutiveMeetingDetails(envDetails.consecutive_meeting_uuid,$.urlParam("activeMeeting",window.location.search))}},t=(window.ReactMessage||$(".notification-modal"),$("#meeting-request-container"),$("#proceed_page"),$(".js-meeting-entities")),n=$('[id^="requestor-select"]'),r=$(".book-meeting .meeting-id");function c(t){"function"==typeof e[t.type]&&e[t.type](t)}return{init:function(){l.listen(c),"undefined"==typeof jiffle&&meetingNotes.access_note.can_access_note&&a.init({entityUuid:meetingNotes.access_note.uuid,createUrl:meetingNotes.note_urls.create_meetintg_note_url,fetchUrl:meetingNotes.note_urls.fetch_meeting_note_url,mountPoint:"#meeting-notes"}),s.showMeetingProgress()}}}();e.exports=r},function(e,t,n){var i=n(9),a=n(10),o=n(8),l=n(88),s=function(){var e={consecutiveMeetingDetails:function(e){g((e.data.consecMeeting||{}).status)},consecutiveMeetingActions:function(e){r.addClass("hide"),_.forOwn(e.data,function(e,n){r.filter(".js-"+t[n]+"-meeting").removeClass("hide")})},approveSuccess:function(){g("approved"),e=i18n.t("meeting_approve_success_header"),t=i18n.t("meeting_approve_success_message"),i="green",a=v,n.notificationModal({title:e||"",body:t||"",class:i||"red",dismiss:a||$.noop});var e,t,i,a},cancelSuccess:function(){v()},reloadPage:function(){window.location.href=window.location.href+(-1!==window.location.search.indexOf("?")?"&":"?")+$.param({activeMeeting:meetingInfo.request.uuid})}},t={approve_all_url:"approve-all",cancel_all_url:"cancel-all"},n=window.ReactMessage||$(".notification-modal"),s=($(".notification-modal"),$("#proceed_page")),r=$(".js-consecutive-meeting-actions"),c=$(".js-consecutive-meeting.meeting-status"),u=$(".js-consecutive-approved-text");function d(t){"function"==typeof e[t.type]?e[t.type](t):"function"==typeof e[t.action]&&e[t.action](t)}function m(e,t){i.updateCurrentMeetingStatus(t)}function f(){i.approveConsecutiveMeetings()}function h(e,t){g(t)}function p(){l.cancelMeeting({callback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";i.cancelConsecutiveMeetings(e)},cancelAll:!0})}function g(e){e&&(c.removeClass("pending cancelled approved").addClass(e),u.text(e),"approved"===e&&r.filter(".js-approve-all-meeting").addClass("hide"))}function v(){o.redirectPage()}return{init:function(){a.listen(d),s.on("meetingStatusChanged",m).on("consecutiveMeeitngStatusChange",h).on("click",".js-approve-all-meeting",f).on("click",".js-cancel-all-meeting",p)}}}();e.exports=s},function(e,t,n){function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],i=!0,a=!1,o=void 0;try{for(var l,s=e[Symbol.iterator]();!(i=(l=s.next()).done)&&(n.push(l.value),!t||n.length!==t);i=!0);}catch(e){a=!0,o=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var o=n(142),l=n(141),s=n(234),r=n(15),c=(n(11),function(){var e,t,a,c=$("#participation-start-time"),u=$("#participation-end-time"),d=$("#submit_partial_participation"),m=$("#participation_modal"),f=$(".notification-modal"),h=$(".js-partial-participation-label"),p=$(".edit-btn"),g=".js-participation-form",v={attendeeDetailsPath:null,eventStartDate:null,eventEndDate:null,submitAction:null,meetingUuid:null},y={onSetPartialParticipation:function(e){f.notificationModal({type:"notification",title:i18n.t("participation_updated_title_message"),body:e.message});var t=v.attendeeDetailsPath(),n=_.reduce(e.user_participation,function(e,t,n){return e.uuid=n,e.partial_start_time=r.convertDateTimeServerToTime(t.partial_start_time),e.partial_end_time=r.convertDateTimeServerToTime(t.partial_end_time),e},{}),i=_.find(t,{uuid:n.uuid});i.partial_start_time=n.partial_start_time,i.partial_end_time=n.partial_end_time},onCheckAvailabilityComplete:function(t){var n=c.val(),i=u.val();"available"===t?(m.modal("hide"),o[v.submitAction](e,n,i,v.eventStartDate())):$("#general-error-message").html(i18n.t("attendee_time_unavailable")).removeClass("hide")},onCheckAvailabilityFailed:function(){$("#general-error-message").html(i18n.t("availability_check_failed")).removeClass("show")}};function b(t){w();var n=r.jsDateToDateFormat(v.eventStartDate()),i="".concat(n," ").concat(c.val()),l="".concat(n," ").concat(u.val());a.form()&&o.checkAvailability(e,v.meetingUuid(),i,l)}function w(){a&&a.reset(),$(g+" .error-class").remove(),$("#general-error-message").empty().addClass("hide"),$(".form-group",g).removeClass("has-error")}function M(t){e=$(this).data("uuid"),e=_.isEmpty(e)?window.envDetails.currentUser.uuid:e;var n=_.find(v.attendeeDetailsPath(),{uuid:e}),o=i(function(e){if(e.partial_start_time&&e.partial_end_time)var t=e.partial_start_time,n=e.partial_end_time;else var t=r.jsDateToTime(v.eventStartDate()),n=r.jsDateToTime(v.eventEndDate());return[t,n]}(n),2),l=o[0],d=o[1];w(),$(g).data("validator",null),a=s(v.eventStartDate(),v.eventEndDate()),c.val(l),u.val(d),h.text(i18n.t("partial_participation_modal_body",{user_name:n.user_name})),m.modal();var f,y=!0===n.edit_partial_participation;f=!y,p.toggleClass("hide",f),$([c.get(0),u.get(0)]).prop("disabled",f)}return{init:function(e){!function(e){switch(v.meetingUuid=function(){return meetingInfo.request.uuid},e.path){case"book_meeting":t=n(11),v.attendeeDetailsPath=function(){return t.model.internal},v.eventStartDate=function(){return t.model.event.start_date},v.eventEndDate=function(){if(!function(e,t){var n=meetingInfo.request.meeting_break_settings;if("yes"!==n.meeting_break_enabled)return!1;var i=moment.duration(moment(t).diff(moment(e))).asMinutes(),a=Number(n.meeting_break_meeting_duration);return i>=a}(t.model.event.start_date,t.model.event.end_date))return t.model.event.end_date;var e=Number(meetingInfo.request.meeting_break_settings.meeting_break_duration),n=moment(t.model.event.end_date);return n.subtract(e,"minutes").toDate()},v.submitAction="setPartialTime";break;case"book_meeting_view":v.attendeeDetailsPath=function(){return window.meetingInfo.request.users.internal},v.eventStartDate=function(){return r.convertDateTimeServerToJsDate(meetingInfo.request.start_time)},v.eventEndDate=function(){var e=moment(r.convertDateTimeServerToJsDate(meetingInfo.request.end_time));return e.subtract(meetingInfo.request.meeting_break.meeting_break_duration,"minutes").toDate()},v.submitAction="sendPartialTime"}}(e),$(".selected-attendee-list").on("click",".attendee_participation",M),$(".participation-meeting").on("click",M),d.on("click",b),$(g).on("change",".js-time-input",function(){$("#general-error-message").empty().addClass("hide")}),l.listen(function(e){var t=y[e.type];t&&t(e.data)})}}}());e.exports=c},function(e,t,n){var i=n(15);$.validator.addMethod("timeformat",function(e,t){return(e=(e||"").trim())&&/^((1[0-2]|0?[0-9]):([0-5][0-9]) ([AaPp][Mm]))$/.test(e)},i18n.t("invalid_time_format")),$.validator.addMethod("timeBetween",function(e,t,n){e=(e||"").trim();var a=i.jsDateToDateFormat(n.startTime),o=moment(a+" "+e,"YYYY-MM-DD hh:mm A"),l=moment(n.startTime,"hh:mm A"),s=moment(n.endTime,"hh:mm A");return o.isSameOrAfter(l)&&o.isSameOrBefore(s)},i18n.t("select_time_between_meeting_time")),$.validator.addMethod("timeEqual",function(e,t,n){return(e=(e||"").trim())!==($(n.otherInput).val()||"")},i18n.t("start_end_time_cannot_be_same")),$.validator.addMethod("validTime",function(e,t,n){e=(e||"").trim();var i=$(n.thatInput).val()||"",a=moment(i,"hh:mm A");return moment(e,"hh:mm A")["is"+n.mode](a)},i18n.t("start_after_end_time"));e.exports=function(e,t){return $(".js-participation-form").validate({focusCleanup:!0,errorClass:"help-block error-class",rules:{"participation-start-time":{required:!0,timeformat:"[name='participation-start-time']",timeBetween:{startTime:e,endTime:t},timeEqual:{otherInput:"#participation-end-time"}},"participation-end-time":{required:!0,timeformat:"[name='participation-end-time']",timeBetween:{startTime:e,endTime:t},timeEqual:{otherInput:"#participation-start-time"},validTime:{thatInput:"#participation-start-time",mode:"After"}}}})}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,a=(i=!window.envDetails.enableRoomInterimBlock||"view"===window.mode||window.mappingEnabled||window.envDetails.isConsecutiveMeeting?void 0:(new Date).getTime(),function(e){var t;return null===(t=e)||"function"==typeof t||Array.isArray(t)||"object"!==n(t)||(e.block_token=i),e});e.exports=a},function(e,t){var n=window.$("#meet-details");function i(e){window.location.hash="targetId_".concat(window.$(e.target).attr("href").substr(1))}e.exports={init:function(){var e;n.on("shown.bs.tab",i),(e=window.location.hash.replace("targetId_",""))&&n.find('a[href="'.concat(e,'"]')).tab("show")}}},function(e,t){var n=$(".notification-modal"),i=function(){var e=$("#header"),t=$("#navigation"),i={previous:"meeting_request"},a={meeting_request:"meeting_request_1"};function o(e,t){return JSON.stringify(e)===JSON.stringify(t)}function l(e){return o(e,i)}function s(e){var t=e.currentTarget.href;e.target.classList.contains("help-guide")||null===t.match(/^\s*(http|https)/)||(e.preventDefault(),r(function(){commons.redirectPage(t)}))}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$.noop,i=!1;n.notificationModal({title:i18n.t("user_navigation_title"),class:"blue",type:"confirmation",body:i18n.t("user_navigation_body"),done:function(){i=!0},dismiss:function(){i?e():t()}})}function c(){l(u())?window.history.back():window.history.go(-2)}function u(){return window.history.state}return{init:function(){if(window.history.length>1){var n=u();null===n?(window.history.replaceState(i,"",null),window.history.pushState(a,"",null)):o(n,i)&&window.history.forward(),window.onpopstate=function(e){var t=e.state;l(t)&&r(c,function(){var e=u();l(e)&&window.history.forward()})}}e.on("click","a",s),t.on("click","a",s)},isHistoryEnabled:function(){return!!window.history}}}();e.exports=i},function(e,t,n){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=n(144),s=n(13).MeetingStore,r=n(11),c=n(8),u=n(12),d=n(14).AttendeeStore,m=n(239),f=n(164),h=n(165),p=n(131),g=function(){var e=$("#meeting-request-container"),t=$("#proceed_page"),i=$("#internal-attendees-tab").find(".attendees-list"),o=window.ReactMessage||$(".notification-modal"),g=null,v=null,y=!1;function b(e){if(e.preventDefault(),e.stopPropagation(),!m.getModel("authInProgress")&&window.envDetails.enableVconLink&&!C()){var t=$("option:selected",this).val(),n=m.getModel("meeting").requestorUUID;if(t&&t!==n){var i=w.find(".js-vcon-options").select2("data")[0]||{},o=i.user_based_auth,l=void 0===o?void 0:o,s=i.text;void 0!==l&&!0===l&&(x(t,s),m.setModel("authInitiatedFrom","requestorDropdown"))}else void 0===t&&m.setModel("meeting",a(a({},m.getModel("meeting")),{requestorUUID:null}))}}var w=$(".js-vcon-link-section");function M(){if(!m.getModel("authInProgress")&&window.envDetails.enableVconLink){var e=w.find(".js-vcon-options").select2("data")[0]||{},t=e.user_based_auth,n=void 0===t?void 0:t,a=e.integration_name,o=e.adapter_name;if(I(a),o)if("AddLink"!==o&&n){var s;if(C()){var c=d.getInternalResult();if(null===c)return void(y=!0);if(y=!1,c&&!c.items.length)return;var u=$(".selected-attendee",i).find(".attendee-item.meeting-host").first().data("uuid");if(!u)return;s=u}else s=$(window.briefing_uuid?"#requestor-select":"#requestor-select-complement").val();var f=r.getModelData("vcon");f&&f[o]&&f.hostJnUuid===s?l.handleVconOptionChange(a):(x(s,a),m.setModel("authInitiatedFrom","vconDropdown"))}else l.handleVconOptionChange(a),m.setModel("authInitiatedFrom","vconDropdown")}}function x(e,t){m.setModel("meeting",{requestorUUID:e,selectedIntegration:t}),m.setModel("authInProgress",!0);var n=window.envDetails.event.uuid;p.CheckRequestorAuthorizedForVCon(n,e,t)}function C(){var e=window.meetingInfo;return e.request&&(!0===e.request.isExternalRequest||!_.isEmpty(e.external_request_uuid)||!_.isEmpty(e.inbound_request_uuid))}function D(e){o.notificationModal({timeout:!0,class:"red",body:e,title:"Error"})}function k(){var e=r.getModelData("vcon");_.isEmpty(e)?(w.find(".js-vcon-options").val(null).trigger("change"),w.find(".vcon-detail").addClass("hide").html(""),$(T).addClass("hide").html("")):(w.find(".js-vcon-options").val(e.conference_name).trigger("change"),l.handleVconOptionChange(e.conference_name),I(e.conference_name))}function S(){var e,t=m.getModel("authInitiatedFrom");"vconDropdown"===t?k():"requestorDropdown"===t&&(e=m.getModel("previousRequestor").uuid,g.select2("val",e),v.select2("val",e),m.setModel("meeting",a(a({},m.getModel("meeting")),{requestorUUID:e})))}var A=n(240),T=$(".selected-vcon",t);function E(){var e=m.getModel("meeting"),t=e.requestorUUID,n=e.selectedIntegration;h.authenticateUser(t,n)}function I(e){c.setSelectedVConInStore(e),u.reRenderInternalAttendeeList()}var O={onConferenceFailed:function(){S()},onConferenceCreateSuccess:function(){var e=m.getModel("meeting").requestorUUID;m.setModel("previousRequestor",{uuid:e})}},P={VConAuthorizationResponseSuccess:function(n){var i,a,o,s,c=n.data,u=c.user_authorized,d=c.integration_name,h=c.company_name,p=m.getModel("authInitiatedFrom");"vconDropdown"!==p&&"requestorDropdown"!==p||(u?(o=d,s=!1,"new"===window.mode&&(s=!0),l.handleVconOptionChange(o,s)):(i=m.getModel("meeting").requestorUUID,a=window.envDetails.currentUser.uuid,i&&a&&i===a?(function(n,i){var a=A({companyName:n,integrationName:i});w.find(".vcon-detail").removeClass("hide").html("").html(a),$("#vcon-authorize-button",e).on("click",E);var o=(0,r.getCustomLabels)().custom_labels,l=(o=void 0===o?{}:o).video_conference_label,s=A({companyName:n,integrationName:i,vconLabel:l,proceedPage:!0});$(T).removeClass("hide").html("").html(s),$("#vcon-authorize-button",t).on("click",E)}(h,d),!0===f.getModel("authAttempted")&&(D(i18n.t("error_failed_to_authorize")),f.setModel("authAttempted",!1))):(S(),function(e){D(C()?i18n.t("user_unauthorized_error_meeting_host",{integrationName:e}):i18n.t("user_unauthorized_error_requestor",{integrationName:e}))}(d)))),m.setModel("authInProgress",!1)},VConAuthorizationResponseFailure:function(e){S(),m.setModel("authInProgress",!1),f.setModel("authAttempted",!1),function(e){if(0!==e.status){var t=[];e=e.responseJSON||e,_.forEach(e.errors,function(e){t.push(e)}),o.notificationModal({timeout:!0,class:"red",title:i18n.t("failure"),body:e.message,errors:{details:{__warning__:e.message}}})}}(e)}},j={internal:function(){y&&M()}};function q(){var n;n=function(e){return function(t){if(t.type){var n=e[t.type];"function"==typeof n&&n(t.data)}}},f.listen(n(P)),s.listen(n(O)),d.listen(n(j)),g=$("#requestor-select-complement",e),v=$("#requestor-select",t),g.on("change",b),v.on("change",b),w.on("change","form.vcon-details-form .js-vcon-options",M)}function R(){var e;e=null,"new"===window.mode?e=_.head(window.meetingInfo.requestors)[1]:"edit"===window.mode&&(e=window.meetingInfo.request.requestor.uuid),m.setModel("previousRequestor",{uuid:e}),m.setModel("meeting",{selectedIntegration:"",requestorUUID:e})}return{init:function(){q(),R()}}}();e.exports=g},function(e,t){var n=Reflux.createStore({init:function(){this.model={previousRequestor:{uuid:""},meeting:{selectedIntegration:"",requestorUUID:""},authInitiatedFrom:null,authInProgress:!1}},getModel:function(e){return e?this.model[e]:this.model},setModel:function(e,t){this.model[e]=t}});e.exports=n},function(e,t,n){var i=n(2);e.exports=(i.default||i).template({1:function(e,t,i,a,o){var l,s,r=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,u=e.escapeExpression;return'<div class="selected-title">\n    <div class="selected-title-left"><i class="jif-video jif-16"></i> '+u("function"==typeof(l=null!=(l=i.vconLabel||(null!=t?t.vconLabel:t))?l:c)?l.call(r,{name:"vconLabel",hash:{},data:o,loc:{start:{line:3,column:70},end:{line:3,column:83}}}):l)+"</div>\n    <div>\n        <a href=\"javascript:void(0)\" class='go-to-main'>"+u((s=n(0),s&&(s.__esModule?s.default:s)).call(r,"change_room",{name:"t",hash:{},data:o,loc:{start:{line:5,column:56},end:{line:5,column:75}}}))+'</a>\n    </div>\n</div>\n\n<div style="display: flex;align-items: center;padding: 10px 10px 0;">\n    <i class="jif-logo-'+u("function"==typeof(l=null!=(l=i.integrationName||(null!=t?t.integrationName:t))?l:c)?l.call(r,{name:"integrationName",hash:{},data:o,loc:{start:{line:10,column:23},end:{line:10,column:42}}}):l)+'" style="height: 16px;width: 16px;margin-right: 7px;"></i>\n    <div class="font-14">'+u("function"==typeof(l=null!=(l=i.integrationName||(null!=t?t.integrationName:t))?l:c)?l.call(r,{name:"integrationName",hash:{},data:o,loc:{start:{line:11,column:25},end:{line:11,column:44}}}):l)+' Meeting</div>\n</div>\n<div style="padding: 0 22px;">\n'},3:function(e,t,n,i,a){return"</div>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,i,a){var o,l,s=null!=t?t:e.nullContext||{},r=e.hooks.helperMissing,c="function",u=e.escapeExpression;return(null!=(o=n.if.call(s,null!=t?t.proceedPage:t,{name:"if",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:14,column:11}}}))?o:"")+'\n    <div class="font-12 padding-10">\n        The '+u(typeof(l=null!=(l=n.companyName||(null!=t?t.companyName:t))?l:r)===c?l.call(s,{name:"companyName",hash:{},data:a,loc:{start:{line:17,column:12},end:{line:17,column:27}}}):l)+" "+u(typeof(l=null!=(l=n.integrationName||(null!=t?t.integrationName:t))?l:r)===c?l.call(s,{name:"integrationName",hash:{},data:a,loc:{start:{line:17,column:28},end:{line:17,column:47}}}):l)+" integration allows your account to generate a "+u(typeof(l=null!=(l=n.integrationName||(null!=t?t.integrationName:t))?l:r)===c?l.call(s,{name:"integrationName",hash:{},data:a,loc:{start:{line:17,column:94},end:{line:17,column:113}}}):l)+'\n        meeting in\n        JiffleNow.\n    </div>\n    <div class="font-12 padding-10">\n        You must click <span class="font-semi-bold">Connect to</span>&nbsp;'+u(typeof(l=null!=(l=n.integrationName||(null!=t?t.integrationName:t))?l:r)===c?l.call(s,{name:"integrationName",hash:{},data:a,loc:{start:{line:22,column:75},end:{line:22,column:94}}}):l)+" to authenticate with your\n        "+u(typeof(l=null!=(l=n.companyName||(null!=t?t.companyName:t))?l:r)===c?l.call(s,{name:"companyName",hash:{},data:a,loc:{start:{line:23,column:8},end:{line:23,column:23}}}):l)+' account\n    </div>\n    <div class="padding-10">\n        <button class="btn blue-btn font-13" id="vcon-authorize-button">Connect to '+u(typeof(l=null!=(l=n.integrationName||(null!=t?t.integrationName:t))?l:r)===c?l.call(s,{name:"integrationName",hash:{},data:a,loc:{start:{line:26,column:83},end:{line:26,column:102}}}):l)+"</button>\n    </div>\n\n"+(null!=(o=n.if.call(s,null!=t?t.proceedPage:t,{name:"if",hash:{},fn:e.program(3,a,0),inverse:e.noop,data:a,loc:{start:{line:29,column:4},end:{line:31,column:7}}}))?o:"")},useData:!0})},function(e,t,n){var i=n(242),a=n(166),o=function(){var e={handleExternalRequestHandler:function(e){var t=e.payload;delete t.requestors,window.meetingInfo=_.merge({},window.meetingInfo,t);var n=scheduler.date.str_to_date("%m-%d-%Y %H:%i");meetingInfo.request.start_time=n(meetingInfo.request.start_time),meetingInfo.request.end_time=n(meetingInfo.request.end_time),"function"==typeof e.callBack&&(meetingInfo.request.isExternalRequest=!0,e.callBack.call())}};function t(t){"function"==typeof e[t.action]&&e[t.action](t)}return{init:function(e,n){i.listen(t),a.getExternalRequestDetails(e,"handleExternalRequestHandler",n),function(e){(envDetails.isCSM()||envDetails.isMeetingManager())&&($(".external_request_url").removeClass("hide"),$(".external_request_url").find("a").attr("href",envDetails.urlPrefix+"/external_request_view/"+e))}(e)}}}();e.exports=o},function(e,t,n){var i=n(166),a=n(3),o=Reflux.createStore({init:function(){this.listenToMany(i)},onGetExternalRequestDetails:function(e,t,n){a.fetch({url:a.ENDPOINTS.get_external_req_details.replace("{uuid}",e)}).then(function(e){this.trigger({action:t,payload:e.data,callBack:n})}.bind(this))}});e.exports=o}]);